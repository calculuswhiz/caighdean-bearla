import{r as $r,j as or}from"./index-BsFjHZ1S.js";function sr(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ar(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var X=s.default;if(typeof X=="function"){var xe=function Pe(){var fe=!1;try{fe=this instanceof Pe}catch{}return fe?Reflect.construct(X,arguments,this.constructor):X.apply(this,arguments)};xe.prototype=X.prototype}else xe={};return Object.defineProperty(xe,"__esModule",{value:!0}),Object.keys(s).forEach(function(Pe){var fe=Object.getOwnPropertyDescriptor(s,Pe);Object.defineProperty(xe,Pe,fe.get?fe:{enumerable:!0,get:function(){return s[Pe]}})}),xe}const lr="modulepreload",ur=function(s,X){return new URL(s,X).href},tr={},zt=function(X,xe,Pe){let fe=Promise.resolve();if(xe&&xe.length>0){let W=function(Me){return Promise.all(Me.map(Ue=>Promise.resolve(Ue).then(Ie=>({status:"fulfilled",value:Ie}),Ie=>({status:"rejected",reason:Ie}))))};const Se=document.getElementsByTagName("link"),ke=document.querySelector("meta[property=csp-nonce]"),ye=ke?.nonce||ke?.getAttribute("nonce");fe=W(xe.map(Me=>{if(Me=ur(Me,Pe),Me in tr)return;tr[Me]=!0;const Ue=Me.endsWith(".css"),Ie=Ue?'[rel="stylesheet"]':"";if(!!Pe)for(let ze=Se.length-1;ze>=0;ze--){const te=Se[ze];if(te.href===Me&&(!Ue||te.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Me}"]${Ie}`))return;const Ye=document.createElement("link");if(Ye.rel=Ue?"stylesheet":lr,Ue||(Ye.as="script"),Ye.crossOrigin="",Ye.href=Me,ye&&Ye.setAttribute("nonce",ye),document.head.appendChild(Ye),Ue)return new Promise((ze,te)=>{Ye.addEventListener("load",ze),Ye.addEventListener("error",()=>te(new Error(`Unable to preload CSS for ${Me}`)))})}))}function Xe(Se){const ke=new Event("vite:preloadError",{cancelable:!0});if(ke.payload=Se,window.dispatchEvent(ke),!ke.defaultPrevented)throw Se}return fe.then(Se=>{for(const ke of Se||[])ke.status==="rejected"&&Xe(ke.reason);return X().catch(Xe)})},rr=(s,X,xe)=>{const Pe=s[X];return Pe?typeof Pe=="function"?Pe():Promise.resolve(Pe):new Promise((fe,Xe)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(Xe.bind(null,new Error("Unknown variable dynamic import: "+X+(X.split("/").length!==xe?". Note that variables only represent file names one level deep.":""))))})};/**
 * @license Asciidoctor.js 3.0.4 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function(s){var X;if(typeof globalThis<"u"?s=globalThis:typeof global<"u"?s=global:typeof window<"u"&&(s=window),s.console==null&&(s.console={}),typeof s.console=="object"?X=s.console:X={},"log"in X||(X.log=function(){}),"warn"in X||(X.warn=X.log),typeof s.Opal<"u")return X.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),s.Opal;var xe,Pe,fe,Xe,Se,ke,ye,W=s.Opal={};W.global=s,W.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var Me=Function.prototype.call,Ue=Function.prototype.bind,Ie=Object.hasOwn||Me.bind(Object.prototype.hasOwnProperty),He=Object.setPrototypeOf,Ye=Me.bind(Array.prototype.slice),ze=Me.bind(Array.prototype.splice),te=4,qe=te;function Je(){return qe+=2,qe}W.uid=Je,W.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&$e(f,"$$id",Je()),f.$$id)};var Le=W.gvars={};W.exit=function(f){Le.DEBUG&&X.log("Exited with status "+f)},W.exceptions=[],W.pop_exception=function(){var f=W.exceptions.pop();f?(Le["!"]=f,Le["@"]=f.$backtrace()):Le["!"]=Le["@"]=xe};function Ae(f,w){if(f||(f=W.Exception||Error),ye&&ye.$raise)arguments.length>2?ye.$raise(f.$new.apply(f,Ye(arguments,1))):ye.$raise(f,w);else throw f.$new?f.$new(w):new f(w)}function $e(f,w,Z){typeof f=="string"?f[w]=Z:Object.defineProperty(f,w,{value:Z,enumerable:!1,configurable:!0,writable:!0})}W.prop=$e,W.defineProperty=W.prop,W.slice=Ye;var pe=W.truthy=function(f){return f!==!1&&xe!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};W.falsy=function(f){return!pe(f)},W.type_error=function(f,w,Z,de){f=f.$$class,de&&Z?(de=de.$$class,Ae(W.TypeError,"can't convert "+f+" into "+w+" ("+f+"#"+Z+" gives "+de+")")):Ae(W.TypeError,"no implicit conversion of "+f+" into "+w)},W.coerce_to=function(f,w,Z,de){var je;return Z==="to_int"&&w===W.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):Z==="to_str"&&w===W.String&&f.$$is_string||W.is_a(f,w)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(je=f[_t(Z)],(je==null||je.$$stub)&&W.type_error(f,w),je.apply(f,de)):(f["$respond_to?"](Z)||W.type_error(f,w),de==null&&(de=[]),W.send(f,Z,de))},W.respond_to=function(f,w,Z){if(f==null||!f.$$class)return!1;Z=!!Z;var de=f[w];if(f["$respond_to?"].$$pristine){if(typeof de=="function"&&!de.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return W.send(f,f["$respond_to_missing?"],[w.substr(1),Z])}else return W.send(f,f["$respond_to?"],[w.substr(1),Z])},W.trace_class=!1,W.tracers_for_class=[];function ae(f){var w,Z,de;for(w=0,Z=W.tracers_for_class.length;w<Z;w++)de=W.tracers_for_class[w],de.trace_object=f,de.block.$call(de)}function Fe(f,w){if(f.$$autoload[w].loaded){if(f.$$autoload[w].loaded&&!f.$$autoload[w].required&&f.$$autoload[w].exception)throw f.$$autoload[w].exception}else{f.$$autoload[w].loaded=!0;try{W.Kernel.$require(f.$$autoload[w].path)}catch(Z){throw f.$$autoload[w].exception=Z,Z}if(f.$$autoload[w].required=!0,f.$$const[w]!=null)return f.$$autoload[w].success=!0,f.$$const[w]}}function ne(f,w){if(f){if(f.$$const[w]!=null)return f.$$const[w];if(f.$$autoload&&f.$$autoload[w])return Fe(f,w)}}function me(f,w){var Z,de,je;if(f.length!==0)for(Z=0,de=f.length;Z<de;Z++){if(je=f[Z].$$const[w],je!=null)return je;if(f[Z].$$autoload&&f[Z].$$autoload[w])return Fe(f[Z],w)}}function Q(f,w){var Z,de,je;if(f!=null)for(je=tt(f),Z=0,de=je.length;Z<de;Z++){if(je[Z].$$const&&Ie(je[Z].$$const,w))return je[Z].$$const[w];if(je[Z].$$autoload&&je[Z].$$autoload[w])return Fe(je[Z],w)}}function p(f,w){if(f==null||f.$$is_module)return Q(fe,w)}function oe(f,w){return(f||fe).$const_missing(w)}W.const_get_local=function(f,w,Z){var de;if(f!=null)return f==="::"&&(f=fe),!f.$$is_module&&!f.$$is_class&&Ae(W.TypeError,f.toString()+" is not a class/module"),de=ne(f,w),de!=null||Z?de:oe(f,w)},W.const_get_qualified=function(f,w,Z){var de,je,nt,e=W.const_cache_version;if(w==null)return de=ne(fe,f),de??W.const_get_qualified(fe,f,Z);if(f!=null)return f==="::"&&(f=fe),!f.$$is_module&&!f.$$is_class&&Ae(W.TypeError,f.toString()+" is not a class/module"),(je=f.$$const_cache)==null&&($e(f,"$$const_cache",Object.create(null)),je=f.$$const_cache),nt=je[w],nt==null||nt[0]!==e?((de=ne(f,w))!=null||(de=Q(f,w))!=null,je[w]=[e,de]):de=nt[1],de!=null||Z?de:oe(f,w)},W.const_cache_version=1,W.const_get_relative=function(f,w,Z){var de=f[0],je,nt=W.const_cache_version,e,U;return(e=f.$$const_cache)==null&&($e(f,"$$const_cache",Object.create(null)),e=f.$$const_cache),U=e[w],U==null||U[0]!==nt?((je=ne(de,w))!=null||(je=me(f,w))!=null||(je=Q(de,w))!=null||(je=p(de,w))!=null,e[w]=[nt,je]):je=U[1],je!=null||Z?je:oe(de,w)};function T(f,w,Z){var de=!0;return(f==null||f==="::")&&(f=fe),Z.$$is_a_module&&((Z.$$name==null||Z.$$name===xe)&&(Z.$$name=w),Z.$$base_module==null&&(Z.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(w in f.$$const||"$$autoload"in f&&w in f.$$autoload)&&(de=!1),f.$$const[w]=Z,f.$$=f.$$const,W.const_cache_version++,f===fe&&(W[w]=Z),$e(f,w,Z),de&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(w),Z}W.const_set=T,W.constants=function(f,w){w==null&&(w=!0);var Z,de=[f],je,nt,e={},U;for(w&&(de=de.concat(tt(f))),w&&f.$$is_module&&(de=de.concat([W.Object]).concat(tt(W.Object))),je=0,nt=de.length;je<nt&&(Z=de[je],!(f!==fe&&Z==fe));je++){for(U in Z.$$const)e[U]=!0;if(Z.$$autoload)for(U in Z.$$autoload)e[U]=!0}return Object.keys(e)},W.const_remove=function(f,w){if(W.const_cache_version++,f.$$const[w]!=null){var Z=f.$$const[w];return delete f.$$const[w],Z}if(f.$$autoload&&f.$$autoload[w])return delete f.$$autoload[w],xe;Ae(W.NameError,"constant "+f+"::"+f.$name()+" not defined")},W.const_get_relative_factory=function(f){return function(w,Z){return W.$$(f,w,Z)}},W.$$=W.const_get_relative,W.$$$=W.const_get_qualified,W.$r=W.const_get_relative_factory;function V(f,w,Z){var de;if(w!=null&&w.$$bridge?de=function(){var U=Ye(arguments),M=new(Ue.apply(w.$$constructor,[null].concat(U)));return He(M,de.$$prototype),M}:de=function(){},f&&f!==xe&&$e(de,"displayName","::"+f),$e(de,"$$name",f),$e(de,"$$constructor",de),$e(de,"$$prototype",de.prototype),$e(de,"$$const",{}),$e(de,"$$is_class",!0),$e(de,"$$is_a_module",!0),$e(de,"$$super",w),$e(de,"$$cvars",{}),$e(de,"$$own_included_modules",[]),$e(de,"$$own_prepended_modules",[]),$e(de,"$$ancestors",[]),$e(de,"$$ancestors_cache_version",null),$e(de,"$$subclasses",[]),$e(de.$$prototype,"$$class",de),W.Class&&He(de,W.Class.prototype),w!=null){if(He(de.$$prototype,w.$$prototype),Z!==!0)if(typeof WeakRef<"u"){var je,nt,e=[];for(je=0;je<w.$$subclasses.length;je++)nt=w.$$subclasses[je],nt.deref()!==void 0&&e.push(nt);e.push(new WeakRef(de)),w.$$subclasses=e}else w.$$subclasses.push(de);w.$$meta&&W.build_class_singleton_class(de)}return de}W.allocate_class=V;function N(f,w){var Z=ne(f,w);if(Z)return Z.$$is_class||Ae(W.TypeError,w+" is not a class"),Z}function Ce(f,w){f.$$super!==w&&Ae(W.TypeError,"superclass mismatch for class "+f.$$name)}W.klass=function(f,w,Z){var de;f==null||f=="::"?f=fe:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),w!=null&&(!w.hasOwnProperty||w.hasOwnProperty&&!w.hasOwnProperty("$$is_class"))&&(w.constructor&&w.constructor.name=="Function"?(de=w,w=fe):Ae(W.TypeError,"superclass must be a Class ("+(w.constructor&&(w.constructor.name||w.constructor.$$name)||typeof w)+" given)"));var je=N(f,Z);return je!=null?w&&Ce(je,w):(w==null&&(w=fe),je=V(Z,w),T(f,Z,je),w.$inherited&&w.$inherited(je),de&&W.bridge(de,je)),W.trace_class&&ae(je),je};function re(f){var w=function(){},Z=w;return f&&$e(w,"displayName",f+".constructor"),$e(Z,"$$name",f),$e(Z,"$$prototype",w.prototype),$e(Z,"$$const",{}),$e(Z,"$$is_module",!0),$e(Z,"$$is_a_module",!0),$e(Z,"$$cvars",{}),$e(Z,"$$iclasses",[]),$e(Z,"$$own_included_modules",[]),$e(Z,"$$own_prepended_modules",[]),$e(Z,"$$ancestors",[Z]),$e(Z,"$$ancestors_cache_version",null),He(Z,W.Module.prototype),Z}W.allocate_module=re;function L(f,w){var Z=ne(f,w);return Z==null&&f===fe&&(Z=Q(fe,w)),Z&&!Z.$$is_module&&Z!==fe&&Ae(W.TypeError,w+" is not a module"),Z}W.module=function(f,w){var Z;return f==null||f=="::"?f=fe:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),Z=L(f,w),Z==null&&(Z=re(w),T(f,w,Z)),W.trace_class&&ae(Z),Z},W.get_singleton_class=function(f){return f.$$is_number&&Ae(W.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?W.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?W.build_module_singleton_class(f):W.build_object_singleton_class(f)};function d(f,w){f.hasOwnProperty("$$meta")?f.$$meta=w:$e(f,"$$meta",w),f.$$frozen?f.$$meta.$freeze():He(f,w.$$prototype)}W.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var w=f===Pe?Se:W.get_singleton_class(f.$$super),Z=V(null,w,!0);return $e(Z,"$$is_singleton",!0),$e(Z,"$$singleton_of",f),d(f,Z),$e(f,"$$class",W.Class),Z},W.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var w=V(null,W.Module,!0);return $e(w,"$$is_singleton",!0),$e(w,"$$singleton_of",f),d(f,w),$e(f,"$$class",W.Module),w},W.build_object_singleton_class=function(f){var w=f.$$class,Z=V(xe,w,!0);return $e(Z,"$$is_singleton",!0),$e(Z,"$$singleton_of",f),delete Z.$$prototype.$$class,d(f,Z),Z},W.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},W.instance_methods=function(f){for(var w=[],Z=[],de=tt(f),je=0,nt=de.length;je<nt;je++){var e=de[je],U=e.$$prototype;U.hasOwnProperty("$$dummy")&&(U=U.$$define_methods_on);for(var M=Object.getOwnPropertyNames(U),q=0,G=M.length;q<G;q++){var u=M[q];if(W.is_method(u)){var R=u.slice(1),we=U[u];we.$$stub&&w.indexOf(R)===-1&&w.push(R),!we.$$stub&&Z.indexOf(R)===-1&&w.indexOf(R)===-1&&Z.push(R)}}}return Z},W.own_instance_methods=function(f){var w=[],Z=f.$$prototype;Z.hasOwnProperty("$$dummy")&&(Z=Z.$$define_methods_on);for(var de=Object.getOwnPropertyNames(Z),je=0,nt=de.length;je<nt;je++){var e=de[je];if(W.is_method(e)){var U=Z[e];if(!U.$$stub){var M=e.slice(1);w.push(M)}}}return w},W.methods=function(f){return W.instance_methods(f.$$meta||f.$$class)},W.own_methods=function(f){return f.$$meta?W.own_instance_methods(f.$$meta):[]},W.receiver_methods=function(f){var w=W.get_singleton_class(f),Z=W.own_instance_methods(w),de=W.own_instance_methods(w.$$super);return Z.concat(de)},W.class_variables=function(f){var w=tt(f),Z,de=w.length,je={};for(Z=de-1;Z>=0;Z--){var nt=w[Z];for(var e in nt.$$cvars)je[e]=nt.$$cvars[e]}return je},W.class_variable_set=function(f,w,Z){var de=tt(f),je,nt=de.length;for(je=nt-2;je>=0;je--){var e=de[je];if(Ie(e.$$cvars,w))return e.$$cvars[w]=Z,Z}return f.$$cvars[w]=Z,Z},W.class_variable_get=function(f,w,Z){if(Ie(f.$$cvars,w))return f.$$cvars[w];var de=tt(f),je,nt=de.length;for(je=0;je<nt;je++){var e=de[je];if(Ie(e.$$cvars,w))return e.$$cvars[w]}return Z||Ae(W.NameError,"uninitialized class variable "+w+" in "+f.$name()),xe};function i(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var w=[],Z,de=Object.getPrototypeOf(f.$$prototype);de&&!de.hasOwnProperty("$$class");)Z=P(de),Z&&w.push(Z),de=Object.getPrototypeOf(de);return w}function n(f){var w=[],Z,de=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;de&&de!==f.$$prototype.$$define_methods_on;)Z=P(de),Z&&w.push(Z),de=Object.getPrototypeOf(de);return w}W.append_features=function(f,w){var Z=tt(f),de=[];Z.indexOf(w)!==-1&&Ae(W.ArgumentError,"cyclic include detected");for(var je=0,nt=Z.length;je<nt;je++){var e=Z[je],U=o(e);$e(U,"$$included",!0),de.push(U)}var M=tt(w),q=y(de),G,u;if(M.indexOf(f)===-1)G=w.$$prototype,u=Object.getPrototypeOf(w.$$prototype);else{for(var R=w.$$prototype,we=Object.getPrototypeOf(R);we!=null&&!(we.$$module===f&&i(we));)R=we,we=Object.getPrototypeOf(we);if(we){for(var I=Object.getPrototypeOf(we);I.hasOwnProperty("$$iclass")&&!i(I);)I=Object.getPrototypeOf(I);G=R,u=I}else G=w.$$prototype,u=Object.getPrototypeOf(w.$$prototype)}He(G,q.first),He(q.last,u),w.$$own_included_modules=r(w),W.const_cache_version++},W.prepend_features=function(f,w){var Z=tt(f),de=[];Z.indexOf(w)!==-1&&Ae(W.ArgumentError,"cyclic prepend detected");for(var je=0,nt=Z.length;je<nt;je++){var e=Z[je],U=o(e);$e(U,"$$prepended",!0),de.push(U)}var M=y(de),q=w.$$prototype,G=Object.getPrototypeOf(q),u,R,we;q.hasOwnProperty("$$dummy")?u=q.$$define_methods_on:(u=g(w),$(w),$e(q,"$$dummy",!0),$e(q,"$$define_methods_on",u),He(q,u),He(u,G));var I=tt(w);if(I.indexOf(f)===-1)for(R=q,we=Object.getPrototypeOf(q);we!=null&&!(we.hasOwnProperty("$$root")||we===u||!we.hasOwnProperty("$$iclass"));)we=Object.getPrototypeOf(we);else Ae(W.RuntimeError,"Prepending a module multiple times is not supported");He(R,M.first),He(M.last,we),w.$$own_prepended_modules=n(w),W.const_cache_version++};function $(f){for(var w=f.$$prototype,Z=Object.getOwnPropertyNames(w),de=0;de<Z.length;de++){var je=Z[de];W.is_method(je)&&delete w[je]}}function o(f){var w=g(f);return f.$$is_module&&f.$$iclasses.push(w),w}function g(f){var w={},Z=f.$$prototype;Z.hasOwnProperty("$$dummy")&&(Z=Z.$$define_methods_on);var de=Object.getOwnPropertyNames(Z),je=de.length,nt;for(nt=0;nt<je;nt++){var e=de[nt];$e(w,e,Z[e])}return $e(w,"$$iclass",!0),$e(w,"$$module",f),w}function y(f){var w=f.length,Z=f[0];if($e(Z,"$$root",!0),w===1)return{first:Z,last:Z};for(var de=Z,je=1;je<w;je++){var nt=f[je];He(de,nt),de=nt}return{first:f[0],last:f[w-1]}}W.bridge=function(f,w){f.hasOwnProperty("$$bridge")&&Ae(W.ArgumentError,"already bridged"),$e(f,"$$bridge",w),He(f.prototype,(w.$$super||W.Object).$$prototype),$e(w,"$$prototype",f.prototype),$e(w.$$prototype,"$$class",w),$e(w,"$$constructor",f),$e(w,"$$bridge",!0)};function P(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function be(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function tt(f){if(!f)return[];if(f.$$ancestors_cache_version===W.const_cache_version)return f.$$ancestors;var w=[],Z,de,je;for(Z=0,de=be(f),je=de.length;Z<je;Z++)w.push(de[Z]);if(f.$$super)for(Z=0,de=tt(f.$$super),je=de.length;Z<je;Z++)w.push(de[Z]);return f.$$ancestors_cache_version=W.const_cache_version,f.$$ancestors=w,w}W.ancestors=tt,W.included_modules=function(f){for(var w=[],Z=null,de=Object.getPrototypeOf(f.$$prototype);de&&Object.getPrototypeOf(de);de=Object.getPrototypeOf(de))Z=P(de),Z&&Z.$$is_module&&de.$$iclass&&de.$$included&&w.push(Z);return w},W.add_stubs=function(f){var w=W.BasicObject.$$prototype,Z,de;f=f.split(",");for(var je=0,nt=f.length;je<nt;je++)Z=_t(f[je]),de=w[Z],(de==null||de.$$stub)&&W.add_stub_for(w,Z)},W.add_stub_for=function(f,w){$e(f,w,W.stub_for(w))},W.stub_for=function(f){function w(){this.$method_missing.$$p=w.$$p,w.$$p=null;for(var Z=new Array(arguments.length),de=0,je=Z.length;de<je;de++)Z[de]=arguments[de];return this.$method_missing.apply(this,[f.slice(1)].concat(Z))}return w.$$stub=!0,w},W.ac=function(f,w,Z,de){var je="";Z.$$is_a_module?je+=Z.$$name+".":je+=Z.$$class.$$name+"#",je+=de,Ae(W.ArgumentError,"["+je+"] wrong number of arguments (given "+f+", expected "+w+")")},W.block_ac=function(f,w,Z){var de="`block in "+Z+"'";Ae(W.ArgumentError,de+": wrong number of arguments (given "+f+", expected "+w+")")};function ot(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?tt(f.$$meta):tt(f.$$class)}W.find_super=function(f,w,Z,de,je){var nt=_t(w),e,U;e=ot(f);for(var M=e.indexOf(Z.$$owner),q=M+1;q<e.length;q++){var G=e[q],u=G.$$prototype;if(u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on),u.hasOwnProperty(nt)){U=u[nt];break}}return!de&&U&&U.$$stub&&f.$method_missing.$$pristine&&Ae(W.NoMethodError,"super: no superclass method `"+w+"' for "+f,w),U.$$stub&&!je?null:U},W.find_block_super=function(f,w,Z,de,je){var nt=w;return Z||Ae(W.RuntimeError,"super called outside of method"),je&&Z.$$define_meth&&Ae(W.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),Z.$$def&&(nt=Z.$$jsid),W.find_super(f,nt,Z,de)},W.find_super_dispatcher=W.find_super,W.find_iter_super_dispatcher=W.find_block_super,W.yield1=function(f,w){typeof f!="function"&&Ae(W.LocalJumpError,"no block given");var Z=f.$$has_top_level_mlhs_arg,de=f.$$has_trailing_comma_in_args;return(f.length>1||(Z||de)&&f.length===1)&&(w=W.to_ary(w)),(f.length>1||de&&f.length===1)&&w.$$is_array?f.apply(null,w):f(w)},W.yieldX=function(f,w){if(typeof f!="function"&&Ae(W.LocalJumpError,"no block given"),f.length>1&&w.length===1&&w[0].$$is_array)return f.apply(null,w[0]);if(!w.$$is_array){for(var Z=new Array(w.length),de=0,je=Z.length;de<je;de++)Z[de]=w[de];return f.apply(null,Z)}return f.apply(null,w)},W.rescue=function(f,w){for(var Z=0;Z<w.length;Z++){var de=w[Z];if(de.$$is_array){var je=W.rescue(f,de);if(je)return je}else if(de===W.JS.Error||de["$==="](f))return de}return null},W.is_a=function(f,w){if(w!=null&&f.$$meta===w||f.$$class===w)return!0;if(f.$$is_number&&w.$$is_number_class)return w.$$is_integer_class?f%1===0:!0;var Z=tt(f.$$is_class?W.get_singleton_class(f):f.$$meta||f.$$class);return Z.indexOf(w)!==-1},W.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var w=f.$to_hash();if(w.$$is_hash)return w;Ae(W.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+w.$$class+")")}else Ae(W.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},W.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var w=f.$to_ary();if(w===xe)return[f];if(w.$$is_array)return w;Ae(W.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+w.$$class+")")}else return[f]},W.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var w=f.$to_a();if(w===xe)return[f];if(w.$$is_array)return w;Ae(W.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+w.$$class+")")}else return[f]},W.extract_kwargs=function(f){var w=f[f.length-1];if(w!=null&&W.respond_to(w,"$to_hash",!0))return ze(f,f.length-1),w},W.kwrestargs=function(f,w){var Z=[],de={},je,nt=f.$$smap;for(je in nt)w[je]||(Z.push(je),de[je]=nt[je]);return W.hash2(Z,de)};function lt(f,w){typeof w=="number"?f.$$arity=w:typeof w=="object"&&Object.assign(f,w)}var vt={};function _t(f){return vt[f]||(vt[f]="$"+f)}W.jsid=_t,W.send=function(f,w,Z,de,je){var nt;return typeof w=="function"?(nt=w,w=null):typeof w=="string"?nt=f[_t(w)]:Ae(W.NameError,"Passed method should be a string or a function"),W.send2(f,nt,w,Z,de,je)},W.send2=function(f,w,Z,de,je,nt){return w==null&&Z!=null&&f.$method_missing&&(w=f.$method_missing,de=[Z].concat(de)),lt(je,nt),typeof je=="function"&&(w.$$p=je),w.apply(f,de)},W.refined_send=function(f,w,Z,de,je,nt){var e,U,M,q,G,u,R,we,I,ce;for(q=ot(w),e=0;e<q.length;e++)for(G=W.id(q[e]),U=0;U<f.length;U++)for(u=f[U],M=u.length-1;M>=0;M--)if(R=u[M],!(typeof R.$$refine_modules>"u")&&(we=R.$$refine_modules,!(typeof we[G]>"u")&&(I=we[G],typeof I.$$prototype[_t(Z)]<"u")))return ce=I.$$prototype[_t(Z)],W.send2(w,ce,Z,de,je,nt);return W.send(w,Z,de,je,nt)},W.lambda=function(f,w){return f.$$is_lambda=!0,lt(f,w),f},W.def=function(f,w,Z,de){return lt(Z,de),f===W.top?W.defn(W.Object,w,Z):!f.$$eval&&f.$$is_a_module?W.defn(f,w,Z):W.defs(f,w,Z)},W.defn=function(f,w,Z){gt(f),Z.displayName=w,Z.$$owner=f;var de=w.substr(1),je=f.$$prototype;if(je.hasOwnProperty("$$dummy")&&(je=je.$$define_methods_on),$e(je,w,Z),f.$$is_module){f.$$module_function&&W.defs(f,w,Z);for(var nt=0,e=f.$$iclasses,U=e.length;nt<U;nt++){var M=e[nt];$e(M,w,Z)}}var q=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!q?f.$method_added(de):q&&q.$singleton_method_added&&!q.$singleton_method_added.$$stub&&q.$singleton_method_added(de),de},W.defs=function(f,w,Z,de){return lt(Z,de),(f.$$is_string||f.$$is_number)&&Ae(W.TypeError,"can't define singleton"),W.defn(W.get_singleton_class(f),w,Z)},W.rdef=function(f,w){Ie(f.$$prototype,w)||Ae(W.NameError,"method '"+w.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[w],f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(w.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(w.substr(1))},W.udef=function(f,w){(!f.$$prototype[w]||f.$$prototype[w].$$stub)&&Ae(W.NameError,"method '"+w.substr(1)+"' not defined in "+f.$name()),W.add_stub_for(f.$$prototype,w),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(w.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(w.substr(1))};function bt(f){return typeof f=="function"&&!f.$$stub}W.alias=function(f,w,Z){var de=_t(w),je=_t(Z),nt,e;if(typeof f.$$prototype>"u"&&(f=W.Object),nt=f.$$prototype[je],f.$$eval)return W.alias(W.get_singleton_class(f),w,Z);if(!bt(nt)){for(var U=f.$$super;typeof nt!="function"&&U;)nt=U[je],U=U.$$super;!bt(nt)&&f.$$is_module&&(nt=W.Object.$$prototype[je]),bt(nt)||Ae(W.NameError,"undefined method `"+Z+"' for class `"+f.$name()+"'")}nt.$$alias_of&&(nt=nt.$$alias_of),e=function(){var M=e.$$p,q,G,u;for(q=new Array(arguments.length),G=0,u=arguments.length;G<u;G++)q[G]=arguments[G];return e.$$p=null,W.send(this,nt,q,M)};try{Object.defineProperty(e,"length",{value:nt.length})}catch{}return e.displayName=w,e.$$arity=nt.$$arity==null?nt.length:nt.$$arity,e.$$parameters=nt.$$parameters,e.$$source_location=nt.$$source_location,e.$$alias_of=nt,e.$$alias_name=w,W.defn(f,de,e),f},W.alias_gvar=function(f,w){return Object.defineProperty(Le,f,{configurable:!0,enumerable:!0,get:function(){return Le[w]},set:function(Z){Le[w]=Z}}),xe},W.alias_native=function(f,w,Z){var de=_t(w),je=f.$$prototype[Z];return(typeof je!="function"||je.$$stub)&&Ae(W.NameError,"undefined native method `"+Z+"' for class `"+f.$name()+"'"),W.defn(f,de,je),f},W.hash_init=function(f){f.$$smap=Object.create(null),f.$$map=Object.create(null),f.$$keys=[]},W.hash_clone=function(f,w){w.$$none=f.$$none,w.$$proc=f.$$proc;for(var Z=0,de=f.$$keys,je=f.$$smap,nt=de.length,e,U;Z<nt;Z++)e=de[Z],e.$$is_string?U=je[e]:(U=e.value,e=e.key),W.hash_put(w,e,U)},W.hash_put=function(f,w,Z){if(w.$$is_string){Ie(f.$$smap,w)||f.$$keys.push(w),f.$$smap[w]=Z;return}var de,je,nt;if(de=f.$$by_identity?W.id(w):w.$hash(),!Ie(f.$$map,de)){je={key:w,key_hash:de,value:Z},f.$$keys.push(je),f.$$map[de]=je;return}for(je=f.$$map[de];je;){if(w===je.key||w["$eql?"](je.key)){nt=void 0,je.value=Z;break}nt=je,je=je.next}nt&&(je={key:w,key_hash:de,value:Z},f.$$keys.push(je),nt.next=je)},W.hash_get=function(f,w){if(w.$$is_string)return Ie(f.$$smap,w)?f.$$smap[w]:void 0;var Z,de;if(Z=f.$$by_identity?W.id(w):w.$hash(),Ie(f.$$map,Z))for(de=f.$$map[Z];de;){if(w===de.key||w["$eql?"](de.key))return de.value;de=de.next}},W.hash_delete=function(f,w){var Z,de=f.$$keys,je=de.length,nt,e;if(w.$$is_string){if(typeof w!="string"&&(w=w.valueOf()),!Ie(f.$$smap,w))return;for(Z=0;Z<je;Z++)if(e=de[Z],e.$$is_string&&typeof e!="string"&&(e=e.valueOf()),e===w){de.splice(Z,1);break}return nt=f.$$smap[w],delete f.$$smap[w],nt}var U=w.$hash();if(Ie(f.$$map,U))for(var M=f.$$map[U],q;M;){if(w===M.key||w["$eql?"](M.key)){for(nt=M.value,Z=0;Z<je;Z++)if(de[Z]===M){de.splice(Z,1);break}return q&&M.next?q.next=M.next:q?delete q.next:M.next?f.$$map[U]=M.next:delete f.$$map[U],nt}q=M,M=M.next}},W.hash_rehash=function(f){for(var w=0,Z=f.$$keys.length,de,je,nt;w<Z;w++)if(!f.$$keys[w].$$is_string&&(de=f.$$keys[w].key.$hash(),de!==f.$$keys[w].key_hash)){for(je=f.$$map[f.$$keys[w].key_hash],nt=void 0;je;){if(je===f.$$keys[w]){nt&&je.next?nt.next=je.next:nt?delete nt.next:je.next?f.$$map[f.$$keys[w].key_hash]=je.next:delete f.$$map[f.$$keys[w].key_hash];break}nt=je,je=je.next}if(f.$$keys[w].key_hash=de,!Ie(f.$$map,de)){f.$$map[de]=f.$$keys[w];continue}for(je=f.$$map[de],nt=void 0;je;){if(je===f.$$keys[w]){nt=void 0;break}nt=je,je=je.next}nt&&(nt.next=f.$$keys[w])}},W.hash=function(){var f=arguments.length,w,Z,de,je,nt,e;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(Z=new W.Hash,W.hash_init(Z),f===1)if(w=arguments[0],arguments[0].$$is_array){for(je=w.length,de=0;de<je;de++)w[de].length!==2&&Ae(W.ArgumentError,"value not of length 2: "+w[de].$inspect()),nt=w[de][0],e=w[de][1],W.hash_put(Z,nt,e);return Z}else{w=arguments[0];for(nt in w)Ie(w,nt)&&(e=w[nt],W.hash_put(Z,nt,e));return Z}for(f%2!==0&&Ae(W.ArgumentError,"odd number of arguments for Hash"),de=0;de<f;de+=2)nt=arguments[de],e=arguments[de+1],W.hash_put(Z,nt,e);return Z},W.hash2=function(f,w){var Z=new W.Hash;return Z.$$smap=w,Z.$$map=Object.create(null),Z.$$keys=f,Z},W.range=function(f,w,Z){var de=new W.Range;return de.begin=f,de.end=w,de.excl=Z,de};var pt=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];W.ivar=function(f){return pt.indexOf(f)!==-1&&(f+="$"),f};function gt(f){f.$$frozen&&Ae(W.FrozenError,"can't modify frozen "+f.$class()+": "+f,W.hash2(["receiver"],{receiver:f}))}W.deny_frozen_access=gt,W.freeze=function(f){return $e(f,"$$frozen",!0),f.hasOwnProperty("$$id")||$e(f,"$$id",Je()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():$e(f,"$$meta",null),f.hasOwnProperty("$$comparable")||$e(f,"$$comparable",null),Object.seal(f),f},W.freeze_props=function(f){var w,Z,de;for(w in f)Z=typeof w,!((Z==="string"||Z==="object")&&w[0]==="$")&&(de=Object.getOwnPropertyDescriptor(f,w),de&&de.enumerable&&de.writable&&function(){var je=f[w];Object.defineProperty(f,w,{get:function(){return je},set:function(nt){gt(f)},enumerable:!0})}())},W.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},W.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},W.global_multiline_regexp=function(f){var w,Z;return f.global&&f.multiline?f:(Z="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,Z)),w=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,Z)),w=f.$$gm),w.lastIndex=null,w)},W.regexp=function(f,w){for(var Z,de=typeof w<"u"&&w&&w.indexOf("i")>=0,je=0,nt=f.length;je<nt;je++)Z=f[je],Z instanceof RegExp&&(Z.ignoreCase!==de&&W.Kernel.$warn("ignore case doesn't match for "+Z.source.$inspect(),W.hash({uplevel:1})),Z=Z.source),Z===""&&(Z="(?:"+Z+")"),f[je]=Z;return w?new RegExp(f.join(""),w):new RegExp(f.join(""))},W.modules={},W.loaded_features=["corelib/runtime"],W.current_dir=".",W.require_table={"corelib/runtime":!0},W.normalize=function(f){var w,Z,de=[],je="/";W.current_dir!=="."&&(f=W.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),w=f.split(je);for(var nt=0,e=w.length;nt<e;nt++)Z=w[nt],Z!==""&&(Z===".."?de.pop():de.push(Z));return de.join(je)},W.loaded=function(f){var w,Z,de;for(w=0,Z=f.length;w<Z;w++)de=W.normalize(f[w]),!W.require_table[de]&&(W.loaded_features.push(de),W.require_table[de]=!0)},W.load_normalized=function(f){W.loaded([f]);var w=W.modules[f];if(w){var Z=w(W);if(typeof Promise<"u"&&Z instanceof Promise)return Z.then(ge(!0))}else{var de=W.config.missing_require_severity,je="cannot load such file -- "+f;de==="error"?Ae(W.LoadError,je):de==="warning"&&X.warn("WARNING: LoadError: "+je)}return!0},W.load=function(f){return f=W.normalize(f),W.load_normalized(f)},W.require=function(f){return f=W.normalize(f),W.require_table[f]?!1:W.load_normalized(f)},W.encodings=Object.create(null),W.set_encoding=function(f,w,Z){typeof Z>"u"&&(Z="encoding"),(typeof f=="string"||f.$$frozen===!0)&&Ae(W.FrozenError,"can't modify frozen String");var de=W.find_encoding(w);return de===f[Z]||(f[Z]=de),f},W.find_encoding=function(f){var w=W.encodings,Z=w[f]||w[f.toUpperCase()];return Z||Ae(W.ArgumentError,"unknown encoding name - "+f),Z},W.enc=function(f,w){var Z=new String(f);return Z=W.set_encoding(Z,w),Z.internal_encoding=Z.encoding,Z},W.binary=function(f){var w=new String(f);return W.set_encoding(w,"binary","internal_encoding")},W.last_promise=null,W.promise_unhandled_exception=!1,W.queue=function(f){if(W.last_promise)return W.last_promise=W.last_promise.then(function(){if(!W.promise_unhandled_exception)return f(W)}).catch(function(Z){W.respond_to(Z,"$full_message")&&(Z=Z.$full_message()),X.error(Z),W.promise_unhandled_exception=!0,W.exit(1)}),W.last_promise;var w=f(W);return typeof Promise=="function"&&typeof w=="object"&&w instanceof Promise&&(W.last_promise=w),w};function mt(f,w){return typeof f=="number"&&typeof w=="number"}W.rb_plus=function(f,w){return mt(f,w)?f+w:f["$+"](w)},W.rb_minus=function(f,w){return mt(f,w)?f-w:f["$-"](w)},W.rb_times=function(f,w){return mt(f,w)?f*w:f["$*"](w)},W.rb_divide=function(f,w){return mt(f,w)?f/w:f["$/"](w)},W.rb_lt=function(f,w){return mt(f,w)?f<w:f["$<"](w)},W.rb_gt=function(f,w){return mt(f,w)?f>w:f["$>"](w)},W.rb_le=function(f,w){return mt(f,w)?f<=w:f["$<="](w)},W.rb_ge=function(f,w){return mt(f,w)?f>=w:f["$>="](w)};function Qe(f,w){return typeof f=="number"&&typeof w=="number"||typeof f=="string"&&typeof w=="string"}function le(f,w){return Qe(f,w)?f===w:pe(f["$=="](w))}W.eqeq=le,W.eqeqeq=function(f,w){return Qe(f,w)?f===w:pe(f["$==="](w))},W.neqeq=function(f,w){return Qe(f,w)?f!==w:pe(f["$!="](w))},W.not=function(f){return f==null||f===!1||xe===f?!0:f===!0||f["$!"].$$pristine?!1:pe(f["$!"]())};function ge(f){return function(){return f}}W.return_val=ge,W.return_self=function(){return this},W.return_ivar=function(f){return function(){return this[f]==null?xe:this[f]}},W.assign_ivar=function(f){return function(w){return gt(this),this[f]=w}},W.assign_ivar_val=function(f,w){return function(){return gt(this),this[f]=w}},W.ensure_kwargs=function(f){if(f==null)return W.hash2([],{});if(f.$$is_hash)return f;Ae(W.ArgumentError,"expected kwargs")},W.get_kwarg=function(f,w){return Ie(f.$$smap,w)||Ae(W.ArgumentError,"missing keyword: "+w),f.$$smap[w]},W.large_array_unpack=function(f){var w=f.split(","),Z=w.length,de;for(de=0;de<Z;de++)switch(w[de][0]){case void 0:w[de]=xe;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w[de]=+w[de]}return w},W.BasicObject=Pe=V("BasicObject",null),W.Object=fe=V("Object",W.BasicObject),W.Module=Xe=V("Module",W.Object),W.Class=Se=V("Class",W.Module),W.Opal=ke=re("Opal"),W.Kernel=ye=re("Kernel"),He(W.BasicObject,W.Class.$$prototype),He(W.Object,W.Class.$$prototype),He(W.Module,W.Class.$$prototype),He(W.Class,W.Class.$$prototype),Pe.$$const.BasicObject=Pe,T(fe,"BasicObject",Pe),T(fe,"Object",fe),T(fe,"Module",Xe),T(fe,"Class",Se),T(fe,"Opal",ke),T(fe,"Kernel",ye),Pe.$$class=Se,fe.$$class=Se,Xe.$$class=Se,Se.$$class=Se,ke.$$class=Xe,ye.$$class=Xe,$e(fe.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),$e(fe.$$prototype,"$require",W.require),W.top=new fe,W.top.$to_s=W.top.$inspect=ge("main"),W.top.$define_method=De;function De(){var f=Ye(arguments),w=De.$$p;return De.$$p=null,W.send(fe,"define_method",f,w)}W.NilClass=V("NilClass",W.Object),T(fe,"NilClass",W.NilClass),xe=W.nil=new W.NilClass,xe.$$id=te,xe.call=xe.apply=function(){Ae(W.LocalJumpError,"no block given")},xe.$$frozen=!0,xe.$$comparable=!1,Object.seal(xe),W.thrower=function(f){var w=new Error("unexpected "+f);return w.$thrower_type=f,w.$throw=function(Z){throw Z==null&&(Z=xe),w.$v=Z,w},w},W.t_eval_return=W.thrower("return"),TypeError.$$super=Error,W.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(s){var X=s.type_error,xe=s.coerce_to,Pe=s.module,fe=s.defs,Xe=s.slice,Se=s.eqeqeq,ke=s.Kernel,ye=s.truthy,W=s.Opal,Me=s.nil,Ue=s.$$$;return s.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Ie){var He=Pe(Ie,"Opal");fe(He,"$bridge",function(te,qe){return s.bridge(te,qe)}),fe(He,"$coerce_to!",function(te,qe,Je,Le){var Ae,$e,pe=Me;return Ae=Xe(arguments,3),$e=Ae,pe=xe(te,qe,Je,$e),Se(qe,pe)||ke.$raise(X(te,qe,Je,pe)),pe},-4),fe(He,"$coerce_to?",function(te,qe,Je,Le){var Ae,$e,pe=Me;return Ae=Xe(arguments,3),$e=Ae,!ye(te["$respond_to?"](Je))||(pe=xe(te,qe,Je,$e),ye(pe["$nil?"]()))?Me:(Se(qe,pe)||ke.$raise(X(te,qe,Je,pe)),pe)},-4),fe(He,"$try_convert",function(te,qe,Je){return Se(qe,te)?te:ye(te["$respond_to?"](Je))?te.$__send__(Je):Me}),fe(He,"$compare",function(te,qe){var Je=Me;return Je=te["$<=>"](qe),ye(Je===Me)&&ke.$raise(Ue("ArgumentError"),"comparison of "+te.$class()+" with "+qe.$class()+" failed"),Je}),fe(He,"$destructure",function(te){if(te.length==1)return te[0];if(te.$$is_array)return te;for(var qe=new Array(te.length),Je=0,Le=qe.length;Je<Le;Je++)qe[Je]=te[Je];return qe}),fe(He,"$respond_to?",function(te,qe,Je){return Je==null&&(Je=!1),te==null||!te.$$class?!1:te["$respond_to?"](qe,Je)},-3),fe(He,"$instance_variable_name!",function(te){return te=W["$coerce_to!"](te,Ue("String"),"to_str"),ye(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(te))||ke.$raise(Ue("NameError").$new("'"+te+"' is not allowed as an instance variable name",te)),te}),fe(He,"$class_variable_name!",function(te){return te=W["$coerce_to!"](te,Ue("String"),"to_str"),ye(te.length<3||te.slice(0,2)!=="@@")&&ke.$raise(Ue("NameError").$new("`"+te+"' is not allowed as a class variable name",te)),te}),fe(He,"$const_name?",function(te){return typeof te!="string"&&(te=W["$coerce_to!"](te,Ue("String"),"to_str")),te[0]===te[0].toUpperCase()}),fe(He,"$const_name!",function(te){var qe=this;return ye(Ue("::","String","skip_raise")?"constant":Me)&&(te=W["$coerce_to!"](te,Ue("String"),"to_str")),(!te||te[0]!=te[0].toUpperCase())&&qe.$raise(Ue("NameError"),"wrong constant name "+te),te}),fe(He,"$pristine",function(te,qe){var Je,Le;Je=Xe(arguments,1),Le=Je;for(var Ae,$e,pe=Le.length-1;pe>=0;pe--)Ae=Le[pe],$e=te.$$prototype[s.jsid(Ae)],$e&&!$e.$$stub&&($e.$$pristine=!0);return Me},-2);var Ye=[];return fe(He,"$inspect",function(te){var qe=Me,Je=!1;return function(){try{try{return te===null?"null":te===void 0?"undefined":typeof te.$$class>"u"?Object.prototype.toString.apply(te):typeof te.$inspect!="function"||te.$inspect.$$stub||Ye.indexOf(te.$__id__())!==-1?"#<"+te.$$class+":0x"+te.$__id__().$to_s(16)+">":(Ye.push(te.$__id__()),Je=!0,te.$inspect())}catch(Le){if(s.rescue(Le,[Ue("Exception")])){qe=Le;try{return"#<"+te.$$class+":0x"+te.$__id__().$to_s(16)+">"}finally{s.pop_exception()}}else throw Le}}finally{Je&&Ye.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(s){var X=s.truthy,xe=s.coerce_to,Pe=s.const_set,fe=s.Object,Xe=s.return_ivar,Se=s.assign_ivar,ke=s.ivar,ye=s.deny_frozen_access,W=s.freeze,Me=s.prop,Ue=s.jsid,Ie=s.klass,He=s.defs,Ye=s.send,ze=s.def,te=s.eqeqeq,qe=s.Module,Je=s.Kernel,Le=s.rb_lt,Ae=s.rb_gt,$e=s.slice,pe=s.to_a,ae=s.hash2,Fe=s.Opal,ne=s.return_val,me=s.eqeq,Q=s.lambda,p=s.range,oe=s.send2,T=s.find_super,V=s.alias,N=[],Ce=s.nil,re=s.$$$;return s.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(L,d,i){var r=Ie(L,d,"Module"),n=[r].concat(i),$=s.$r(n);return He(r,"$allocate",function(){var g=this,y=s.allocate_module(Ce,function(){});return g!==s.Module&&Object.setPrototypeOf(y,g.$$prototype),y}),ze(r,"$initialize",function o(){var g=o.$$p||Ce,y=this;return o.$$p=null,g!==Ce?Ye(y,"module_eval",[],g.$to_proc()):Ce}),ze(r,"$===",function(g){var y=this;return X(g==null)?!1:s.is_a(g,y)}),ze(r,"$<",function(g){var y=this;te(qe,g)||Je.$raise(re("TypeError"),"compared with non class/module");var P=y,be,tt,ot;if(P===g)return!1;for(tt=0,be=s.ancestors(y),ot=be.length;tt<ot;tt++)if(be[tt]===g)return!0;for(tt=0,be=s.ancestors(g),ot=be.length;tt<ot;tt++)if(be[tt]===y)return!1;return Ce}),ze(r,"$<=",function(g){var y=this,P=Ce;return X(P=y["$equal?"](g))?P:Le(y,g)}),ze(r,"$>",function(g){var y=this;return te(qe,g)||Je.$raise(re("TypeError"),"compared with non class/module"),Le(g,y)}),ze(r,"$>=",function(g){var y=this,P=Ce;return X(P=y["$equal?"](g))?P:Ae(y,g)}),ze(r,"$<=>",function(g){var y=this,P=Ce;return y===g?0:!te(qe,g)||(P=Le(y,g),X(P["$nil?"]()))?Ce:X(P)?-1:1}),ze(r,"$alias_method",function(g,y){var P=this;return ye(P),g=xe(g,re("String"),"to_str"),y=xe(y,re("String"),"to_str"),s.alias(P,g,y),P}),ze(r,"$alias_native",function(g,y){var P=this;return y==null&&(y=g),ye(P),s.alias_native(P,g,y),P},-2),ze(r,"$ancestors",function(){var g=this;return s.ancestors(g)}),ze(r,"$append_features",function(g){var y=this;return ye(g),s.append_features(y,g),y}),ze(r,"$attr_accessor",function(g){var y,P,be=this;return y=$e(arguments),P=y,Ye(be,"attr_reader",pe(P)),Ye(be,"attr_writer",pe(P))},-1),ze(r,"$attr",function(g){var y,P,be=this;return y=$e(arguments),P=y,P.length==2&&(P[1]===!0||P[1]===!1)?(be.$warn("optional boolean argument is obsoleted",ae(["uplevel"],{uplevel:1})),P[1]?be.$attr_accessor(P[0]):be.$attr_reader(P[0]),Ce):Ye(be,"attr_reader",pe(P))},-1),ze(r,"$attr_reader",function(g){var y,P,be=this;y=$e(arguments),P=y,ye(be);for(var tt=be.$$prototype,ot=P.length-1;ot>=0;ot--){var lt=P[ot],vt=Ue(lt),_t=ke(lt),bt=Xe(_t);s.prop(tt,_t,Ce),bt.$$parameters=[],bt.$$arity=0,s.defn(be,vt,bt)}return Ce},-1),ze(r,"$attr_writer",function(g){var y,P,be=this;y=$e(arguments),P=y,ye(be);for(var tt=be.$$prototype,ot=P.length-1;ot>=0;ot--){var lt=P[ot],vt=Ue(lt+"="),_t=ke(lt),bt=Se(_t);bt.$$parameters=[["req"]],bt.$$arity=1,s.prop(tt,_t,Ce),s.defn(be,vt,bt)}return Ce},-1),ze(r,"$autoload",function(g,y){var P=this;return ye(P),$("Opal")["$const_name?"](g)||Je.$raise(re("NameError"),"autoload must be constant name: "+g),y==""&&Je.$raise(re("ArgumentError"),"empty file name"),P.$$const.hasOwnProperty(g)||(P.$$autoload||(P.$$autoload={}),s.const_cache_version++,P.$$autoload[g]={path:y,loaded:!1,required:!1,success:!1,exception:!1},P.$const_added&&!P.$const_added.$$pristine&&P.$const_added(g)),Ce}),ze(r,"$autoload?",function(g){var y=this;if(y.$$autoload&&y.$$autoload[g]&&!y.$$autoload[g].required&&!y.$$autoload[g].success)return y.$$autoload[g].path;for(var P=y.$ancestors(),be=0,tt=P.length;be<tt;be++)if(P[be].$$autoload&&P[be].$$autoload[g]&&!P[be].$$autoload[g].required&&!P[be].$$autoload[g].success)return P[be].$$autoload[g].path;return Ce}),ze(r,"$class_variables",function(){var g=this;return Object.keys(s.class_variables(g))}),ze(r,"$class_variable_get",function(g){var y=this;return g=Fe["$class_variable_name!"](g),s.class_variable_get(y,g,!1)}),ze(r,"$class_variable_set",function(g,y){var P=this;return ye(P),g=Fe["$class_variable_name!"](g),s.class_variable_set(P,g,y)}),ze(r,"$class_variable_defined?",function(g){var y=this;return g=Fe["$class_variable_name!"](g),s.class_variables(y).hasOwnProperty(g)}),ze(r,"$const_added",ne(Ce)),Fe.$pristine(r,"const_added"),ze(r,"$remove_class_variable",function(g){var y=this;if(ye(y),g=Fe["$class_variable_name!"](g),s.hasOwnProperty.call(y.$$cvars,g)){var P=y.$$cvars[g];return delete y.$$cvars[g],P}else Je.$raise(re("NameError"),"cannot remove "+g+" for "+y)}),ze(r,"$constants",function(g){var y=this;return g==null&&(g=!0),s.constants(y,g)},-1),He(r,"$constants",function(g){var y=this;if(g==null){var P=(y.$$nesting||[]).concat(fe),be,tt={},ot,lt;for(ot=0,lt=P.length;ot<lt;ot++)for(be in P[ot].$$const)tt[be]=!0;return Object.keys(tt)}else return s.constants(y,g)},-1),He(r,"$nesting",function(){var g=this;return g.$$nesting||[]}),ze(r,"$const_defined?",function(g,y){var P=this;y==null&&(y=!0),g=$("Opal")["$const_name!"](g),X(g["$=~"](re(Fe,"CONST_NAME_REGEXP")))||Je.$raise(re("NameError").$new("wrong constant name "+g,g));var be,tt=[P],ot,lt;for(y&&(tt=tt.concat(s.ancestors(P)),P.$$is_module&&(tt=tt.concat([fe]).concat(s.ancestors(fe)))),ot=0,lt=tt.length;ot<lt;ot++)if(be=tt[ot],be.$$const[g]!=null||be.$$autoload&&be.$$autoload[g]&&!be.$$autoload[g].required&&!be.$$autoload[g].success)return!0;return!1},-2),ze(r,"$const_get",function(g,y){var P=this;return y==null&&(y=!0),g=$("Opal")["$const_name!"](g),g.indexOf("::")===0&&g!=="::"&&(g=g.slice(2)),X(g.indexOf("::")!=-1&&g!="::")?Ye(g.$split("::"),"inject",[P],function(tt,ot){return tt==null&&(tt=Ce),ot==null&&(ot=Ce),tt.$const_get(ot)}):(X(g["$=~"](re(Fe,"CONST_NAME_REGEXP")))||Je.$raise(re("NameError").$new("wrong constant name "+g,g)),y?s.$$([P],g):s.const_get_local(P,g))},-2),ze(r,"$const_missing",function(g){var y=this,P=Ce;return P=me(y,fe)?g:""+y+"::"+g,Je.$raise(re("NameError").$new("uninitialized constant "+P,g))}),ze(r,"$const_set",function(g,y){var P=this;return ye(P),g=Fe["$const_name!"](g),(X(g["$!~"](re(Fe,"CONST_NAME_REGEXP")))||X(g["$start_with?"]("::")))&&Je.$raise(re("NameError").$new("wrong constant name "+g,g)),Pe(P,g,y),y}),ze(r,"$public_constant",ne(Ce)),ze(r,"$define_method",function o(g,y){var P=o.$$p||Ce,be=this,tt=Ce,ot=Ce;return o.$$p=null,ye(be),y===void 0&&P===Ce&&Je.$raise(re("ArgumentError"),"tried to create a Proc object without a block"),P=X(tt=P)?tt:te(re("Proc"),ot=y)?y:te(re("Method"),ot)?y.$to_proc().$$unbound:te(re("UnboundMethod"),ot)?Q(function lt(vt){var _t,bt,pt=lt.$$s==null?this:lt.$$s,gt=Ce;return _t=$e(arguments),bt=_t,gt=y.$bind(pt),Ye(gt,"call",pe(bt))},{$$arity:-1,$$s:be}):Je.$raise(re("TypeError"),"wrong argument type "+P.$class()+" (expected Proc/Method)"),typeof Proxy<"u"&&(P.$$proxy_target=P,P=new Proxy(P,{apply:function(lt,vt,_t){var bt=lt.$$jsid;lt.$$jsid=g;try{return lt.apply(vt,_t)}catch(pt){if(pt===lt.$$brk||pt===lt.$$ret)return pt.$v;throw pt}finally{lt.$$jsid=bt}}})),P.$$jsid=g,P.$$s=null,P.$$def=P,P.$$define_meth=!0,s.defn(be,Ue(g),P)},-2),ze(r,"$freeze",function(){var g=this;return X(g["$frozen?"]())?g:(g.hasOwnProperty("$$base_module")||Me(g,"$$base_module",null),W(g))}),ze(r,"$remove_method",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=0;tt<P.length;tt++){var ot=P[tt];typeof ot=="string"||ot.$$is_string||be.$raise(re("TypeError"),""+be.$name()+" is not a symbol nor a string"),ye(be),s.rdef(be,"$"+ot)}return be},-1),ze(r,"$singleton_class?",function(){var g=this;return!!g.$$is_singleton}),ze(r,"$include",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=P.length-1;tt>=0;tt--){var ot=P[tt];ot.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$append_features(be),ot.$included(be)}return be},-1),ze(r,"$included_modules",function(){var g=this;return s.included_modules(g)}),ze(r,"$include?",function(g){var y=this;g.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+g.$class()+" (expected Module)");var P,be,tt,ot=s.ancestors(y);for(P=0,be=ot.length;P<be;P++)if(tt=ot[P],tt===g&&tt!==y)return!0;return!1}),ze(r,"$instance_method",function(g){var y=this,P=y.$$prototype[Ue(g)];return(!P||P.$$stub)&&Je.$raise(re("NameError").$new("undefined method `"+g+"' for class `"+y.$name()+"'",g)),re("UnboundMethod").$new(y,P.$$owner||y,P,g)}),ze(r,"$instance_methods",function(g){var y=this;return g==null&&(g=!0),X(g)?s.instance_methods(y):s.own_instance_methods(y)},-1),ze(r,"$included",ne(Ce)),ze(r,"$extended",ne(Ce)),ze(r,"$extend_object",function(g){return ye(g),Ce}),ze(r,"$method_added",function(g){return $e(arguments),Ce},-1),ze(r,"$method_removed",function(g){return $e(arguments),Ce},-1),ze(r,"$method_undefined",function(g){return $e(arguments),Ce},-1),ze(r,"$module_eval",function o(g){var y=o.$$p||Ce,P,be,tt,ot=this,lt=Ce,vt=Ce,_t=Ce,bt=Ce,pt=Ce,gt=Ce;o.$$p=null,P=$e(arguments),be=P,X(y["$nil?"]())&&X(!!s.compile)?(X(p(1,3,!1)["$cover?"](be.$size()))||Je.$raise(re("ArgumentError"),"wrong number of arguments (0 for 1..3)"),tt=[].concat(pe(be)),lt=tt[0]==null?Ce:tt[0],vt=tt[1]==null?Ce:tt[1],tt[2]==null||tt[2],_t=ae(["file","eval"],{file:X(bt=vt)?bt:"(eval)",eval:!0}),pt=s.hash({arity_check:!1}).$merge(_t),gt=Fe.$compile(lt,pt),y=Ye(Je,"proc",[],function le(){var ge=le.$$s==null?this:le.$$s;return new Function("Opal,self","return "+gt)(s,ge)},{$$s:ot})):X(be["$any?"]())&&Je.$raise(re("ArgumentError"),"wrong number of arguments ("+be.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var mt=y.$$s,Qe;return y.$$s=null,Qe=y.apply(ot,[ot]),y.$$s=mt,Qe},-1),ze(r,"$module_exec",function o(g){var y=o.$$p||Ce,P,be,tt=this;o.$$p=null,P=$e(arguments),be=P,y===Ce&&Je.$raise(re("LocalJumpError"),"no block given");var ot=y.$$s,lt;return y.$$s=null,lt=y.apply(tt,be),y.$$s=ot,lt},-1),ze(r,"$method_defined?",function(g){var y=this,P=y.$$prototype[Ue(g)];return!!P&&!P.$$stub}),ze(r,"$module_function",function(g){var y,P,be=this;if(y=$e(arguments),P=y,ye(be),P.length===0)return be.$$module_function=!0,Ce;for(var tt=0,ot=P.length;tt<ot;tt++){var lt=P[tt],vt=Ue(lt),_t=be.$$prototype[vt];s.defs(be,vt,_t)}return P.length===1?P[0]:P},-1),ze(r,"$name",function(){var g=this;if(g.$$full_name)return g.$$full_name;for(var y=[],P=g;P;){if(P.$$name===Ce||P.$$name==null)return Ce;if(y.unshift(P.$$name),P=P.$$base_module,P===fe)break}return y.length===0?Ce:g.$$full_name=y.join("::")}),ze(r,"$prepend",function(g){var y,P,be=this;y=$e(arguments),P=y,P.length===0&&Je.$raise(re("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var tt=P.length-1;tt>=0;tt--){var ot=P[tt];ot.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$prepend_features(be),ot.$prepended(be)}return be},-1),ze(r,"$prepend_features",function(g){var y=this;return ye(g),y.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+y.$class()+" (expected Module)"),s.prepend_features(y,g),y}),ze(r,"$prepended",ne(Ce)),ze(r,"$remove_const",function(g){var y=this;return ye(y),s.const_remove(y,g)}),ze(r,"$to_s",function(){var g=this,y=Ce;return X(y=s.Module.$name.call(g))?y:"#<"+(g.$$is_module?"Module":"Class")+":0x"+g.$__id__().$to_s(16)+">"}),ze(r,"$undef_method",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=0;tt<P.length;tt++){var ot=P[tt];typeof ot=="string"||ot.$$is_string||be.$raise(re("TypeError"),""+be.$name()+" is not a symbol nor a string"),ye(be),s.udef(be,"$"+P[tt])}return be},-1),ze(r,"$instance_variables",function(){var g=this,y=Ce;y=(s.Module.$$nesting=n,g.$constants());var P=[];for(var be in g)g.hasOwnProperty(be)&&be.charAt(0)!=="$"&&be!=="constructor"&&!y["$include?"](be)&&P.push("@"+be);return P}),ze(r,"$dup",function o(){var g=o.$$p||Ce,y=this,P=Ce;return o.$$p=null,P=oe(y,T(y,"dup",o,!1,!0),"dup",[],g),P.$copy_class_variables(y),P.$copy_constants(y),P}),ze(r,"$copy_class_variables",function(g){var y=this;for(var P in g.$$cvars)y.$$cvars[P]=g.$$cvars[P]}),ze(r,"$copy_constants",function(g){var y=this,P,be=g.$$const;for(P in be)Pe(y,P,be[P])}),ze(r,"$refine",function o(g){var y=o.$$p||Ce,P,be=this,tt=Ce,ot=Ce,lt=Ce;return o.$$p=null,P=[be,Ce,Ce],tt=P[0],ot=P[1],lt=P[2],lt=s.id(g),typeof be.$$refine_modules>"u"&&(be.$$refine_modules=Object.create(null)),typeof be.$$refine_modules[lt]>"u"?ot=be.$$refine_modules[lt]=re("Refinement").$new():ot=be.$$refine_modules[lt],ot.refinement_module=tt,ot.refined_class=g,Ye(ot,"class_exec",[],y.$to_proc()),ot}),ze(r,"$refinements",function(){var g=this,y=g.$$refine_modules,P=ae([],{});if(typeof y>"u")return P;for(var be in y)P["$[]="](y[be].refined_class,y[be]);return P}),ze(r,"$using",function(g){return Je.$raise("Module#using is not permitted in methods")}),V(r,"class_eval","module_eval"),V(r,"class_exec","module_exec"),V(r,"inspect","to_s")}("::",null,N),function(L,d){var i=Ie(L,d,"Refinement"),r=i.$$prototype;return r.refinement_module=r.refined_class=Ce,i.$attr_reader("refined_class"),ze(i,"$inspect",function n(){var $=n.$$p||Ce,o=this;return n.$$p=null,X(o.refinement_module)?"#<refinement:"+o.refined_class.$inspect()+"@"+o.refinement_module.$inspect()+">":oe(o,T(o,"inspect",n,!1,!0),"inspect",[],$)})}("::",qe)};Opal.modules["corelib/class"]=function(s){var X=s.klass,xe=s.send,Pe=s.defs,fe=s.def,Xe=s.rb_plus,Se=s.return_val,ke=s.slice,ye=s.send2,W=s.find_super,Me=s.Kernel,Ue=s.alias,Ie=s.top,He=[],Ye=s.nil,ze=s.$$$;return s.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),Ie.$require("corelib/module"),function(te,qe,Je){var Le=X(te,qe,"Class"),Ae=[Le].concat(Je),$e=s.$r(Ae);return Pe(Le,"$new",function pe(ae){var Fe=pe.$$p||Ye;if(pe.$$p=null,ae==null&&(ae=$e("Object")),!ae.$$is_class)throw s.TypeError.$new("superclass must be a Class");var ne=s.allocate_class(Ye,ae);return ae.$inherited(ne),Fe!==Ye&&xe(ne,"class_eval",[],Fe.$to_proc()),ne},-1),fe(Le,"$allocate",function(){var ae=this,Fe=new ae.$$constructor;return Fe.$$id=s.uid(),Fe}),fe(Le,"$descendants",function(){var ae=this;return Xe(ae.$subclasses(),xe(ae.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),fe(Le,"$inherited",Se(Ye)),fe(Le,"$initialize_dup",function(ae){var Fe=this;Fe.$initialize_copy(ae),Fe.$$name=null,Fe.$$full_name=null}),fe(Le,"$new",function pe(ae){var Fe=pe.$$p||Ye,ne,me,Q=this;pe.$$p=null,ne=ke(arguments),me=ne;var p=Q.$allocate();return s.send(p,p.$initialize,me,Fe),p},-1),fe(Le,"$subclasses",function(){var ae=this;if(typeof WeakRef<"u"){var Fe,ne,me=[];for(Fe=0;Fe<ae.$$subclasses.length;Fe++)ne=ae.$$subclasses[Fe].deref(),ne!==void 0&&me.push(ne);return me}else return ae.$$subclasses}),fe(Le,"$superclass",function(){var ae=this;return ae.$$super||Ye}),fe(Le,"$to_s",function pe(){pe.$$p;var ae=this;pe.$$p=null;var Fe=ae.$$singleton_of;return Fe&&Fe.$$is_a_module?"#<Class:"+Fe.$name()+">":Fe?"#<Class:#<"+Fe.$$class.$name()+":0x"+s.id(Fe).$to_s(16)+">>":ye(ae,W(ae,"to_s",pe,!1,!0),"to_s",[],null)}),fe(Le,"$attached_object",function(){var ae=this;if(ae.$$singleton_of!=null)return ae.$$singleton_of;Me.$raise(ze("TypeError"),"`"+ae+"' is not a singleton class")}),Ue(Le,"inspect","to_s")}("::",null,He)};Opal.modules["corelib/basic_object"]=function(s){var X=s.klass,xe=s.slice,Pe=s.def,fe=s.alias,Xe=s.return_val,Se=s.Opal,ke=s.truthy,ye=s.range,W=s.Kernel,Me=s.to_a,Ue=s.hash2,Ie=s.send,He=s.eqeq,Ye=s.rb_ge,ze=s.nil,te=s.$$$;return s.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(qe,Je){var Le=X(qe,Je,"BasicObject");return Pe(Le,"$initialize",function($e){return xe(arguments),ze},-1),Pe(Le,"$==",function($e){var pe=this;return pe===$e}),Pe(Le,"$eql?",function($e){var pe=this;return pe["$=="]($e)}),fe(Le,"equal?","=="),Pe(Le,"$__id__",function(){var $e=this;return $e.$$id!=null||s.prop($e,"$$id",s.uid()),$e.$$id}),Pe(Le,"$__send__",function Ae($e,pe){var ae=Ae.$$p||ze,Fe,ne,me=this;Ae.$$p=null,Fe=xe(arguments,1),ne=Fe,$e.$$is_string||me.$raise(te("TypeError"),""+me.$inspect()+" is not a symbol nor a string");var Q=me[s.jsid($e)];return Q?(ae!==ze&&(Q.$$p=ae),Q.apply(me,ne)):(ae!==ze&&(me.$method_missing.$$p=ae),me.$method_missing.apply(me,[$e].concat(ne)))},-2),Pe(Le,"$!",Xe(!1)),Se.$pristine("!"),Pe(Le,"$!=",function($e){var pe=this;return pe["$=="]($e)["$!"]()}),Pe(Le,"$instance_eval",function Ae($e){var pe=Ae.$$p||ze,ae,Fe,ne,me=this,Q=ze,p=ze,oe=ze,T=ze,V=ze,N=ze;if(Ae.$$p=null,ae=xe(arguments),Fe=ae,ke(pe["$nil?"]())&&ke(!!s.compile))ke(ye(1,3,!1)["$cover?"](Fe.$size()))||W.$raise(te("ArgumentError"),"wrong number of arguments (0 for 1..3)"),ne=[].concat(Me(Fe)),Q=ne[0]==null?ze:ne[0],p=ne[1]==null?ze:ne[1],ne[2]==null||ne[2],oe=Ue(["file","eval"],{file:ke(T=p)?T:"(eval)",eval:!0}),V=s.hash({arity_check:!1}).$merge(oe),N=Se.$compile(Q,V),pe=Ie(W,"proc",[],function L(){var d=L.$$s==null?this:L.$$s;return new Function("Opal,self","return "+N)(s,d)},{$$s:me});else{if(ke(pe["$nil?"]())&&ke(Ye(Fe.$length(),1))&&He(Fe.$first()["$[]"](0),"@"))return me.$instance_variable_get(Fe.$first());ke(Fe["$any?"]())&&W.$raise(te("ArgumentError"),"wrong number of arguments ("+Fe.$size()+" for 0)")}var Ce=pe.$$s,re;if(pe.$$s=null,me.$$is_a_module){me.$$eval=!0;try{re=pe.call(me,me)}finally{me.$$eval=!1}}else re=pe.call(me,me);return pe.$$s=Ce,re},-1),Pe(Le,"$instance_exec",function Ae($e){var pe=Ae.$$p||ze,ae,Fe,ne=this;Ae.$$p=null,ae=xe(arguments),Fe=ae,ke(pe)||W.$raise(te("ArgumentError"),"no block given");var me=pe.$$s,Q;if(pe.$$s=null,ne.$$is_a_module){ne.$$eval=!0;try{Q=pe.apply(ne,Fe)}finally{ne.$$eval=!1}}else Q=pe.apply(ne,Fe);return pe.$$s=me,Q},-1),Pe(Le,"$singleton_method_added",function($e){return xe(arguments),ze},-1),Pe(Le,"$singleton_method_removed",function($e){return xe(arguments),ze},-1),Pe(Le,"$singleton_method_undefined",function($e){return xe(arguments),ze},-1),Pe(Le,"$method_missing",function Ae($e,pe){Ae.$$p;var ae,Fe,ne=this,me=ze;return Ae.$$p=null,ae=xe(arguments,1),Fe=ae,me=Se.$inspect(ne),W.$raise(te("NoMethodError").$new("undefined method `"+$e+"' for "+me,$e,Fe),ze,W.$caller(1))},-2),Se.$pristine(Le,"method_missing"),Pe(Le,"$respond_to_missing?",function($e,pe){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(s){var X=s.truthy,xe=s.coerce_to,Pe=s.respond_to,fe=s.Opal,Xe=s.deny_frozen_access,Se=s.freeze,ke=s.freeze_props,ye=s.jsid,W=s.module,Me=s.return_val,Ue=s.def,Ie=s.Kernel,He=s.gvars,Ye=s.slice,ze=s.send,te=s.to_a,qe=s.ensure_kwargs,Je=s.eqeq,Le=s.hash2,Ae=s.rb_plus,$e=s.eqeqeq,pe=s.return_self,ae=s.rb_le,Fe=s.extract_kwargs,ne=s.rb_lt,me=s.Object,Q=s.alias,p=s.klass,oe=[],T=s.nil,V=s.$$$;return s.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(N,Ce){var re=W(N,"Kernel"),L=[re].concat(Ce),d=s.$r(L);Ue(re,"$=~",Me(!1)),Ue(re,"$!~",function(n){var $=this;return $["$=~"](n)["$!"]()}),Ue(re,"$===",function(n){var $=this,o=T;return X(o=$.$object_id()["$=="](n.$object_id()))?o:$["$=="](n)}),Ue(re,"$<=>",function(n){var $=this;$.$$comparable=!0;var o=$["$=="](n);return o&&o!==T?0:T}),Ue(re,"$method",function(n){var $=this,o=$[ye(n)];return(!o||o.$$stub)&&Ie.$raise(V("NameError").$new("undefined method `"+n+"' for class `"+$.$class()+"'",n)),V("Method").$new($,o.$$owner||$.$class(),o,n)}),Ue(re,"$methods",function(n){var $=this;return n==null&&(n=!0),X(n)?s.methods($):s.own_methods($)},-1),Ue(re,"$public_methods",function(n){var $=this;return n==null&&(n=!0),X(n)?s.methods($):s.receiver_methods($)},-1),Ue(re,"$Array",function(n){var $;return n===T?[]:n.$$is_array?n:($=fe["$coerce_to?"](n,V("Array"),"to_ary"),$!==T||($=fe["$coerce_to?"](n,V("Array"),"to_a"),$!==T)?$:[n])}),Ue(re,"$at_exit",function r(){var n=r.$$p||T,$=T;return He.__at_exit__==null&&(He.__at_exit__=T),r.$$p=null,He.__at_exit__=X($=He.__at_exit__)?$:[],He.__at_exit__["$<<"](n),n}),Ue(re,"$caller",function(n,$){n==null&&(n=1),$==null&&($=T);var o,g;o=new Error().$backtrace(),g=[];for(var y=n+1,P=o.length;y<P;y++)o[y].match(/runtime\.js/)||g.push(o[y]);return $!=T&&(g=g.slice(0,$)),g},-1),Ue(re,"$caller_locations",function(n){var $,o,g=this;return $=Ye(arguments),o=$,ze(ze(g,"caller",te(o)),"map",[],function(P){return P==null&&(P=T),V(V(V("Thread"),"Backtrace"),"Location").$new(P)})},-1),Ue(re,"$class",function(){var n=this;return n.$$class}),Ue(re,"$copy_instance_variables",function(n){var $=this,o=Object.keys(n),g,y,P;for(g=0,y=o.length;g<y;g++)P=o[g],P.charAt(0)!=="$"&&n.hasOwnProperty(P)&&($[P]=n[P])}),Ue(re,"$copy_singleton_methods",function(n){var $=this,o,g,y,P;if(n.hasOwnProperty("$$meta")&&n.$$meta!==null){var be=s.get_singleton_class(n),tt=s.get_singleton_class($);for(y=Object.getOwnPropertyNames(be.$$prototype),o=0,P=y.length;o<P;o++)g=y[o],s.is_method(g)&&(tt.$$prototype[g]=be.$$prototype[g]);tt.$$const=Object.assign({},be.$$const),Object.setPrototypeOf(tt.$$prototype,Object.getPrototypeOf(be.$$prototype))}for(o=0,y=Object.getOwnPropertyNames(n),P=y.length;o<P;o++)g=y[o],g.charAt(0)==="$"&&g.charAt(1)!=="$"&&n.hasOwnProperty(g)&&($[g]=n[g])}),Ue(re,"$clone",function(n){var $,o=this,g=T;return n=qe(n),$=n.$$smap.freeze,$==null&&($=T),X($["$nil?"]())||Je($,!0)||Je($,!1)||o.$raise(d("ArgumentError"),"unexpected value for freeze: "+$.$class()),g=o.$class().$allocate(),g.$copy_instance_variables(o),g.$copy_singleton_methods(o),g.$initialize_clone(o,Le(["freeze"],{freeze:$})),(Je($,!0)||X($["$nil?"]())&&X(o["$frozen?"]()))&&g.$freeze(),g},-1),Ue(re,"$initialize_clone",function(n,$){var o=this;return $=qe($),$.$$smap.freeze,o.$initialize_copy(n),o},-2),Ue(re,"$define_singleton_method",function r(n,$){var o=r.$$p||T,g=this;return r.$$p=null,ze(g.$singleton_class(),"define_method",[n,$],o.$to_proc())},-2),Ue(re,"$dup",function(){var n=this,$=T;return $=n.$class().$allocate(),$.$copy_instance_variables(n),$.$initialize_dup(n),$}),Ue(re,"$initialize_dup",function(n){var $=this;return $.$initialize_copy(n)}),Ue(re,"$enum_for",function r(n,$){var o=r.$$p||T,g,y,P,be=this;return r.$$p=null,g=Ye(arguments),g.length>0&&(y=g.shift()),y==null&&(y="each"),P=g,ze(V("Enumerator"),"for",[be,y].concat(te(P)),o.$to_proc())},-1),Ue(re,"$equal?",function(n){var $=this;return $===n}),Ue(re,"$exit",function(n){var $=T,o=T;for(He.__at_exit__==null&&(He.__at_exit__=T),n==null&&(n=!0),He.__at_exit__=X($=He.__at_exit__)?$:[];!X(He.__at_exit__["$empty?"]());)o=He.__at_exit__.$pop(),o.$call();return n.$$is_boolean?n=n?0:1:n=xe(n,V("Integer"),"to_int"),s.exit(n),T},-1),Ue(re,"$extend",function(n){var $,o,g=this;$=Ye(arguments),o=$,o.length==0&&g.$raise(V("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),Xe(g);for(var y=g.$singleton_class(),P=o.length-1;P>=0;P--){var be=o[P];be.$$is_module||Ie.$raise(V("TypeError"),"wrong argument type "+be.$class()+" (expected Module)"),be.$append_features(y),be.$extend_object(g),be.$extended(g)}return g},-1),Ue(re,"$freeze",function(){var n=this;return X(n["$frozen?"]())?n:typeof n=="object"?(ke(n),Se(n)):n}),Ue(re,"$frozen?",function(){var n=this;switch(typeof n){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return n.$$frozen||!1;default:return!1}}),Ue(re,"$gets",function(n){var $,o;return He.stdin==null&&(He.stdin=T),$=Ye(arguments),o=$,ze(He.stdin,"gets",te(o))},-1),Ue(re,"$hash",function(){var n=this;return n.$__id__()}),Ue(re,"$initialize_copy",Me(T));var i=[];return Ue(re,"$inspect",function(){var n=this,$=T,o=T,g=T,y=T;return function(){try{try{return $="",o=n.$__id__(),X(i["$include?"](o))?$=" ...":(i["$<<"](o),g=!0,ze(n.$instance_variables(),"each",[],function P(be){var tt=P.$$s==null?this:P.$$s,ot=T,lt=T;return be==null&&(be=T),ot=tt.$instance_variable_get(be),lt=d("Opal").$inspect(ot),$=Ae($," "+be+"="+lt)},{$$s:n})),"#<"+n.$class()+":0x"+o.$to_s(16)+$+">"}catch(P){if(s.rescue(P,[d("StandardError")])){y=P;try{return"#<"+n.$class()+":0x"+o.$to_s(16)+">"}finally{s.pop_exception()}}else throw P}}finally{X(g)&&i.$pop()}}()}),Ue(re,"$instance_of?",function(n){var $=this;return!n.$$is_class&&!n.$$is_module&&Ie.$raise(V("TypeError"),"class or module required"),$.$$class===n}),Ue(re,"$instance_variable_defined?",function(n){var $=this;return n=fe["$instance_variable_name!"](n),s.hasOwnProperty.call($,n.substr(1))}),Ue(re,"$instance_variable_get",function(n){var $=this;n=fe["$instance_variable_name!"](n);var o=$[s.ivar(n.substr(1))];return o??T}),Ue(re,"$instance_variable_set",function(n,$){var o=this;return Xe(o),n=fe["$instance_variable_name!"](n),o[s.ivar(n.substr(1))]=$}),Ue(re,"$remove_instance_variable",function(n){var $=this;n=fe["$instance_variable_name!"](n);var o=s.ivar(n.substr(1)),g;return $.hasOwnProperty(o)?(g=$[o],delete $[o],g):Ie.$raise(V("NameError"),"instance variable "+n+" not defined")}),Ue(re,"$instance_variables",function(){var n=this,$=[],o;for(var g in n)n.hasOwnProperty(g)&&g.charAt(0)!=="$"&&(g.substr(-1)==="$"?o=g.slice(0,g.length-1):o=g,$.push("@"+o));return $}),Ue(re,"$Integer",function(n,$){var o,g,y;return n.$$is_string?n==="0"?0:($===void 0?$=0:($=xe($,V("Integer"),"to_int"),($===1||$<0||$>36)&&Ie.$raise(V("ArgumentError"),"invalid radix "+$)),g=n.toLowerCase(),g=g.replace(/(\d)_(?=\d)/g,"$1"),g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(P,be,tt){switch(tt){case"0b":if($===0||$===2)return $=2,be;case"0":case"0o":if($===0||$===8)return $=8,be;case"0d":if($===0||$===10)return $=10,be;case"0x":if($===0||$===16)return $=16,be}Ie.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"')}),$=$===0?10:$,y="0-"+($<=10?$-1:"9a-"+String.fromCharCode(97+($-11))),new RegExp("^\\s*[+-]?["+y+"]+\\s*$").test(g)||Ie.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"'),o=parseInt(g,$),isNaN(o)&&Ie.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"'),o):($!==void 0&&Ie.$raise(V("ArgumentError"),"base specified for non string value"),n===T&&Ie.$raise(V("TypeError"),"can't convert nil into Integer"),n.$$is_number?((n===1/0||n===-1/0||isNaN(n))&&Ie.$raise(V("FloatDomainError"),n),Math.floor(n)):n["$respond_to?"]("to_int")&&(o=n.$to_int(),o!==T)?o:fe["$coerce_to!"](n,V("Integer"),"to_i"))},-2),Ue(re,"$Float",function(n){var $;return n===T&&Ie.$raise(V("TypeError"),"can't convert nil into Float"),n.$$is_string?($=n.toString(),$=$.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test($)?Ie.$Integer($):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test($)||Ie.$raise(V("ArgumentError"),'invalid value for Float(): "'+n+'"'),parseFloat($))):fe["$coerce_to!"](n,V("Float"),"to_f")}),Ue(re,"$Hash",function(n){return X(n["$nil?"]())||Je(n,[])?Le([],{}):$e(V("Hash"),n)?n:fe["$coerce_to!"](n,V("Hash"),"to_hash")}),Ue(re,"$is_a?",function(n){var $=this;return!n.$$is_class&&!n.$$is_module&&Ie.$raise(V("TypeError"),"class or module required"),s.is_a($,n)}),Ue(re,"$itself",pe),Ue(re,"$lambda",function r(){var n=r.$$p||T;return r.$$p=null,s.lambda(n)}),Ue(re,"$load",function(n){return n=fe["$coerce_to!"](n,V("String"),"to_str"),s.load(n)}),Ue(re,"$loop",function r(){var n=r.$$p||T,$=this,o=T;if(r.$$p=null,n===T)return ze($,"enum_for",["loop"],function(){return V(V("Float"),"INFINITY")});for(;X(!0);)try{s.yieldX(n,[])}catch(g){if(s.rescue(g,[V("StopIteration")])){o=g;try{return o.$result()}finally{s.pop_exception()}}else throw g}return $}),Ue(re,"$nil?",Me(!1)),Ue(re,"$printf",function(n){var $,o,g=this;return $=Ye(arguments),o=$,X(o["$any?"]())&&g.$print(ze(g,"format",te(o))),T},-1),Ue(re,"$proc",function r(){var n=r.$$p||T;return r.$$p=null,X(n)||Ie.$raise(V("ArgumentError"),"tried to create Proc object without a block"),n.$$is_lambda=!1,n}),Ue(re,"$puts",function(n){var $,o;return He.stdout==null&&(He.stdout=T),$=Ye(arguments),o=$,ze(He.stdout,"puts",te(o))},-1),Ue(re,"$p",function(n){var $,o;return $=Ye(arguments),o=$,ze(o,"each",[],function(y){return He.stdout==null&&(He.stdout=T),y==null&&(y=T),He.stdout.$puts(y.$inspect())}),X(ae(o.$length(),1))?o["$[]"](0):o},-1),Ue(re,"$print",function(n){var $,o;return He.stdout==null&&(He.stdout=T),$=Ye(arguments),o=$,ze(He.stdout,"print",te(o))},-1),Ue(re,"$readline",function(n){var $,o;return He.stdin==null&&(He.stdin=T),$=Ye(arguments),o=$,ze(He.stdin,"readline",te(o))},-1),Ue(re,"$warn",function(n,$){var o,g,y,P,be,tt,ot=this,lt=T;return He.VERBOSE==null&&(He.VERBOSE=T),He.stderr==null&&(He.stderr=T),o=Ye(arguments),g=Fe(o),g=qe(g),y=o,P=g.$$smap.uplevel,P==null&&(P=T),X(P)&&(P=fe["$coerce_to!"](P,V("Integer"),"to_str"),X(ne(P,0))&&Ie.$raise(V("ArgumentError"),"negative level ("+P+")"),lt=(be=(tt=ot.$caller(Ae(P,1),1).$first(),tt===T||tt==null?T:tt.$split(":in `")),be===T||be==null?T:be.$first()),X(lt)&&(lt=""+lt+": "),y=ze(y,"map",[],function(_t){return _t==null&&(_t=T),""+lt+"warning: "+_t})),X(He.VERBOSE["$nil?"]())||X(y["$empty?"]())?T:ze(He.stderr,"puts",te(y))},-1),Ue(re,"$raise",function(n,$,o){throw He["!"]==null&&(He["!"]=T),He["@"]==null&&(He["@"]=T),$==null&&($=T),o==null&&(o=T),n==null&&He["!"]!==T?He["!"]:(n==null?n=V("RuntimeError").$new(""):Pe(n,"$to_str")?n=V("RuntimeError").$new(n.$to_str()):n.$$is_class&&Pe(n,"$exception")?n=n.$exception($):n.$$is_exception||(n=V("TypeError").$new("exception class/object expected")),o!==T&&n.$set_backtrace(o),He["!"]!==T&&s.exceptions.push(He["!"]),He["!"]=n,He["@"]=n.$backtrace(),n)},-1),Ue(re,"$rand",function(n){return n===void 0?V(V("Random"),"DEFAULT").$rand():(n.$$is_number&&(n<0&&(n=Math.abs(n)),n%1!==0&&(n=n.$to_i()),n===0&&(n=void 0)),V(V("Random"),"DEFAULT").$rand(n))},-1),Ue(re,"$respond_to?",function(n,$){var o=this;$==null&&($=!1);var g=o[ye(n)];return typeof g=="function"&&!g.$$stub?!0:o["$respond_to_missing?"].$$pristine===!0?!1:o["$respond_to_missing?"](n,$)},-2),Ue(re,"$respond_to_missing?",function(n,$){return!1},-2),fe.$pristine(re,"respond_to?","respond_to_missing?"),Ue(re,"$require",function(n){return typeof n!="string"&&s.String&&s.Array&&(n=fe["$coerce_to!"](n,V("String"),"to_str")),s.require(n)}),Ue(re,"$require_relative",function(n){return fe["$try_convert!"](n,V("String"),"to_str"),n=V("File").$expand_path(V("File").$join(s.current_file,"..",n)),s.require(n)}),Ue(re,"$require_tree",function(n,$){var o;$=qe($),o=$.$$smap.autoload,o==null&&(o=!1);var g=[];n=V("File").$expand_path(n),n=s.normalize(n),n==="."&&(n="");for(var y in s.modules)y["$start_with?"](n)&&(o?g.push([y,!0]):g.push([y,s.require(y)]));return g},-2),Ue(re,"$singleton_class",function(){var n=this;return s.get_singleton_class(n)}),Ue(re,"$sleep",function(n){n==null&&(n=T),n===T&&Ie.$raise(V("TypeError"),"can't convert NilClass into time interval"),n.$$is_number||Ie.$raise(V("TypeError"),"can't convert "+n.$class()+" into time interval"),n<0&&Ie.$raise(V("ArgumentError"),"time interval must be positive");for(var $=s.global.performance?function(){return performance.now()}:function(){return new Date},o=$();$()-o<=n*1e3;);return Math.round(n)},-1),Ue(re,"$srand",function(n){return n==null&&(n=d("Random").$new_seed()),V("Random").$srand(n)},-1),Ue(re,"$String",function(n){var $=T;return X($=fe["$coerce_to?"](n,V("String"),"to_str"))?$:fe["$coerce_to!"](n,V("String"),"to_s")}),Ue(re,"$tap",function r(){var n=r.$$p||T,$=this;return r.$$p=null,s.yield1(n,$),$}),Ue(re,"$to_proc",pe),Ue(re,"$to_s",function(){var n=this;return"#<"+n.$class()+":0x"+n.$__id__().$to_s(16)+">"}),Ue(re,"$catch",function r(n){var $=r.$$p||T,o=T,g=T;r.$$p=null,n==null&&(n=T);try{return n=X(o=n)?o:me.$new(),s.yield1($,n)}catch(y){if(s.rescue(y,[V("UncaughtThrowError")])){g=y;try{return Je(g.$tag(),n)?g.$value():Ie.$raise()}finally{s.pop_exception()}}else throw y}},-1),Ue(re,"$throw",function(n,$){return $==null&&($=T),Ie.$raise(V("UncaughtThrowError").$new(n,$))},-2),Ue(re,"$open",function r(n){var $=r.$$p||T,o,g;return r.$$p=null,o=Ye(arguments),g=o,ze(V("File"),"open",te(g),$.$to_proc())},-1),Ue(re,"$yield_self",function r(){var n=r.$$p||T,$=this;return r.$$p=null,n===T?ze($,"enum_for",["yield_self"],Me(1)):s.yield1(n,$)}),Q(re,"fail","raise"),Q(re,"kind_of?","is_a?"),Q(re,"object_id","__id__"),Q(re,"public_send","__send__"),Q(re,"send","__send__"),Q(re,"then","yield_self"),Q(re,"to_enum","enum_for")}("::",oe),function(N,Ce){var re=p(N,Ce,"Object");return delete me.$$prototype.$require,re.$include(Ie)}("::",null)};Opal.modules["corelib/main"]=function(s){var X=s.return_val,xe=s.def,Pe=s.Object,fe=s.slice,Xe=s.Kernel,Se=s.top;return s.nil,s.add_stubs("include,raise"),function(ke,ye){return xe(ke,"$to_s",X("main")),xe(ke,"$include",function(Me){return Pe.$include(Me)}),xe(ke,"$autoload",function(Me){var Ue,Ie;return Ue=fe(arguments),Ie=Ue,s.Object.$autoload.apply(s.Object,Ie)},-1),xe(ke,"$using",function(Me){return Xe.$raise("main.using is permitted only at toplevel")})}(s.get_singleton_class(Se))};Opal.modules["corelib/error/errno"]=function(s){var X=s.module,xe=s.truthy,Pe=s.rb_plus,fe=s.send2,Xe=s.find_super,Se=s.def,ke=s.klass,ye=s.nil,W=s.$$$;return s.add_stubs("+,errno,class,attr_reader"),function(Me,Ue){var Ie=X(Me,"Errno"),He=ye,Ye=ye;He=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],Ye=ye;var ze;for(ze=0;ze<He.length;ze++)(function(){var te=He[ze][0],qe=He[ze][1],Je=He[ze][2];Ye=s.klass(Ie,s.SystemCallError,te),Ye.errno=Je,function(Le,Ae){return Se(Le,"$new",function $e(pe){$e.$$p;var ae=this,Fe=ye;return $e.$$p=null,pe==null&&(pe=ye),Fe=qe,xe(pe)&&(Fe=Pe(Fe," - "+pe)),fe(ae,Xe(ae,"new",$e,!1,!0),"new",[Fe],null)},-1)}(s.get_singleton_class(Ye))})()}("::"),function(Me,Ue,Ie){var He=ke(Me,Ue,"SystemCallError");return Se(He,"$errno",function(){var ze=this;return ze.$class().$errno()}),function(Ye,ze){return Ye.$attr_reader("errno")}(s.get_singleton_class(He))}("::",W("StandardError"))};Opal.modules["corelib/error"]=function(s){var X=s.klass,xe=s.slice,Pe=s.gvars,fe=s.defs,Xe=s.send,Se=s.to_a,ke=s.def,ye=s.truthy,W=s.hash2,Me=s.Kernel,Ue=s.not,Ie=s.rb_plus,He=s.eqeq,Ye=s.Object,ze=s.ensure_kwargs,te=s.send2,qe=s.find_super,Je=s.module,Le=[],Ae=s.nil,$e=s.$$$;return s.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(pe,ae,Fe){var ne=X(pe,ae,"Exception"),me=[ne].concat(Fe),Q=s.$r(me),p=ne.$$prototype;p.message=Ae,s.prop(ne.$$prototype,"$$is_exception",!0);var oe;Error.stackTraceLimit=100,fe(ne,"$new",function(N){var Ce,re,L=this;Pe["!"]==null&&(Pe["!"]=Ae),Ce=xe(arguments),re=Ce;var d=re.length>0?re[0]:Ae,i=new L.$$constructor(d);return i.name=L.$$name,i.message=d,i.cause=Pe["!"],s.send(i,i.$initialize,re),s.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(i,oe),i},-1),oe=ne.$new,fe(ne,"$exception",function(N){var Ce,re,L=this;return Ce=xe(arguments),re=Ce,Xe(L,"new",Se(re))},-1),ke(ne,"$initialize",function(N){var Ce,re,L=this;return Ce=xe(arguments),re=Ce,L.message=re.length>0?re[0]:Ae},-1);function T(V){for(var N=[],Ce,re=0;re<V.length;re++){var L=V[re];!L||!L.$$is_string||((Ce=L.match(/^    at (.*?) \((.*?)\)$/))?N.push(Ce[2]+":in `"+Ce[1]+"'"):(Ce=L.match(/^    at (.*?)$/))?N.push(Ce[1]+":in `undefined'"):(Ce=L.match(/^  from (.*?)$/))?N.push(Ce[1]):(Ce=L.match(/^(.*?)@(.*?)$/))&&N.push(Ce[2]+":in `"+Ce[1]+"'"))}return N}return ke(ne,"$backtrace",function(){var N=this;if(N.backtrace)return N.backtrace;var Ce=N.stack;return typeof Ce<"u"&&Ce.$$is_string?N.backtrace=T(Ce.split(`
`)):Ce?N.backtrace=T(Ce):[]}),ke(ne,"$backtrace_locations",function(){var N,Ce=this;return Ce.backtrace_locations||(Ce.backtrace_locations=(N=Ce.$backtrace(),N===Ae||N==null?Ae:Xe(N,"map",[],function(L){return L==null&&(L=Ae),$e($e($e("Thread"),"Backtrace"),"Location").$new(L)}))),Ce.backtrace_locations}),ke(ne,"$cause",function(){var N=this;return N.cause||Ae}),ke(ne,"$exception",function(N){var Ce=this;if(N==null&&(N=Ae),N===Ae||Ce===N)return Ce;var re=Ce.$clone();return re.message=N,Ce.backtrace&&(re.backtrace=Ce.backtrace.$dup()),re.stack=Ce.stack,re.cause=Ce.cause,re},-1),ke(ne,"$message",function(){var N=this;return N.$to_s()}),ke(ne,"$full_message",function(N){var Ce,re=this,L=Ae,d=Ae,i=Ae,r=Ae,n=Ae,$=Ae,o=Ae,g=Ae,y=Ae;return Pe.stderr==null&&(Pe.stderr=Ae),N==null&&(N=Ae),ye(Q("Hash","skip_raise")?"constant":Ae)?(N=W(["highlight","order"],{highlight:Pe.stderr["$tty?"](),order:"top"}).$merge(ye(L=N)?L:W([],{})),Ce=[N["$[]"]("highlight"),N["$[]"]("order")],d=Ce[0],i=Ce[1],ye([!0,!1]["$include?"](d))||Me.$raise($e("ArgumentError"),"expected true or false as highlight: "+d),ye(["top","bottom"]["$include?"](i))||Me.$raise($e("ArgumentError"),"expected :top or :bottom as order: "+i),ye(d)?(r="\x1B[1;4m",n="\x1B[1m",$="\x1B[m"):r=n=$="",o=re.$backtrace().$dup(),(Ue(o)||ye(o["$empty?"]()))&&(o=re.$caller()),g=o.$shift(),y=""+g+": ",y=Ie(y,""+n+re.$to_s()+" ("+r+re.$class()+$+n+")"+$+`
`),y=Ie(y,Xe(o,"map",[],function(be){return be==null&&(be=Ae),"	from "+be+`
`}).$join()),ye(re.$cause())&&(y=Ie(y,re.$cause().$full_message(W(["highlight"],{highlight:d})))),He(i,"bottom")&&(y=y.$split(`
`).$reverse().$join(`
`),y=Ie(""+n+"Traceback"+$+` (most recent call last):
`,y)),y):""+re.message+`
`+re.stack},-1),ke(ne,"$inspect",function(){var N=this,Ce=Ae;return Ce=N.$to_s(),ye(Ce["$empty?"]())?N.$class().$to_s():"#<"+N.$class().$to_s()+": "+N.$to_s()+">"}),ke(ne,"$set_backtrace",function(N){var Ce=this,re=!0,L,d;if(N===Ae)Ce.backtrace=Ae,Ce.stack="";else if(N.$$is_string)Ce.backtrace=[N],Ce.stack="  from "+N;else{if(N.$$is_array){for(L=0,d=N.length;L<d;L++)if(!N[L].$$is_string){re=!1;break}}else re=!1;re===!1&&Me.$raise($e("TypeError"),"backtrace must be Array of String"),Ce.backtrace=N,Ce.stack=Xe(N,"map",[],function(r){return r==null&&(r=Ae),Ie("  from ",r)}).join(`
`)}return N}),ke(ne,"$to_s",function(){var N=this,Ce=Ae,re=Ae;return ye(Ce=ye(re=N.message)?N.message.$to_s():re)?Ce:N.$class().$to_s()})}("::",Error,Le),X("::",$e("Exception"),"ScriptError"),X("::",$e("ScriptError"),"SyntaxError"),X("::",$e("ScriptError"),"LoadError"),X("::",$e("ScriptError"),"NotImplementedError"),X("::",$e("Exception"),"SystemExit"),X("::",$e("Exception"),"NoMemoryError"),X("::",$e("Exception"),"SignalException"),X("::",$e("SignalException"),"Interrupt"),X("::",$e("Exception"),"SecurityError"),X("::",$e("Exception"),"SystemStackError"),X("::",$e("Exception"),"StandardError"),X("::",$e("StandardError"),"EncodingError"),X("::",$e("StandardError"),"ZeroDivisionError"),X("::",$e("StandardError"),"NameError"),X("::",$e("NameError"),"NoMethodError"),X("::",$e("StandardError"),"RuntimeError"),X("::",$e("RuntimeError"),"FrozenError"),X("::",$e("StandardError"),"LocalJumpError"),X("::",$e("StandardError"),"TypeError"),X("::",$e("StandardError"),"ArgumentError"),X("::",$e("ArgumentError"),"UncaughtThrowError"),X("::",$e("StandardError"),"IndexError"),X("::",$e("IndexError"),"StopIteration"),X("::",$e("StopIteration"),"ClosedQueueError"),X("::",$e("IndexError"),"KeyError"),X("::",$e("StandardError"),"RangeError"),X("::",$e("RangeError"),"FloatDomainError"),X("::",$e("StandardError"),"IOError"),X("::",$e("IOError"),"EOFError"),X("::",$e("StandardError"),"SystemCallError"),X("::",$e("StandardError"),"RegexpError"),X("::",$e("StandardError"),"ThreadError"),X("::",$e("StandardError"),"FiberError"),Ye.$autoload("Errno","corelib/error/errno"),function(pe,ae){var Fe=X(pe,ae,"FrozenError");return Fe.$attr_reader("receiver"),ke(Fe,"$initialize",function ne(me,Q){var p;ne.$$p;var oe=this;return ne.$$p=null,Q=ze(Q),p=Q.$$smap.receiver,p==null&&(p=Ae),te(oe,qe(oe,"initialize",ne,!1,!0),"initialize",[me],null),oe.receiver=p},-2)}("::",$e("RuntimeError")),function(pe,ae){var Fe=X(pe,ae,"UncaughtThrowError"),ne=Fe.$$prototype;return ne.tag=Ae,Fe.$attr_reader("tag","value"),ke(Fe,"$initialize",function me(Q,p){me.$$p;var oe=this;return me.$$p=null,p==null&&(p=Ae),oe.tag=Q,oe.value=p,te(oe,qe(oe,"initialize",me,!1,!0),"initialize",["uncaught throw "+oe.tag.$inspect()],null)},-2)}("::",$e("ArgumentError")),function(pe,ae){var Fe=X(pe,ae,"NameError");return Fe.$attr_reader("name"),ke(Fe,"$initialize",function ne(me,Q){ne.$$p;var p=this;return ne.$$p=null,Q==null&&(Q=Ae),te(p,qe(p,"initialize",ne,!1,!0),"initialize",[me],null),p.name=Q},-2)}("::",null),function(pe,ae){var Fe=X(pe,ae,"NoMethodError");return Fe.$attr_reader("args"),ke(Fe,"$initialize",function ne(me,Q,p){ne.$$p;var oe=this;return ne.$$p=null,Q==null&&(Q=Ae),p==null&&(p=[]),te(oe,qe(oe,"initialize",ne,!1,!0),"initialize",[me,Q],null),oe.args=p},-2)}("::",null),function(pe,ae){var Fe=X(pe,ae,"StopIteration");return Fe.$attr_reader("result")}("::",null),function(pe,ae){var Fe=X(pe,ae,"KeyError"),ne=Fe.$$prototype;return ne.receiver=ne.key=Ae,ke(Fe,"$initialize",function me(Q,p){var oe,T;me.$$p;var V=this;return me.$$p=null,p=ze(p),oe=p.$$smap.receiver,oe==null&&(oe=Ae),T=p.$$smap.key,T==null&&(T=Ae),te(V,qe(V,"initialize",me,!1,!0),"initialize",[Q],null),V.receiver=oe,V.key=T},-2),ke(Fe,"$receiver",function(){var Q=this,p=Ae;return ye(p=Q.receiver)?p:Me.$raise($e("ArgumentError"),"no receiver is available")}),ke(Fe,"$key",function(){var Q=this,p=Ae;return ye(p=Q.key)?p:Me.$raise($e("ArgumentError"),"no key is available")})}("::",null),function(pe,ae){var Fe=Je(pe,"JS"),ne=[Fe].concat(ae);return X(ne[0],null,"Error"),Ae}("::",Le)};Opal.modules["corelib/constants"]=function(s){var X=s.const_set;s.nil;var xe=s.$$$;return X("::","RUBY_PLATFORM","opal"),X("::","RUBY_ENGINE","opal"),X("::","RUBY_VERSION","3.2.0"),X("::","RUBY_ENGINE_VERSION","1.7.3"),X("::","RUBY_RELEASE_DATE","2023-03-23"),X("::","RUBY_PATCHLEVEL",0),X("::","RUBY_REVISION","0"),X("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),X("::","RUBY_DESCRIPTION","opal "+xe("RUBY_ENGINE_VERSION")+" ("+xe("RUBY_RELEASE_DATE")+" revision "+xe("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(s){var X=s.Object;return s.nil,s.add_stubs("require"),X.$require("corelib/runtime"),X.$require("corelib/helpers"),X.$require("corelib/module"),X.$require("corelib/class"),X.$require("corelib/basic_object"),X.$require("corelib/kernel"),X.$require("corelib/main"),X.$require("corelib/error"),X.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(s){var X=s.klass,xe=s.Kernel,Pe=s.def,fe=s.return_val,Xe=s.ensure_kwargs,Se=s.NilClass,ke=s.slice,ye=s.truthy,W=s.rb_gt,Me=s.alias,Ue=s.nil,Ie=s.$$$;return s.add_stubs("raise,name,new,>,length,Rational,to_i"),function(He,Ye,ze){var te=X(He,Ye,"NilClass");return te.$$prototype.$$meta=te,function(qe,Je){return Pe(qe,"$allocate",function(){var Ae=this;return xe.$raise(Ie("TypeError"),"allocator undefined for "+Ae.$name())}),s.udef(qe,"$new"),Ue}(s.get_singleton_class(te)),Pe(te,"$!",fe(!0)),Pe(te,"$&",fe(!1)),Pe(te,"$|",function(Je){return Je!==!1&&Je!==Ue}),Pe(te,"$^",function(Je){return Je!==!1&&Je!==Ue}),Pe(te,"$==",function(Je){return Je===Ue}),Pe(te,"$dup",fe(Ue)),Pe(te,"$clone",function(Je){return Je=Xe(Je),Je.$$smap.freeze,Ue},-1),Pe(te,"$inspect",fe("nil")),Pe(te,"$nil?",fe(!0)),Pe(te,"$singleton_class",function(){return Se}),Pe(te,"$to_a",function(){return[]}),Pe(te,"$to_h",function(){return s.hash()}),Pe(te,"$to_i",fe(0)),Pe(te,"$to_s",fe("")),Pe(te,"$to_c",function(){return Ie("Complex").$new(0,0)}),Pe(te,"$rationalize",function(Je){var Le,Ae;return Le=ke(arguments),Ae=Le,ye(W(Ae.$length(),1))&&xe.$raise(Ie("ArgumentError")),xe.$Rational(0,1)},-1),Pe(te,"$to_r",function(){return xe.$Rational(0,1)}),Pe(te,"$instance_variables",function(){return[]}),Me(te,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(s){var X=s.klass,xe=s.Kernel,Pe=s.def,fe=s.return_self,Xe=s.ensure_kwargs,Se=s.slice,ke=s.truthy,ye=s.send2,W=s.find_super,Me=s.to_a,Ue=s.alias,Ie=s.nil,He=s.$$$;return s.add_stubs("raise,name,==,to_s,__id__"),function(Ye,ze,te){var qe=X(Ye,ze,"Boolean");s.prop(qe.$$prototype,"$$is_boolean",!0);for(var Je=["$$class","$$meta"],Le=0;Le<Je.length;Le++)Object.defineProperty(qe.$$prototype,Je[Le],{configurable:!0,enumerable:!1,get:function(){return this==!0?s.TrueClass:this==!1?s.FalseClass:s.Boolean}});return Object.defineProperty(qe.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:Ie}}),function(Ae,$e){return Pe(Ae,"$allocate",function(){var ae=this;return xe.$raise(He("TypeError"),"allocator undefined for "+ae.$name())}),s.udef(Ae,"$new"),Ie}(s.get_singleton_class(qe)),Pe(qe,"$__id__",function(){var $e=this;return $e.valueOf()?2:0}),Pe(qe,"$!",function(){var $e=this;return $e!=!0}),Pe(qe,"$&",function($e){var pe=this;return pe==!0?$e!==!1&&$e!==Ie:!1}),Pe(qe,"$|",function($e){var pe=this;return pe==!0?!0:$e!==!1&&$e!==Ie}),Pe(qe,"$^",function($e){var pe=this;return pe==!0?$e===!1||$e===Ie:$e!==!1&&$e!==Ie}),Pe(qe,"$==",function($e){var pe=this;return pe==!0===$e.valueOf()}),Pe(qe,"$singleton_class",function(){var $e=this;return $e.$$meta}),Pe(qe,"$to_s",function(){var $e=this;return $e==!0?"true":"false"}),Pe(qe,"$dup",fe),Pe(qe,"$clone",function($e){var pe=this;return $e=Xe($e),$e.$$smap.freeze,pe},-1),Pe(qe,"$method_missing",function Ae($e,pe){var ae=Ae.$$p||Ie,Fe,ne,me=this;Ae.$$p=null,Fe=Se(arguments,1),ne=Fe;var Q=me.$$class.$$prototype[s.jsid($e)];return ke(typeof Q<"u"&&!Q.$$stub)||ye(me,W(me,"method_missing",Ae,!1,!0),"method_missing",[$e].concat(Me(ne)),ae),s.send(me,Q,ne,ae)},-2),Pe(qe,"$respond_to_missing?",function($e,pe){var ae=this,Fe=ae.$$class.$$prototype[s.jsid($e)];return typeof Fe<"u"&&!Fe.$$stub},-2),Ue(qe,"eql?","=="),Ue(qe,"equal?","=="),Ue(qe,"inspect","to_s"),Ue(qe,"object_id","__id__")}("::",Boolean),X("::",He("Boolean"),"TrueClass"),X("::",He("Boolean"),"FalseClass"),Ie};Opal.modules["corelib/comparable"]=function(s){var X=s.truthy,xe=s.module,Pe=s.rb_gt,fe=s.rb_lt,Xe=s.eqeqeq,Se=s.Kernel,ke=s.def,ye=s.nil,W=s.$$$;return s.add_stubs(">,<,===,raise,class,<=>,equal?"),function(Me){var Ue=xe(Me,"Comparable"),Ie=ye;function He(te){return s.is_a(te,s.Integer)?te:Pe(te,0)?1:fe(te,0)?-1:0}function Ye(te,qe){var Je;Xe(ye,Ie=qe)||Xe(!0,Ie)||Xe(!1,Ie)||Xe(W("Integer"),Ie)||Xe(W("Float"),Ie)?Je=qe.$inspect():Je=qe.$$class,Se.$raise(W("ArgumentError"),"comparison of "+te.$class()+" with "+Je+" failed")}function ze(te,qe){var Je=te["$<=>"](qe);return X(Je)||Ye(te,qe),He(Je)}return ke(Ue,"$==",function(qe){var Je=this,Le=ye;return X(Je["$equal?"](qe))?!0:Je["$<=>"]==s.Kernel["$<=>"]?!1:Je.$$comparable?(Je.$$comparable=!1,!1):X(Le=Je["$<=>"](qe))?He(Le)==0:!1}),ke(Ue,"$>",function(qe){var Je=this;return ze(Je,qe)>0}),ke(Ue,"$>=",function(qe){var Je=this;return ze(Je,qe)>=0}),ke(Ue,"$<",function(qe){var Je=this;return ze(Je,qe)<0}),ke(Ue,"$<=",function(qe){var Je=this;return ze(Je,qe)<=0}),ke(Ue,"$between?",function(qe,Je){var Le=this;return!(fe(Le,qe)||Pe(Le,Je))}),ke(Ue,"$clamp",function(qe,Je){var Le=this;Je==null&&(Je=ye);var Ae,$e;if(Je===ye&&(s.is_a(qe,s.Range)||Se.$raise(W("TypeError"),"wrong argument type "+qe.$class()+" (expected Range)"),$e=qe.excl,Je=qe.end,qe=qe.begin,Je!==ye&&$e&&Se.$raise(W("ArgumentError"),"cannot clamp with an exclusive range")),qe!==ye&&Je!==ye&&ze(qe,Je)>0&&Se.$raise(W("ArgumentError"),"min argument must be smaller than max argument"),qe!==ye){if(Ae=ze(Le,qe),Ae==0)return Le;if(Ae<0)return qe}return Je!==ye&&(Ae=ze(Le,Je),Ae>0)?Je:Le},-2)}("::")};Opal.modules["corelib/regexp"]=function(s){var X=s.coerce_to,xe=s.prop,Pe=s.freeze,fe=s.klass,Xe=s.const_set,Se=s.send2,ke=s.find_super,ye=s.def,W=s.truthy,Me=s.gvars,Ue=s.slice,Ie=s.Kernel,He=s.Opal,Ye=s.alias,ze=s.send,te=s.hash2,qe=s.rb_plus,Je=s.ensure_kwargs,Le=s.rb_ge,Ae=s.to_a,$e=s.eqeqeq,pe=s.rb_minus,ae=s.return_ivar,Fe=[],ne=s.nil,me=s.$$$;return s.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),fe("::",me("StandardError"),"RegexpError"),function(Q,p,oe){var T=fe(Q,p,"Regexp"),V=[T].concat(oe),N=s.$r(V);return Xe(T,"IGNORECASE",1),Xe(T,"EXTENDED",2),Xe(T,"MULTILINE",4),s.prop(T.$$prototype,"$$is_regexp",!0),function(Ce,re){var L=[Ce].concat(re),d=s.$r(L);return ye(Ce,"$allocate",function i(){var r=i.$$p||ne,n=this,$=ne;return i.$$p=null,$=Se(n,ke(n,"allocate",i,!1,!0),"allocate",[],r),$.uninitialized=!0,$}),ye(Ce,"$escape",function(r){return s.escape_regexp(r)}),ye(Ce,"$last_match",function(r){return Me["~"]==null&&(Me["~"]=ne),r==null&&(r=ne),W(r["$nil?"]())?Me["~"]:W(Me["~"])?Me["~"]["$[]"](r):ne},-1),ye(Ce,"$union",function(r){var n,$,o=this;n=Ue(arguments),$=n;var g,y,P,be,tt;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];g=$[0].$$is_array,$.length>1&&g&&Ie.$raise(me("TypeError"),"no implicit conversion of Array into String"),g&&($=$[0]),be=void 0,y=[];for(var ot=0;ot<$.length;ot++)P=$[ot],P.$$is_string?y.push(o.$escape(P)):P.$$is_regexp?(tt=P.$options(),be!=null&&be!=tt&&Ie.$raise(me("TypeError"),"All expressions must use the same options"),be=tt,y.push("("+P.source+")")):y.push(o.$escape(P.$to_str()));return o.$new(y.$join("|"),be)},-1),ye(Ce,"$new",function(r,n){if(r.$$is_regexp)return new RegExp(r);if(r=He["$coerce_to!"](r,me("String"),"to_str"),r.charAt(r.length-1)==="\\"&&r.charAt(r.length-2)!=="\\"&&Ie.$raise(me("RegexpError"),"too short escape sequence: /"+r+"/"),r=r.replace("\\A","^").replace("\\z","$"),n===void 0||n["$!"]())return new RegExp(r);if(n.$$is_number){var $="";d("IGNORECASE")&n&&($+="i"),d("MULTILINE")&n&&($+="m"),n=$}else n="i";return new RegExp(r,n)},-2),Ye(Ce,"compile","new"),Ye(Ce,"quote","escape")}(s.get_singleton_class(T),V),ye(T,"$==",function(re){var L=this;return re instanceof RegExp&&L.toString()===re.toString()}),ye(T,"$===",function(re){var L=this;return L.$match(He["$coerce_to?"](re,me("String"),"to_str"))!==ne}),ye(T,"$=~",function(re){var L=this,d=ne;return Me["~"]==null&&(Me["~"]=ne),W(d=L.$match(re))?Me["~"].$begin(0):d}),ye(T,"$freeze",function(){var re=this;return W(re["$frozen?"]())?re:(re.hasOwnProperty("$$g")||xe(re,"$$g",null),re.hasOwnProperty("$$gm")||xe(re,"$$gm",null),Pe(re))}),ye(T,"$inspect",function(){var re=this,L=/^\/(.*)\/([^\/]*)$/,d=re.toString(),i=L.exec(d);if(i){for(var r=i[1],n=i[2],$=r.split(""),o=$.length,g=!1,y="",P=0;P<o;P++){var be=$[P];!g&&be=="/"&&(y=y.concat("\\")),y=y.concat(be),be=="\\"?g?g=!1:g=!0:g=!1}return"/"+y+"/"+n}else return d}),ye(T,"$match",function Ce(re,L){var d=Ce.$$p||ne,i=this;if(Me["~"]==null&&(Me["~"]=ne),Ce.$$p=null,i.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp"),L===void 0){if(re===ne)return Me["~"]=ne;var r=i.exec(X(re,me("String"),"to_str"));return r?(Me["~"]=me("MatchData").$new(i,r),d===ne?Me["~"]:s.yield1(d,Me["~"])):Me["~"]=ne}if(L=X(L,me("Integer"),"to_int"),re===ne||(re=X(re,me("String"),"to_str"),L<0&&(L+=re.length,L<0)))return Me["~"]=ne;for(var n,$=s.global_regexp(i);;){if(n=$.exec(re),n===null)return Me["~"]=ne;if(n.index>=L)return Me["~"]=me("MatchData").$new($,n),d===ne?Me["~"]:s.yield1(d,Me["~"]);$.lastIndex=n.index+1}},-2),ye(T,"$match?",function(re,L){var d=this;if(d.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp"),L===void 0)return re===ne?!1:d.test(X(re,me("String"),"to_str"));if(L=X(L,me("Integer"),"to_int"),re===ne||(re=X(re,me("String"),"to_str"),L<0&&(L+=re.length,L<0)))return!1;var i,r=s.global_regexp(d);return i=r.exec(re),!(i===null||i.index<L)},-2),ye(T,"$names",function(){var re=this;return ze(re.$source().$scan(/\(?<(\w+)>/,te(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),ye(T,"$named_captures",function(){var re=this;return ze(ze(ze(re.$source().$scan(/\(?<(\w+)>/,te(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(d){return d==null&&(d=ne),ze(d,"map",[],function(r){return r==null&&(r=ne),qe(r.$last(),1)})})}),ye(T,"$~",function(){var re=this;return Me._==null&&(Me._=ne),re["$=~"](Me._)}),ye(T,"$source",function(){var re=this;return re.source}),ye(T,"$options",function(){var re=this;re.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp");var L=0;return re.multiline&&(L|=N("MULTILINE")),re.ignoreCase&&(L|=N("IGNORECASE")),L}),ye(T,"$casefold?",function(){var re=this;return re.ignoreCase}),Ye(T,"eql?","=="),Ye(T,"to_s","source")}("::",RegExp,Fe),function(Q,p,oe){var T=fe(Q,p,"MatchData"),V=[T].concat(oe),N=s.$r(V),Ce=T.$$prototype;return Ce.matches=ne,T.$attr_reader("post_match","pre_match","regexp","string"),ye(T,"$initialize",function(L,d,i){var r,n=this;i=Je(i),r=i.$$smap.no_matchdata,r==null&&(r=!1),W(r)||(Me["~"]=n),n.regexp=L,n.begin=d.index,n.string=d.input,n.pre_match=d.input.slice(0,d.index),n.post_match=d.input.slice(d.index+d[0].length),n.matches=[];for(var $=0,o=d.length;$<o;$++){var g=d[$];g==null?n.matches.push(ne):n.matches.push(g)}},-3),ye(T,"$match",function(L){var d=this,i=ne;return W(i=d["$[]"](L))?i:W(L["$is_a?"](N("Integer")))&&W(Le(L,d.$length()))?Ie.$raise(me("IndexError"),"index "+L+" out of matches"):ne}),ye(T,"$match_length",function(L){var d,i=this;return d=i.$match(L),d===ne||d==null?ne:d.$length()}),ye(T,"$[]",function(L){var d,i,r=this;return d=Ue(arguments),i=d,i[0].$$is_string?(r.$regexp().$names()["$include?"](i["$[]"](0))["$!"]()&&Ie.$raise(me("IndexError"),"undefined group name reference: "+i["$[]"](0)),r.$named_captures()["$[]"](i["$[]"](0))):ze(r.matches,"[]",Ae(i))},-1),ye(T,"$offset",function(L){var d=this;return L!==0&&Ie.$raise(me("ArgumentError"),"MatchData#offset only supports 0th element"),[d.begin,d.begin+d.matches[L].length]}),ye(T,"$==",function(L){var d=this,i=ne,r=ne,n=ne,$=ne;return $e(me("MatchData"),L)?W(i=W(r=W(n=W($=d.string==L.string)?d.regexp.toString()==L.regexp.toString():$)?d.pre_match==L.pre_match:n)?d.post_match==L.post_match:r)?d.begin==L.begin:i:!1}),ye(T,"$begin",function(L){var d=this;return L!==0&&Ie.$raise(me("ArgumentError"),"MatchData#begin only supports 0th element"),d.begin}),ye(T,"$end",function(L){var d=this;return L!==0&&Ie.$raise(me("ArgumentError"),"MatchData#end only supports 0th element"),d.begin+d.matches[L].length}),ye(T,"$captures",function(){var L=this;return L.matches.slice(1)}),ye(T,"$named_captures",function(){var L=this,d=ne;return d=L.$captures(),ze(L.$regexp().$named_captures(),"transform_values",[],function(r){return r==null&&(r=ne),d["$[]"](pe(r.$last(),1))})}),ye(T,"$names",function(){var L=this;return L.$regexp().$names()}),ye(T,"$inspect",function(){var L=this,d="#<MatchData "+L.matches[0].$inspect();if(L.$regexp().$names()["$empty?"]())for(var i=1,r=L.matches.length;i<r;i++)d+=" "+i+":"+L.matches[i].$inspect();else ze(L.$named_captures(),"each",[],function($,o){return $==null&&($=ne),o==null&&(o=ne),d+=" "+$+":"+o.$inspect()});return d+">"}),ye(T,"$length",function(){var L=this;return L.matches.length}),ye(T,"$to_a",ae("matches")),ye(T,"$to_s",function(){var L=this;return L.matches[0]}),ye(T,"$values_at",function(L){var d,i,r=this;d=Ue(arguments),i=d;var n,$,o,g=[];for(n=0;n<i.length;n++){if(i[n].$$is_range&&($=i[n].$to_a(),$.unshift(n,1),Array.prototype.splice.apply(i,$)),o=He["$coerce_to!"](i[n],me("Integer"),"to_int"),o<0&&(o+=r.matches.length,o<0)){g.push(ne);continue}g.push(r.matches[o])}return g},-1),Ye(T,"eql?","=="),Ye(T,"size","length")}(Fe[0],null,Fe)};Opal.modules["corelib/string"]=function(s){var X=s.coerce_to,xe=s.respond_to,Pe=s.global_multiline_regexp,fe=s.prop,Xe=s.klass,Se=s.def,ke=s.Opal,ye=s.defs,W=s.slice,Me=s.send,Ue=s.to_a,Ie=s.extract_kwargs,He=s.ensure_kwargs,Ye=s.eqeqeq,ze=s.Kernel,te=s.truthy,qe=s.gvars,Je=s.rb_divide,Le=s.rb_plus,Ae=s.eqeq,$e=s.hash2,pe=s.alias,ae=s.const_set,Fe=s.top,ne=[],me=s.$r(ne),Q=s.nil,p=s.$$$;return s.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),Fe.$require("corelib/comparable"),Fe.$require("corelib/regexp"),function(oe,T,V){var N=Xe(oe,T,"String"),Ce=[N].concat(V),re=s.$r(Ce);N.$include(p("Comparable")),s.prop(N.$$prototype,"$$is_string",!0),Se(N,"$__id__",function(){var i=this;return i.toString()}),ye(N,"$try_convert",function(i){return ke["$coerce_to?"](i,p("String"),"to_str")}),ye(N,"$new",function(i){var r,n,$=this;r=W(arguments),n=r;var o=n[0]||"",g=n[n.length-1];return o=X(o,p("String"),"to_str"),g&&g.$$is_hash&&g.$$smap.encoding&&(o=o.$force_encoding(g.$$smap.encoding)),o=new $.$$constructor(o),o.$initialize.$$pristine||Me(o,"initialize",Ue(n)),o},-1),Se(N,"$initialize",function(i,r){var n,$;return n=W(arguments),$=Ie(n),$=He($),n.length>0&&n.shift(),$.$$smap.encoding,$.$$smap.capacity,Q},-1),Se(N,"$%",function(i){var r=this;return Ye(p("Array"),i)?Me(r,"format",[r].concat(Ue(i))):r.$format(r,i)}),Se(N,"$*",function(i){var r=this;if(i=X(i,p("Integer"),"to_int"),i<0&&ze.$raise(p("ArgumentError"),"negative argument"),i===0)return"";var n="",$=r.toString();for($.length*i>=1<<28&&ze.$raise(p("RangeError"),"multiply count must not overflow maximum string size");(i&1)===1&&(n+=$),i>>>=1,i!==0;)$+=$;return n}),Se(N,"$+",function(i){var r=this;if(i=X(i,p("String"),"to_str"),i==""&&r.$$class===s.String)return r;if(r==""&&i.$$class===s.String)return i;var n=r+i;return r.encoding===n.encoding&&i.encoding===n.encoding||r.encoding.name==="UTF-8"||i.encoding.name==="UTF-8"?n:s.enc(n,r.encoding)}),Se(N,"$<=>",function(i){var r=this;if(te(i["$respond_to?"]("to_str")))return i=i.$to_str().$to_s(),r>i?1:r<i?-1:0;var n=i["$<=>"](r);return n===Q?Q:n>0?-1:n<0?1:0}),Se(N,"$==",function(i){var r=this;return i.$$is_string?r.toString()===i.toString():xe(i,"$to_str")?i["$=="](r):!1}),Se(N,"$=~",function(i){var r=this;return i.$$is_string&&ze.$raise(p("TypeError"),"type mismatch: String given"),i["$=~"](r)}),Se(N,"$[]",function(i,r){var n=this,$=n.length,o,g;if(i.$$is_range)return o=i.excl,g=i,r=i.end===Q?-1:X(i.end,p("Integer"),"to_int"),i=i.begin===Q?0:X(i.begin,p("Integer"),"to_int"),Math.abs(i)>$?Q:(i<0&&(i+=$),r<0&&(r+=$),(!o||g.end===Q)&&(r+=1),r=r-i,r<0&&(r=0),n.substr(i,r));if(i.$$is_string)return r!=null&&ze.$raise(p("TypeError")),n.indexOf(i)!==-1?i:Q;if(i.$$is_regexp){var y=n.match(i);return y===null?(qe["~"]=Q,Q):(qe["~"]=p("MatchData").$new(i,y),r==null?y[0]:(r=X(r,p("Integer"),"to_int"),r<0&&-r<y.length?y[r+=y.length]:r>=0&&r<y.length?y[r]:Q))}return i=X(i,p("Integer"),"to_int"),i<0&&(i+=$),r==null?i>=$||i<0?Q:n.substr(i,1):(r=X(r,p("Integer"),"to_int"),r<0||i>$||i<0?Q:n.substr(i,r))},-2),Se(N,"$b",function(){var i=this;return new String(i).$force_encoding("binary")}),Se(N,"$capitalize",function(){var i=this;return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),Se(N,"$casecmp",function(i){var r=this;if(!te(i["$respond_to?"]("to_str")))return Q;i=X(i,p("String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(r)&&n.test(i)&&(r=r.toLowerCase(),i=i.toLowerCase()),r["$<=>"](i)}),Se(N,"$casecmp?",function(i){var r=this,n=r.$casecmp(i);return n===Q?Q:n===0}),Se(N,"$center",function(i,r){var n=this;if(r==null&&(r=" "),i=X(i,p("Integer"),"to_int"),r=X(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&ze.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var $=n.$ljust(Je(Le(i,n.length),2).$ceil(),r),o=n.$rjust(Je(Le(i,n.length),2).$floor(),r);return o+$.slice(n.length)},-2),Se(N,"$chomp",function(i){var r=this;if(qe["/"]==null&&(qe["/"]=Q),i==null&&(i=qe["/"]),te(i===Q||r.length===0))return r;i=ke["$coerce_to!"](i,p("String"),"to_str").$to_s();var n;if(i===`
`)n=r.replace(/\r?\n?$/,"");else if(i==="")n=r.replace(/(\r?\n)+$/,"");else if(r.length>=i.length){var $=r.substr(r.length-i.length,i.length);$===i&&(n=r.substr(0,r.length-i.length))}return n??r},-1),Se(N,"$chop",function(){var i=this,r=i.length,n;return r<=1?n="":i.charAt(r-1)===`
`&&i.charAt(r-2)==="\r"?n=i.substr(0,r-2):n=i.substr(0,r-1),n}),Se(N,"$chr",function(){var i=this;return i.charAt(0)}),Se(N,"$clone",function(i){var r,n=this,$=Q;return i=He(i),r=i.$$smap.freeze,r==null&&(r=Q),te(r["$nil?"]())||Ae(r,!0)||Ae(r,!1)||n.$raise(re("ArgumentError"),"unexpected value for freeze: "+r.$class()),$=new String(n),$.$copy_singleton_methods(n),$.$initialize_clone(n,$e(["freeze"],{freeze:r})),Ae(r,!0)?$.$$frozen||($.$$frozen=!0):te(r["$nil?"]())&&n.$$frozen&&($.$$frozen=!0),$},-1),Se(N,"$dup",function(){var i=this,r=Q;return r=new String(i),r.$initialize_dup(i),r}),Se(N,"$count",function(i){var r,n,$=this;r=W(arguments),n=r,n.length===0&&ze.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=L(n);return o===null?0:$.length-$.replace(new RegExp(o,"g"),"").length},-1),Se(N,"$delete",function(i){var r,n,$=this;r=W(arguments),n=r,n.length===0&&ze.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=L(n);return o===null?$:$.replace(new RegExp(o,"g"),"")},-1),Se(N,"$delete_prefix",function(i){var r=this;return i.$$is_string||(i=X(i,p("String"),"to_str")),r.slice(0,i.length)===i?r.slice(i.length):r}),Se(N,"$delete_suffix",function(i){var r=this;return i.$$is_string||(i=X(i,p("String"),"to_str")),r.slice(r.length-i.length)===i?r.slice(0,r.length-i.length):r}),Se(N,"$downcase",function(){var i=this;return i.toLowerCase()}),Se(N,"$each_line",function d(i,r){var n=d.$$p||Q,$,o,g,y,P=this;if(qe["/"]==null&&(qe["/"]=Q),d.$$p=null,$=W(arguments),o=Ie($),o=He(o),$.length>0&&(g=$.shift()),g==null&&(g=qe["/"]),y=o.$$smap.chomp,y==null&&(y=!1),n===Q)return P.$enum_for("each_line",g,$e(["chomp"],{chomp:y}));if(g===Q)return s.yield1(n,P),P;g=X(g,p("String"),"to_str");var be,tt,ot,lt,vt,_t,bt,pt;if(g.length===0){for(be=P.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),tt=0,ot=be.length;tt<ot;tt+=2)(be[tt]||be[tt+1])&&(pt=(be[tt]||"")+(be[tt+1]||""),y&&(pt=pt.$chomp(`
`)),s.yield1(n,pt));return P}for(vt=P.$chomp(g),_t=P.length!=vt.length,bt=vt.split(g),tt=0,lt=bt.length;tt<lt;tt++)pt=bt[tt],(tt<lt-1||_t)&&(pt+=g),y&&(pt=pt.$chomp(g)),s.yield1(n,pt);return P},-1),Se(N,"$empty?",function(){var i=this;return i.length===0}),Se(N,"$end_with?",function(i){var r,n,$=this;r=W(arguments),n=r;for(var o=0,g=n.length;o<g;o++){var y=X(n[o],p("String"),"to_str").$to_s();if($.length>=y.length&&$.substr($.length-y.length,y.length)==y)return!0}return!1},-1),Se(N,"$gsub",function d(i,r){var n=d.$$p||Q,$=this;if(d.$$p=null,r===void 0&&n===Q)return $.$enum_for("gsub",i);var o="",g=Q,y=0,P,be;i.$$is_regexp?i=Pe(i):(i=X(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var tt;;){if(P=i.exec($),P===null){qe["~"]=Q,o+=$.slice(y);break}g=p("MatchData").$new(i,P),r===void 0?(tt=i.lastIndex,be=n(P[0]),i.lastIndex=tt):r.$$is_hash?be=r["$[]"](P[0]).$to_s():(r.$$is_string||(r=X(r,p("String"),"to_str")),be=r.replace(/([\\]+)([0-9+&`'])/g,function(ot,lt,vt){if(lt.length%2===0)return ot;switch(vt){case"+":for(var _t=P.length-1;_t>0;_t--)if(P[_t]!==void 0)return lt.slice(1)+P[_t];return"";case"&":return lt.slice(1)+P[0];case"`":return lt.slice(1)+$.slice(0,P.index);case"'":return lt.slice(1)+$.slice(P.index+P[0].length);default:return lt.slice(1)+(P[vt]||"")}}).replace(/\\\\/g,"\\")),i.lastIndex===P.index?(o+=$.slice(y,P.index)+be+($[P.index]||""),i.lastIndex+=1):o+=$.slice(y,P.index)+be,y=i.lastIndex}return qe["~"]=g,o},-2),Se(N,"$hash",function(){var i=this;return i.toString()}),Se(N,"$hex",function(){var i=this;return i.$to_i(16)}),Se(N,"$include?",function(i){var r=this;return i.$$is_string||(i=X(i,p("String"),"to_str")),r.indexOf(i)!==-1}),Se(N,"$index",function(i,r){var n=this,$,o,g;if(r===void 0)r=0;else if(r=X(r,p("Integer"),"to_int"),r<0&&(r+=n.length,r<0))return Q;if(i.$$is_regexp)for(g=Pe(i);;){if(o=g.exec(n),o===null){qe["~"]=Q,$=-1;break}if(o.index>=r){qe["~"]=p("MatchData").$new(g,o),$=o.index;break}g.lastIndex=o.index+1}else i=X(i,p("String"),"to_str"),i.length===0&&r>n.length?$=-1:$=n.indexOf(i,r);return $===-1?Q:$},-2),Se(N,"$inspect",function(){var i=this,r=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},$=i.replace(r,function(o){return n[o]?n[o]:(o=o.charCodeAt(0),o<=255&&(i.encoding["$binary?"]()||i.internal_encoding["$binary?"]())?"\\x"+("00"+o.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+o.toString(16).toUpperCase()).slice(-4))});return'"'+$.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),Se(N,"$intern",function(){var i=this;return i.toString()}),Se(N,"$length",function(){var i=this;return i.length}),pe(N,"size","length"),Se(N,"$lines",function d(i,r){var n=d.$$p||Q,$,o,g,y,P=this,be=Q;return qe["/"]==null&&(qe["/"]=Q),d.$$p=null,$=W(arguments),o=Ie($),o=He(o),$.length>0&&(g=$.shift()),g==null&&(g=qe["/"]),y=o.$$smap.chomp,y==null&&(y=!1),be=Me(P,"each_line",[g,$e(["chomp"],{chomp:y})],n.$to_proc()),te(n)?P:be.$to_a()},-1),Se(N,"$ljust",function(i,r){var n=this;if(r==null&&(r=" "),i=X(i,p("Integer"),"to_int"),r=X(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&ze.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var $=-1,o="";for(i-=n.length;++$<i;)o+=r;return n+o.slice(0,i)},-2),Se(N,"$lstrip",function(){var i=this;return i.replace(/^[\u0000\s]*/,"")}),Se(N,"$ascii_only?",function(){var i=this;return i.encoding.ascii?/^[\x00-\x7F]*$/.test(i):!1}),Se(N,"$match",function d(i,r){var n=d.$$p||Q,$=this;return d.$$p=null,(Ye(re("String"),i)||te(i["$respond_to?"]("to_str")))&&(i=p("Regexp").$new(i.$to_str())),Ye(p("Regexp"),i)||ze.$raise(p("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),Me(i,"match",[$,r],n.$to_proc())},-2),Se(N,"$match?",function(i,r){var n=this;return(Ye(re("String"),i)||te(i["$respond_to?"]("to_str")))&&(i=p("Regexp").$new(i.$to_str())),Ye(p("Regexp"),i)||ze.$raise(p("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),i["$match?"](n,r)},-2),Se(N,"$next",function(){var i=this,r=i.length;if(r===0)return"";for(var n=i,$=i.search(/[a-zA-Z0-9]/),o=!1,g;r--;){if(g=i.charCodeAt(r),g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122)switch(g){case 57:o=!0,g=48;break;case 90:o=!0,g=65;break;case 122:o=!0,g=97;break;default:o=!1,g+=1}else $===-1?g===255?(o=!0,g=0):(o=!1,g+=1):o=!0;if(n=n.slice(0,r)+String.fromCharCode(g)+n.slice(r+1),o&&(r===0||r===$)){switch(g){case 65:break;case 97:break;default:g+=1}r===0?n=String.fromCharCode(g)+n:n=n.slice(0,r)+String.fromCharCode(g)+n.slice(r),o=!1}if(!o)break}return n}),Se(N,"$oct",function(){var i=this,r,n=i,$=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(o,g,y,P){switch(P.charAt(0)){case"+":case"-":return o;case"0":if(P.charAt(1)==="x"&&y==="0x")return o}switch(y){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16;break}return g+P}),r=parseInt(n.replace(/_(?!_)/g,""),$),isNaN(r)?0:r)}),Se(N,"$ord",function(){var i=this;return typeof i.codePointAt=="function"?i.codePointAt(0):i.charCodeAt(0)}),Se(N,"$partition",function(i){var r=this,n,$;return i.$$is_regexp?($=i.exec(r),$===null?n=-1:(p("MatchData").$new(i,$),i=$[0],n=$.index)):(i=X(i,p("String"),"to_str"),n=r.indexOf(i)),n===-1?[r,"",""]:[r.slice(0,n),r.slice(n,n+i.length),r.slice(n+i.length)]}),Se(N,"$reverse",function(){var i=this;return i.split("").reverse().join("")}),Se(N,"$rindex",function(i,r){var n=this,$,o,g,y;if(r===void 0)r=n.length;else if(r=X(r,p("Integer"),"to_int"),r<0&&(r+=n.length,r<0))return Q;if(i.$$is_regexp){for(o=null,g=Pe(i);y=g.exec(n),!(y===null||y.index>r);)o=y,g.lastIndex=o.index+1;o===null?(qe["~"]=Q,$=-1):(p("MatchData").$new(g,o),$=o.index)}else i=X(i,p("String"),"to_str"),$=n.lastIndexOf(i,r);return $===-1?Q:$},-2),Se(N,"$rjust",function(i,r){var n=this;if(r==null&&(r=" "),i=X(i,p("Integer"),"to_int"),r=X(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&ze.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var $=Math.floor(i-n.length),o=Math.floor($/r.length),g=Array(o+1).join(r),y=$-g.length;return g+r.slice(0,y)+n},-2),Se(N,"$rpartition",function(i){var r=this,n,$,o,g;if(i.$$is_regexp){for($=null,o=Pe(i);g=o.exec(r),g!==null;)$=g,o.lastIndex=$.index+1;$===null?n=-1:(p("MatchData").$new(o,$),i=$[0],n=$.index)}else i=X(i,p("String"),"to_str"),n=r.lastIndexOf(i);return n===-1?["","",r]:[r.slice(0,n),r.slice(n,n+i.length),r.slice(n+i.length)]}),Se(N,"$rstrip",function(){var i=this;return i.replace(/[\s\u0000]*$/,"")}),Se(N,"$scan",function d(i,r){var n=d.$$p||Q,$,o=this;d.$$p=null,r=He(r),$=r.$$smap.no_matchdata,$==null&&($=!1);var g=[],y=Q,P;for(i.$$is_regexp?i=Pe(i):(i=X(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(P=i.exec(o))!=null;)y=p("MatchData").$new(i,P,$e(["no_matchdata"],{no_matchdata:$})),n===Q?P.length==1?g.push(P[0]):g.push(y.$captures()):P.length==1?s.yield1(n,P[0]):s.yield1(n,y.$captures()),i.lastIndex===P.index&&(i.lastIndex+=1);return $||(qe["~"]=y),n!==Q?o:g},-2),Se(N,"$singleton_class",function(){var i=this;return s.get_singleton_class(i)}),Se(N,"$split",function(i,r){var n=this,$=Q;if(qe[";"]==null&&(qe[";"]=Q),n.length===0)return[];if(r===void 0)r=0;else if(r=ke["$coerce_to!"](r,p("Integer"),"to_int"),r===1)return[n];(i===void 0||i===Q)&&(i=te($=qe[";"])?$:" ");var o=[],g=n.toString(),y=0,P,be,tt;if(i.$$is_regexp?i=Pe(i):(i=X(i,p("String"),"to_str").$to_s(),i===" "?(i=/\s+/gm,g=g.replace(/^\s+/,"")):i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),o=g.split(i),o.length===1&&o[0]===g)return[o[0]];for(;(be=o.indexOf(void 0))!==-1;)o.splice(be,1);if(r===0){for(;o[o.length-1]==="";)o.length-=1;return o}if(P=i.exec(g),r<0){if(P!==null&&P[0]===""&&i.source.indexOf("(?=")===-1)for(be=0,tt=P.length;be<tt;be++)o.push("");return o}if(P!==null&&P[0]==="")return o.splice(r-1,o.length-1,o.slice(r-1).join("")),o;if(r>=o.length)return o;for(be=0;P!==null&&(be++,y=i.lastIndex,be+1!==r);)P=i.exec(g);return o.splice(r-1,o.length-1,g.slice(y)),o},-1),Se(N,"$squeeze",function(i){var r,n,$=this;if(r=W(arguments),n=r,n.length===0)return $.replace(/(.)\1+/g,"$1");var o=L(n);return o===null?$:$.replace(new RegExp("("+o+")\\1+","g"),"$1")},-1),Se(N,"$start_with?",function(i){var r,n,$=this;r=W(arguments),n=r;for(var o=0,g=n.length;o<g;o++)if(n[o].$$is_regexp){var y=n[o],P=y.exec($);if(P!=null&&P.index===0)return qe["~"]=p("MatchData").$new(y,P),!0;qe["~"]=Q}else{var be=X(n[o],p("String"),"to_str").$to_s();if($.indexOf(be)===0)return!0}return!1},-1),Se(N,"$strip",function(){var i=this;return i.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),Se(N,"$sub",function d(i,r){var n=d.$$p||Q,$=this;d.$$p=null,i.$$is_regexp||(i=X(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,g=i.exec($);return g===null?(qe["~"]=Q,o=$.toString()):(p("MatchData").$new(i,g),r===void 0?(n===Q&&ze.$raise(p("ArgumentError"),"wrong number of arguments (1 for 2)"),o=$.slice(0,g.index)+n(g[0])+$.slice(g.index+g[0].length)):r.$$is_hash?o=$.slice(0,g.index)+r["$[]"](g[0]).$to_s()+$.slice(g.index+g[0].length):(r=X(r,p("String"),"to_str"),r=r.replace(/([\\]+)([0-9+&`'])/g,function(y,P,be){if(P.length%2===0)return y;switch(be){case"+":for(var tt=g.length-1;tt>0;tt--)if(g[tt]!==void 0)return P.slice(1)+g[tt];return"";case"&":return P.slice(1)+g[0];case"`":return P.slice(1)+$.slice(0,g.index);case"'":return P.slice(1)+$.slice(g.index+g[0].length);default:return P.slice(1)+(g[be]||"")}}).replace(/\\\\/g,"\\"),o=$.slice(0,g.index)+r+$.slice(g.index+g[0].length))),o},-2),Se(N,"$sum",function(i){var r=this;i==null&&(i=16),i=X(i,p("Integer"),"to_int");for(var n=0,$=r.length,o=0;o<$;o++)n+=r.charCodeAt(o);return i<=0?n:n&Math.pow(2,i)-1},-1),Se(N,"$swapcase",function(){var i=this,r=i.replace(/([a-z]+)|([A-Z]+)/g,function(n,$,o){return $?n.toUpperCase():n.toLowerCase()});return r}),Se(N,"$to_f",function(){var i=this;if(i.charAt(0)==="_")return 0;var r=parseFloat(i.replace(/_/g,""));return isNaN(r)||r==1/0||r==-1/0?0:r}),Se(N,"$to_i",function(i){var r=this;i==null&&(i=10);var n,$=r.toLowerCase(),o=X(i,p("Integer"),"to_int");return(o===1||o<0||o>36)&&ze.$raise(p("ArgumentError"),"invalid radix "+o),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(g,y,P,be){switch(be.charAt(0)){case"+":case"-":return g;case"0":if(be.charAt(1)==="x"&&P==="0x"&&(o===0||o===16))return g}switch(P){case"0b":if(o===0||o===2)return o=2,y+be;break;case"0":case"0o":if(o===0||o===8)return o=8,y+be;break;case"0d":if(o===0||o===10)return o=10,y+be;break;case"0x":if(o===0||o===16)return o=16,y+be;break}return g}),n=parseInt($.replace(/_(?!_)/g,""),o),isNaN(n)?0:n)},-1),Se(N,"$to_proc",function d(){d.$$p;var i=this,r=Q,n=Q,$=Q;return d.$$p=null,r=i.valueOf(),n=s.jsid(r),$=Me(ze,"proc",[],function o(g){var y=o.$$p||Q,P,be;o.$$p=null,P=W(arguments),be=P,be.length===0&&ze.$raise(p("ArgumentError"),"no receiver given");var tt=be[0];tt==null&&(tt=Q);var ot=tt[n];return ot?be=be.slice(1):(ot=tt.$method_missing,be[0]=r),typeof y=="function"&&(ot.$$p=y),be.length===0?ot.call(tt):ot.apply(tt,be)},-1),$.$$source_location=Q,$}),Se(N,"$to_s",function(){var i=this;return i.toString()}),Se(N,"$tr",function(i,r){var n=this;if(i=X(i,p("String"),"to_str").$to_s(),r=X(r,p("String"),"to_str").$to_s(),i.length==0||i===r)return n;var $,o,g,y,P,be,tt,ot={},lt=i.split(""),vt=lt.length,_t=r.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,$=0;$<vt;$++)if(y=lt[$],Qe==null)Qe=y,mt.push(y);else if(y==="-")Qe==="-"?(mt.push("-"),mt.push("-")):$==vt-1?mt.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&ze.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)mt.push(String.fromCharCode(g));mt.push(y),o=null,Qe=null}else mt.push(y);if(lt=mt,vt=lt.length,pt)for($=0;$<vt;$++)ot[lt[$]]=!0;else{if(bt>0){var le=[],ge=null;for(o=!1,$=0;$<bt;$++)if(y=_t[$],ge==null)ge=y,le.push(y);else if(y==="-")ge==="-"?(le.push("-"),le.push("-")):$==bt-1?le.push("-"):o=!0;else if(o){for(P=ge.charCodeAt(0),be=y.charCodeAt(0),P>be&&ze.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)le.push(String.fromCharCode(g));le.push(y),o=null,ge=null}else le.push(y);_t=le,bt=_t.length}var De=vt-bt;if(De>0){var f=bt>0?_t[bt-1]:"";for($=0;$<De;$++)_t.push(f)}for($=0;$<vt;$++)ot[lt[$]]=_t[$]}var w="";for($=0,tt=n.length;$<tt;$++){y=n.charAt($);var Z=ot[y];pt?w+=Z==null?gt:y:w+=Z??y}return w}),Se(N,"$tr_s",function(i,r){var n=this;if(i=X(i,p("String"),"to_str").$to_s(),r=X(r,p("String"),"to_str").$to_s(),i.length==0)return n;var $,o,g,y,P,be,tt,ot={},lt=i.split(""),vt=lt.length,_t=r.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,$=0;$<vt;$++)if(y=lt[$],Qe==null)Qe=y,mt.push(y);else if(y==="-")Qe==="-"?(mt.push("-"),mt.push("-")):$==vt-1?mt.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&ze.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)mt.push(String.fromCharCode(g));mt.push(y),o=null,Qe=null}else mt.push(y);if(lt=mt,vt=lt.length,pt)for($=0;$<vt;$++)ot[lt[$]]=!0;else{if(bt>0){var le=[],ge=null;for(o=!1,$=0;$<bt;$++)if(y=_t[$],Qe==null)Qe=y,le.push(y);else if(y==="-")ge==="-"?(le.push("-"),le.push("-")):$==bt-1?le.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&ze.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)le.push(String.fromCharCode(g));le.push(y),o=null,Qe=null}else le.push(y);_t=le,bt=_t.length}var De=vt-bt;if(De>0){var f=bt>0?_t[bt-1]:"";for($=0;$<De;$++)_t.push(f)}for($=0;$<vt;$++)ot[lt[$]]=_t[$]}var w="",Z=null;for($=0,tt=n.length;$<tt;$++){y=n.charAt($);var de=ot[y];pt?de==null?Z==null&&(w+=gt,Z=!0):(w+=y,Z=null):de!=null?(Z==null||Z!==de)&&(w+=de,Z=de):(w+=y,Z=null)}return w}),Se(N,"$upcase",function(){var i=this;return i.toUpperCase()}),Se(N,"$upto",function d(i,r){var n=d.$$p||Q,$=this;if(d.$$p=null,r==null&&(r=!1),n===Q)return $.$enum_for("upto",i,r);var o,g,y=$.toString();if(i=X(i,p("String"),"to_str"),y.length===1&&i.length===1)for(o=y.charCodeAt(0),g=i.charCodeAt(0);o<=g&&!(r&&o===g);)n(String.fromCharCode(o)),o+=1;else if(parseInt(y,10).toString()===y&&parseInt(i,10).toString()===i)for(o=parseInt(y,10),g=parseInt(i,10);o<=g&&!(r&&o===g);)n(o.toString()),o+=1;else for(;y.length<=i.length&&y<=i&&!(r&&y===i);)n(y),y=y.$succ();return $},-2);function L(d){function i(ot){var lt="",vt,_t=ot.length,bt,pt,gt,mt,Qe;for(vt=0;vt<_t;vt++)if(bt=ot.charAt(vt),bt==="-"&&vt>0&&vt<_t-1&&!pt){for(gt=ot.charCodeAt(vt-1),mt=ot.charCodeAt(vt+1),gt>mt&&ze.$raise(p("ArgumentError"),'invalid range "'+gt+"-"+mt+'" in string transliteration'),Qe=gt+1;Qe<mt+1;Qe++)lt+=String.fromCharCode(Qe);pt=!0,vt++}else pt=bt==="\\",lt+=bt;return lt}function r(ot,lt){if(ot.length===0)return lt;var vt="",_t,bt=ot.length,pt;for(_t=0;_t<bt;_t++)pt=ot.charAt(_t),lt.indexOf(pt)!==-1&&(vt+=pt);return vt}var n,$,o,g,y,P,be="",tt="";for(n=0,$=d.length;n<$;n++)o=X(d[n],p("String"),"to_str"),g=o.charAt(0)==="^"&&o.length>1,o=i(g?o.slice(1):o),g?tt=r(tt,o):be=r(be,o);if(be.length>0&&tt.length>0){for(P="",n=0,$=be.length;n<$;n++)y=be.charAt(n),tt.indexOf(y)===-1&&(P+=y);be=P,tt=""}return be.length>0?"["+p("Regexp").$escape(be)+"]":tt.length>0?"[^"+p("Regexp").$escape(tt)+"]":null}return Se(N,"$instance_variables",function(){return[]}),ye(N,"$_load",function(i){var r,n,$=this;return r=W(arguments),n=r,Me($,"new",Ue(n))},-1),Se(N,"$unicode_normalize",function(i){var r=this;return i==null&&(i="nfc"),te(["nfc","nfd","nfkc","nfkd"]["$include?"](i))||ze.$raise(p("ArgumentError"),"Invalid normalization form "+i),r.normalize(i.$upcase())},-1),Se(N,"$unicode_normalized?",function(i){var r=this;return i==null&&(i="nfc"),r.$unicode_normalize(i)["$=="](r)},-1),Se(N,"$unpack",function(i){return ze.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),Se(N,"$unpack1",function(i){return ze.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),Se(N,"$freeze",function(){var i=this;return typeof i=="string"||fe(i,"$$frozen",!0),i}),Se(N,"$-@",function(){var i=this;return typeof i=="string"||i.$$frozen?i:i.encoding.name=="UTF-8"&&i.internal_encoding.name=="UTF-8"?i.toString():i.$dup().$freeze()}),Se(N,"$frozen?",function(){var i=this;return typeof i=="string"||i.$$frozen===!0}),pe(N,"+@","dup"),pe(N,"===","=="),pe(N,"byteslice","[]"),pe(N,"eql?","=="),pe(N,"equal?","==="),pe(N,"object_id","__id__"),pe(N,"slice","[]"),pe(N,"succ","next"),pe(N,"to_str","to_s"),pe(N,"to_sym","intern"),ke.$pristine(N,"initialize")}("::",String,ne),ae(ne[0],"Symbol",me("String"))};Opal.modules["corelib/enumerable"]=function(s){var X=s.truthy,xe=s.coerce_to,Pe=s.yield1,fe=s.yieldX,Xe=s.deny_frozen_access,Se=s.module,ke=s.send,ye=s.slice,W=s.to_a,Me=s.Opal,Ue=s.thrower,Ie=s.def,He=s.Kernel,Ye=s.return_val,ze=s.rb_gt,te=s.rb_times,qe=s.rb_lt,Je=s.eqeq,Le=s.rb_plus,Ae=s.rb_minus,$e=s.rb_divide,pe=s.rb_le,ae=s.hash2,Fe=s.lambda,ne=s.not,me=s.alias,Q=[],p=s.nil,oe=s.$$$;return s.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(T,V){var N=Se(T,"Enumerable"),Ce=[N].concat(V),re=s.$r(Ce);function L(d){return d.length===0&&(d=[p]),d.length>1&&(d=[d]),d}return Ie(N,"$all?",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this;return d.$$p=null,X(i!==void 0)?ke($,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),X(ke(i,"public_send",["==="].concat(W(be)))))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}):n!==p?ke($,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,X(s.yieldX(n,W(P))))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}):ke($,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,X(Me.$destructure(P)))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}),!0}catch(o){if(o===r)return o.$v;throw o}},-1),Ie(N,"$any?",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this;return d.$$p=null,X(i!==void 0)?ke($,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),X(ke(i,"public_send",["==="].concat(W(be)))))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}):n!==p?ke($,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,X(s.yieldX(n,W(P))))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}):ke($,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,X(Me.$destructure(P)))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}),!1}catch(o){if(o===r)return o.$v;throw o}},-1),Ie(N,"$chunk",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?ke(r,"to_enum",["chunk"],function n(){var $=n.$$s==null?this:n.$$s;return $.$enumerator_size()},{$$s:r}):ke(oe("Enumerator"),"new",[],function n($){var o=n.$$s==null?this:n.$$s;$==null&&($=p);var g=p,y=[];function P(){y.length>0&&$.$yield(g,y)}o.$each.$$p=function(be){var tt=Pe(i,be);tt===p?(P(),y=[],g=p):(g===p||g===tt?y.push(be):(P(),y=[be]),g=tt)},o.$each(),P()},{$$s:r})}),Ie(N,"$chunk_while",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p&&He.$raise(oe("ArgumentError"),"no block given"),ke(r,"slice_when",[],function($,o){return $==null&&($=p),o==null&&(o=p),s.yieldX(i,[$,o])["$!"]()})}),Ie(N,"$collect",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return ke(r,"enum_for",["collect"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var $=fe(i,arguments);n.push($)},r.$each(),n}),Ie(N,"$collect_concat",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?ke(r,"enum_for",["collect_concat"],function n(){var $=n.$$s==null?this:n.$$s;return $.$enumerator_size()},{$$s:r}):ke(r,"map",[],i.$to_proc()).$flatten(1)}),Ie(N,"$compact",function(){var i=this;return i.$to_a().$compact()}),Ie(N,"$count",function d(i){var r=d.$$p||p,n=this,$=p;return d.$$p=null,$=0,i!=null&&r!==p&&n.$warn("warning: given block not used"),X(i!=null)?r=ke(He,"proc",[],function(g){var y,P;return y=ye(arguments),P=y,Me.$destructure(P)["$=="](i)},-1):X(r["$nil?"]())&&(r=ke(He,"proc",[],Ye(!0))),ke(n,"each",[],function(g){var y,P;return y=ye(arguments),P=y,X(fe(r,P))?$++:p},-1),$},-1),Ie(N,"$cycle",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),r===p)return ke(n,"enum_for",["cycle",i],function y(){var P=y.$$s==null?this:y.$$s;return X(i["$nil?"]())?X(P["$respond_to?"]("size"))?oe(oe("Float"),"INFINITY"):p:(i=Me["$coerce_to!"](i,oe("Integer"),"to_int"),X(ze(i,0))?te(P.$enumerator_size(),i):0)},{$$s:n});if(!X(i["$nil?"]())&&(i=Me["$coerce_to!"](i,oe("Integer"),"to_int"),X(i<=0)))return p;var $=[],o,g;if(n.$each.$$p=function(){var y=Me.$destructure(arguments);Pe(r,y),$.push(y)},n.$each(),$.length===0)return p;if(i===p)for(;;)for(o=0,g=$.length;o<g;o++)Pe(r,$[o]);else for(;i>1;){for(o=0,g=$.length;o<g;o++)Pe(r,$[o]);i--}},-1),Ie(N,"$detect",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this;return d.$$p=null,n===p?$.$enum_for("detect",i):(ke($,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=Me.$destructure(P),X(s.yield1(n,be)))r.$throw(be);else return p},{$$arity:-1,$$ret:r}),i!==void 0?typeof i=="function"?i():i:p)}catch(o){if(o===r)return o.$v;throw o}},-1),Ie(N,"$drop",function(i){var r=this;i=xe(i,oe("Integer"),"to_int"),X(i<0)&&He.$raise(oe("ArgumentError"),"attempt to drop negative size");var n=[],$=0;return r.$each.$$p=function(){i<=$&&n.push(Me.$destructure(arguments)),$++},r.$each(),n}),Ie(N,"$drop_while",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return r.$enum_for("drop_while");var n=[],$=!0;return r.$each.$$p=function(){var o=Me.$destructure(arguments);if($){var g=Pe(i,o);X(g)||($=!1,n.push(o))}else n.push(o)},r.$each(),n}),Ie(N,"$each_cons",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,X(arguments.length!=1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),i=Me.$try_convert(i,oe("Integer"),"to_int"),X(i<=0)&&He.$raise(oe("ArgumentError"),"invalid size"),r===p)return ke(n,"enum_for",["each_cons",i],function o(){var g=o.$$s==null?this:o.$$s,y=p;return y=g.$enumerator_size(),X(y["$nil?"]())?p:Je(y,0)||X(qe(y,i))?0:Le(Ae(y,i),1)},{$$s:n});var $=[];return n.$each.$$p=function(){var o=Me.$destructure(arguments);$.push(o),$.length>i&&$.shift(),$.length==i&&Pe(r,$.slice(0,i))},n.$each(),n}),Ie(N,"$each_entry",function d(i){var r=d.$$p||p,n,$,o=this;return d.$$p=null,n=ye(arguments),$=n,r===p?ke(o,"to_enum",["each_entry"].concat(W($)),function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:o}):(o.$each.$$p=function(){var g=Me.$destructure(arguments);Pe(r,g)},o.$each.apply(o,$),o)},-1),Ie(N,"$each_slice",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i=xe(i,oe("Integer"),"to_int"),X(i<=0)&&He.$raise(oe("ArgumentError"),"invalid slice size"),r===p)return ke(n,"enum_for",["each_slice",i],function o(){var g=o.$$s==null?this:o.$$s;return X(g["$respond_to?"]("size"))?$e(g.$size(),i).$ceil():p},{$$s:n});var $=[];return n.$each.$$p=function(){var o=Me.$destructure(arguments);$.push(o),$.length===i&&(Pe(r,$),$=[])},n.$each(),$.length>0&&Pe(r,$),n}),Ie(N,"$each_with_index",function d(i){var r=d.$$p||p,n,$,o=this;if(d.$$p=null,n=ye(arguments),$=n,r===p)return ke(o,"enum_for",["each_with_index"].concat(W($)),function y(){var P=y.$$s==null?this:y.$$s;return P.$enumerator_size()},{$$s:o});var g=0;return o.$each.$$p=function(){var y=Me.$destructure(arguments);r(y,g),g++},o.$each.apply(o,$),o},-1),Ie(N,"$each_with_object",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,r===p?ke(n,"enum_for",["each_with_object",i],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var $=Me.$destructure(arguments);r($,i)},n.$each(),i)}),Ie(N,"$entries",function(i){var r,n,$=this;r=ye(arguments),n=r;var o=[];return $.$each.$$p=function(){o.push(Me.$destructure(arguments))},$.$each.apply($,n),o},-1),Ie(N,"$filter_map",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?ke(r,"enum_for",["filter_map"],function n(){var $=n.$$s==null?this:n.$$s;return $.$enumerator_size()},{$$s:r}):ke(ke(r,"map",[],i.$to_proc()),"select",[],"itself".$to_proc())}),Ie(N,"$find_all",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return ke(r,"enum_for",["find_all"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var $=Me.$destructure(arguments),o=Pe(i,$);X(o)&&n.push($)},r.$each(),n}),Ie(N,"$find_index",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this,o=p;return d.$$p=null,X(i===void 0&&n===p)?$.$enum_for("find_index"):(i!=null&&n!==p&&$.$warn("warning: given block not used"),o=0,X(i!=null)?ke($,"each",[],function(y){var P,be;return P=ye(arguments),be=P,Je(Me.$destructure(be),i)&&r.$throw(o),o+=1},{$$arity:-1,$$ret:r}):ke($,"each",[],function(y){var P,be;return P=ye(arguments),be=P,X(s.yieldX(n,W(be)))&&r.$throw(o),o+=1},{$$arity:-1,$$ret:r}),p)}catch(g){if(g===r)return g.$v;throw g}},-1),Ie(N,"$first",function(i){try{var r=Ue("return"),n=this,$=p,o=p;return X(i===void 0)?ke(n,"each",[],function(y){y==null&&(y=p),r.$throw(y)},{$$ret:r}):($=[],i=xe(i,oe("Integer"),"to_int"),X(i<0)&&He.$raise(oe("ArgumentError"),"attempt to take negative size"),X(i==0)?[]:(o=0,ke(n,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,$.push(Me.$destructure(be)),X(i<=++o))r.$throw($);else return p},{$$arity:-1,$$ret:r}),$))}catch(g){if(g===r)return g.$v;throw g}},-1),Ie(N,"$grep",function d(i){var r=d.$$p||p,n=this,$=p;return d.$$p=null,$=[],ke(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=L(P),X(ke(i,"__send__",["==="].concat(W(be))))?(r!==p?(X(ze(P.$length(),1))&&(P=[P]),P=s.yieldX(r,W(P))):X(pe(P.$length(),1))&&(P=P["$[]"](0)),$.$push(P)):p},-1),$}),Ie(N,"$grep_v",function d(i){var r=d.$$p||p,n=this,$=p;return d.$$p=null,$=[],ke(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=L(P),X(ke(i,"__send__",["==="].concat(W(be))))?p:(r!==p?(X(ze(P.$length(),1))&&(P=[P]),P=s.yieldX(r,W(P))):X(pe(P.$length(),1))&&(P=P["$[]"](0)),$.$push(P))},-1),$}),Ie(N,"$group_by",function d(){var i=d.$$p||p,r,n=this,$=p,o=p;return d.$$p=null,i===p?ke(n,"enum_for",["group_by"],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n}):($=ae([],{}),n.$each.$$p=function(){var g=Me.$destructure(arguments),y=Pe(i,g);(X(o=$["$[]"](y))?o:(r=[y,[]],ke($,"[]=",r),r[r.length-1]))["$<<"](g)},n.$each(),$)}),Ie(N,"$include?",function(i){try{var r=Ue("return"),n=this;return ke(n,"each",[],function(o){var g,y;if(g=ye(arguments),y=g,Je(Me.$destructure(y),i))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}),!1}catch($){if($===r)return $.$v;throw $}}),Ie(N,"$inject",function d(i,r){var n=d.$$p||p,$=this;d.$$p=null;var o=i;return n!==p&&r===void 0?$.$each.$$p=function(){var g=Me.$destructure(arguments);if(o===void 0){o=g;return}g=fe(n,[o,g]),o=g}:(r===void 0&&(oe("Symbol")["$==="](i)||He.$raise(oe("TypeError"),""+i.$inspect()+" is not a Symbol"),r=i,o=void 0),$.$each.$$p=function(){var g=Me.$destructure(arguments);if(o===void 0){o=g;return}o=o.$__send__(r,g)}),$.$each(),o??p},-1),Ie(N,"$lazy",function(){var i=this;return ke(oe(oe("Enumerator"),"Lazy"),"new",[i,i.$enumerator_size()],function(n,$){var o,g;return n==null&&(n=p),o=ye(arguments,1),g=o,ke(n,"yield",W(g))},-2)}),Ie(N,"$enumerator_size",function(){var i=this;return X(i["$respond_to?"]("size"))?i.$size():p}),Ie(N,"$max",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i===void 0||i===p){var $,o;return n.$each.$$p=function(){var g=Me.$destructure(arguments);if($===void 0){$=g;return}r!==p?o=fe(r,[g,$]):o=g["$<=>"]($),o===p&&He.$raise(oe("ArgumentError"),"comparison failed"),o>0&&($=g)},n.$each(),$===void 0?p:$}return i=xe(i,oe("Integer"),"to_int"),ke(n,"sort",[],r.$to_proc()).$reverse().$first(i)},-1),Ie(N,"$max_by",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!X(r))return ke(n,"enum_for",["max_by",i],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n});if(!X(i["$nil?"]()))return ke(n,"sort_by",[],r.$to_proc()).$reverse().$take(i);var $,o;return n.$each.$$p=function(){var g=Me.$destructure(arguments),y=Pe(r,g);if($===void 0){$=g,o=y;return}y["$<=>"](o)>0&&($=g,o=y)},n.$each(),$===void 0?p:$},-1),Ie(N,"$min",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!X(i["$nil?"]()))return r!==p?ke(n,"sort",[],function(g,y){return g==null&&(g=p),y==null&&(y=p),s.yieldX(r,[g,y])}).$take(i):n.$sort().$take(i);var $;return r!==p?n.$each.$$p=function(){var o=Me.$destructure(arguments);if($===void 0){$=o;return}var g=r(o,$);g===p&&He.$raise(oe("ArgumentError"),"comparison failed"),g<0&&($=o)}:n.$each.$$p=function(){var o=Me.$destructure(arguments);if($===void 0){$=o;return}Me.$compare(o,$)<0&&($=o)},n.$each(),$===void 0?p:$},-1),Ie(N,"$min_by",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!X(r))return ke(n,"enum_for",["min_by",i],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n});if(!X(i["$nil?"]()))return ke(n,"sort_by",[],r.$to_proc()).$take(i);var $,o;return n.$each.$$p=function(){var g=Me.$destructure(arguments),y=Pe(r,g);if($===void 0){$=g,o=y;return}y["$<=>"](o)<0&&($=g,o=y)},n.$each(),$===void 0?p:$},-1),Ie(N,"$minmax",function d(){var i=d.$$p||p,r=this,n=p;d.$$p=null,i=X(n=i)?n:ke(He,"proc",[],function(P,be){return P==null&&(P=p),be==null&&(be=p),P["$<=>"](be)});var $=p,o=p,g=!0;return r.$each.$$p=function(){var y=Me.$destructure(arguments);if(g)$=o=y,g=!1;else{var P=i.$call($,y);P===p?He.$raise(oe("ArgumentError"),"comparison failed"):P>0&&($=y);var be=i.$call(o,y);be===p?He.$raise(oe("ArgumentError"),"comparison failed"):be<0&&(o=y)}},r.$each(),[$,o]}),Ie(N,"$minmax_by",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,!X(i))return ke(r,"enum_for",["minmax_by"],function y(){var P=y.$$s==null?this:y.$$s;return P.$enumerator_size()},{$$s:r});var n=p,$=p,o,g;return r.$each.$$p=function(){var y=Me.$destructure(arguments),P=Pe(i,y);(o===void 0||P["$<=>"](o)<0)&&(n=y,o=P),(g===void 0||P["$<=>"](g)>0)&&($=y,g=P)},r.$each(),[n,$]}),Ie(N,"$none?",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this;return d.$$p=null,X(i!==void 0)?ke($,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),X(ke(i,"public_send",["==="].concat(W(be)))))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):n!==p?ke($,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,X(s.yieldX(n,W(P))))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):ke($,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=Me.$destructure(P),X(be))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}),!0}catch(o){if(o===r)return o.$v;throw o}},-1),Ie(N,"$one?",function d(i){try{var r=Ue("return"),n=d.$$p||p,$=this,o=p;return d.$$p=null,o=0,X(i!==void 0)?ke($,"each",[],function(y){var P,be,tt=p;if(P=ye(arguments),be=P,tt=L(be),X(ke(i,"public_send",["==="].concat(W(tt)))))if(o=Le(o,1),X(ze(o,1)))r.$throw(!1);else return p;else return p},{$$arity:-1,$$ret:r}):n!==p?ke($,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,!X(s.yieldX(n,W(be))))return p;if(o=Le(o,1),X(ze(o,1)))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):ke($,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,!X(Me.$destructure(be)))return p;if(o=Le(o,1),X(ze(o,1)))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}),o["$=="](1)}catch(g){if(g===r)return g.$v;throw g}},-1),Ie(N,"$partition",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return ke(r,"enum_for",["partition"],function o(){var g=o.$$s==null?this:o.$$s;return g.$enumerator_size()},{$$s:r});var n=[],$=[];return r.$each.$$p=function(){var o=Me.$destructure(arguments),g=Pe(i,o);X(g)?n.push(o):$.push(o)},r.$each(),[n,$]}),Ie(N,"$reject",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return ke(r,"enum_for",["reject"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var $=Me.$destructure(arguments),o=Pe(i,$);X(o)||n.push($)},r.$each(),n}),Ie(N,"$reverse_each",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return ke(r,"enum_for",["reverse_each"],function o(){var g=o.$$s==null?this:o.$$s;return g.$enumerator_size()},{$$s:r});var n=[];r.$each.$$p=function(){n.push(arguments)},r.$each();for(var $=n.length-1;$>=0;$--)fe(i,n[$]);return n}),Ie(N,"$slice_before",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,X(i===void 0&&r===p)&&He.$raise(oe("ArgumentError"),"both pattern and block are given"),X(i!==void 0&&r!==p||arguments.length>1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ke(oe("Enumerator"),"new",[],function $(o){var g=$.$$s==null?this:$.$$s;o==null&&(o=p);var y=[];r!==p?i===void 0?g.$each.$$p=function(){var P=Me.$destructure(arguments),be=Pe(r,P);X(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)}:g.$each.$$p=function(){var P=Me.$destructure(arguments),be=r(P,i.$dup());X(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)}:g.$each.$$p=function(){var P=Me.$destructure(arguments),be=i["$==="](P);X(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)},g.$each(),y.length>0&&o["$<<"](y)},{$$s:n})},-1),Ie(N,"$slice_after",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,X(i===void 0&&r===p)&&He.$raise(oe("ArgumentError"),"both pattern and block are given"),X(i!==void 0&&r!==p||arguments.length>1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),X(i!==void 0)&&(r=ke(He,"proc",[],function(o){return o==null&&(o=p),i["$==="](o)})),ke(oe("Enumerator"),"new",[],function $(o){var g=$.$$s==null?this:$.$$s;o==null&&(o=p);var y;g.$each.$$p=function(){var P=Me.$destructure(arguments),be=Pe(r,P);y==null&&(y=[]),X(be)?(y.push(P),o.$yield(y),y=null):y.push(P)},g.$each(),y!=null&&o.$yield(y)},{$$s:n})},-1),Ie(N,"$slice_when",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p&&He.$raise(oe("ArgumentError"),"wrong number of arguments (0 for 1)"),ke(oe("Enumerator"),"new",[],function n($){var o=n.$$s==null?this:n.$$s;$==null&&($=p);var g=p,y=p;o.$each_cons.$$p=function(){var P=Me.$destructure(arguments),be=P[0],tt=P[1],ot=fe(i,[be,tt]);y=tt,g===p&&(g=[]),X(ot)?(g.push(be),$.$yield(g),g=[]):g.push(be)},o.$each_cons(2),g!==p&&(g.push(y),$.$yield(g))},{$$s:r})}),Ie(N,"$sort",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,n=r.$to_a(),i===p&&(i=Fe(function(o,g){return o==null&&(o=p),g==null&&(g=p),o["$<=>"](g)})),ke(n,"sort",[],i.$to_proc())}),Ie(N,"$sort_by",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,i===p?ke(r,"enum_for",["sort_by"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:r}):(n=ke(r,"map",[],function(){var o=p;return o=Me.$destructure(arguments),[s.yield1(i,o),o]}),ke(n,"sort!",[],function(o,g){return o==null&&(o=p),g==null&&(g=p),o[0]["$<=>"](g[0])}),ke(n,"map!",[],function(o){return o==null&&(o=p),o[1]}))}),Ie(N,"$sum",function d(i){var r=d.$$p||p,n=this,$=p,o=p;return d.$$p=null,i==null&&(i=0),$=i,o=0,ke(n,"each",[],function(y){var P,be,tt=p,ot=p,lt=p;return P=ye(arguments),be=P,tt=r!==p?s.yieldX(r,W(be)):Me.$destructure(be),ne([oe(oe("Float"),"INFINITY"),oe(oe("Float"),"INFINITY")["$-@"]()]["$include?"](tt))&&X(tt["$respond_to?"]("-"))?(ot=Ae(tt,o),lt=Le($,ot),o=Ae(Ae(lt,$),ot),$=lt):$=Le($,tt)},-1),$},-1),Ie(N,"$take",function(i){var r=this;return r.$first(i)}),Ie(N,"$take_while",function d(){try{var i=Ue("return"),r=d.$$p||p,n=this,$=p;return d.$$p=null,X(r)?($=[],ke(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=Me.$destructure(P),X(s.yield1(r,be))||i.$throw($),$.push(be)},{$$arity:-1,$$ret:i})):n.$enum_for("take_while")}catch(o){if(o===i)return o.$v;throw o}}),Ie(N,"$uniq",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,n=ae([],{}),ke(r,"each",[],function(o){var g,y,P,be=p,tt=p;return g=ye(arguments),y=g,be=Me.$destructure(y),tt=i!==p?s.yield1(i,be):be,X(n["$key?"](tt))?p:(P=[tt,be],ke(n,"[]=",P),P[P.length-1])},-1),n.$values()}),Ie(N,"$tally",function(i){var r=this,n=p;return i&&i!==p&&Xe(i),n=ke(ke(r,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),X(i)?(ke(n,"each",[],function(o,g){var y;return o==null&&(o=p),g==null&&(g=p),y=[o,Le(i.$fetch(o,0),g)],ke(i,"[]=",y),y[y.length-1]}),i):n},-1),Ie(N,"$to_h",function d(i){var r=d.$$p||p,n,$,o=this;if(d.$$p=null,n=ye(arguments),$=n,r!==p)return ke(ke(o,"map",[],r.$to_proc()),"to_h",W($));var g=ae([],{});return o.$each.$$p=function(){var y=Me.$destructure(arguments),P=Me["$coerce_to?"](y,oe("Array"),"to_ary"),be,tt;P.$$is_array||He.$raise(oe("TypeError"),"wrong element type "+P.$class()+" (expected array)"),P.length!==2&&He.$raise(oe("ArgumentError"),"wrong array length (expected 2, was "+P.$length()+")"),be=P[0],tt=P[1],s.hash_put(g,be,tt)},o.$each.apply(o,$),g},-1),Ie(N,"$to_set",function d(i,r){var n=d.$$p||p,$,o,g,y=this;return d.$$p=null,$=ye(arguments),$.length>0&&(o=$.shift()),o==null&&(o=re("Set")),g=$,ke(o,"new",[y].concat(W(g)),n.$to_proc())},-1),Ie(N,"$zip",function d(i){d.$$p;var r,n,$=this;return d.$$p=null,r=ye(arguments),n=r,ke($.$to_a(),"zip",W(n))},-1),me(N,"find","detect"),me(N,"filter","find_all"),me(N,"flat_map","collect_concat"),me(N,"map","collect"),me(N,"member?","include?"),me(N,"reduce","inject"),me(N,"select","find_all"),me(N,"to_a","entries")}("::",Q)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(s){var X=s.klass,xe=s.truthy,Pe=s.to_a,fe=s.eqeq,Xe=s.Kernel,Se=s.def,ke=s.rb_gt,ye=s.rb_lt,W=s.rb_le,Me=s.rb_ge,Ue=s.rb_plus,Ie=s.rb_minus,He=s.eqeqeq,Ye=s.not,ze=s.rb_times,te=s.rb_divide,qe=s.alias,Je=[],Le=s.nil,Ae=s.$$$;return s.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function($e,pe,ae){var Fe=X($e,pe,"Enumerator"),ne=[Fe].concat(ae);return function(me,Q,p){var oe=X(me,Q,"ArithmeticSequence"),T=[oe].concat(p),V=s.$r(T),N=oe.$$prototype;N.step_arg2=N.receiver_num=N.step_arg1=N.step=N.range=N.topfx=N.bypfx=N.creation_method=N.skipped_arg=Le,s.prop(oe.$$prototype,"$$is_arithmetic_seq",!0);var Ce=1/0;return Se(oe,"$initialize",function(L,d,i){var r,n=this,$=Le;return i==null&&(i="step"),n.creation_method=i,xe(L["$is_a?"](Ae("Array")))?(r=[].concat(Pe(L)),n.step_arg1=r[0]==null?Le:r[0],n.step_arg2=r[1]==null?Le:r[1],n.topfx=r[2]==null?Le:r[2],n.bypfx=r[3]==null?Le:r[3],n.receiver_num=d,n.step=1,n.range=xe(n.step_arg2)?(n.step=n.step_arg2,s.Range.$new(n.receiver_num,n.step_arg1,!1)):xe(n.step_arg1)?s.Range.$new(n.receiver_num,n.step_arg1,!1):s.Range.$new(n.receiver_num,Le,!1)):(xe(d)||(n.skipped_arg=!0),r=[L,xe($=d)?$:1],n.range=r[0],n.step=r[1]),n.object=n,fe(n.step,0)&&Xe.$raise(V("ArgumentError"),"step can't be 0"),xe(n.step["$respond_to?"]("to_int"))?Le:Xe.$raise(V("ArgumentError"),"no implicit conversion of "+n.step.$class()+" into Integer")},-2),oe.$attr_reader("step"),Se(oe,"$begin",function(){var L=this;return L.range.$begin()}),Se(oe,"$end",function(){var L=this;return L.range.$end()}),Se(oe,"$exclude_end?",function(){var L=this;return L.range["$exclude_end?"]()}),Se(oe,"$_lesser_than_end?",function(L){var d=this,i=Le,r=Le;return i=xe(r=d.$end())?r:Ce,xe(ke(d.$step(),0))?xe(d["$exclude_end?"]())?ye(L,i):W(L,i):xe(d["$exclude_end?"]())?ke(L,i):Me(L,i)}),Se(oe,"$_greater_than_begin?",function(L){var d=this,i=Le,r=Le;return i=xe(r=d.$begin())?r:Ce["$-@"](),xe(ke(d.$step(),0))?ke(L,i):ye(L,i)}),Se(oe,"$first",function(L){var d=this,i=Le,r=Le,n=Le;if(i=xe(r=d.$begin())?r:Ce["$-@"](),!xe(L))return xe(d["$_lesser_than_end?"](i))?i:Le;for(n=[];xe(xe(r=d["$_lesser_than_end?"](i))?ke(L,0):r);)n["$<<"](i),i=Ue(i,d.$step()),L=Ie(L,1);return n},-1),Se(oe,"$each",function re(){var L=re.$$p||Le,d=this,i=Le,r=Le;if(re.$$p=null,L===Le)return d;for(He(Le,i=d.$begin())&&Xe.$raise(V("TypeError"),"nil can't be coerced into Integer"),r=xe(i=d.$begin())?i:Ce["$-@"]();xe(d["$_lesser_than_end?"](r));)s.yield1(L,r),r=Ue(r,d.$step());return d}),Se(oe,"$last",function(L){var d=this,i=Le,r=Le,n=Le;if(He(Ce,i=d.$end())||He(Ce["$-@"](),i)?Xe.$raise(Ae("FloatDomainError"),d.$end()):He(Le,i)&&Xe.$raise(Ae("RangeError"),"cannot get the last element of endless arithmetic sequence"),r=Ie(d.$end(),Ie(d.$end(),d.$begin())["$%"](d.$step())),xe(d["$_lesser_than_end?"](r))||(r=Ie(r,d.$step())),!xe(L))return xe(d["$_greater_than_begin?"](r))?r:Le;for(n=[];xe(xe(i=d["$_greater_than_begin?"](r))?ke(L,0):i);)n["$<<"](r),r=Ie(r,d.$step()),L=Ie(L,1);return n.$reverse()},-1),Se(oe,"$size",function(){var L=this,d=Le,i=Le;return d=xe(ke(L.$step(),0))?1:-1,Ye(L["$_lesser_than_end?"](L.$begin()))?0:xe([Ce["$-@"](),Ce]["$include?"](L.$step()))?1:xe([ze(Ce["$-@"](),d),Le]["$include?"](L.$begin()))||xe([ze(Ce,d),Le]["$include?"](L.$end()))?Ce:(i=Ie(L.$end(),Ie(L.$end(),L.$begin())["$%"](L.$step())),xe(L["$_lesser_than_end?"](i))||(i=Ie(i,L.$step())),Ue(te(Ie(i,L.$begin()),L.$step()).$abs().$to_i(),1))}),Se(oe,"$==",function(L){var d=this,i=Le,r=Le,n=Le,$=Le;return xe(i=xe(r=xe(n=xe($=d.$class()["$=="](L.$class()))?d.$begin()["$=="](L.$begin()):$)?d.$end()["$=="](L.$end()):n)?d.$step()["$=="](L.$step()):r)?d["$exclude_end?"]()["$=="](L["$exclude_end?"]()):i}),Se(oe,"$hash",function(){var L=this;return[L.$begin(),L.$end(),L.$step(),L["$exclude_end?"]()].$hash()}),Se(oe,"$inspect",function(){var L=this,d=Le;return xe(L.receiver_num)?(d=xe(L.step_arg2)?"("+L.topfx+L.step_arg1.$inspect()+", "+L.bypfx+L.step_arg2.$inspect()+")":xe(L.step_arg1)?"("+L.topfx+L.step_arg1.$inspect()+")":Le,"("+L.receiver_num.$inspect()+"."+L.creation_method+d+")"):(d=xe(L.skipped_arg)?Le:"("+L.step+")","(("+L.range.$inspect()+")."+L.creation_method+d+")")}),qe(oe,"===","=="),qe(oe,"eql?","==")}(Fe,Fe,ne)}("::",null,Je)};Opal.modules["corelib/enumerator/chain"]=function(s){var X=s.deny_frozen_access,xe=s.klass,Pe=s.slice,fe=s.def,Xe=s.send,Se=s.to_a,ke=s.truthy,ye=s.rb_plus,W=s.thrower,Me=s.nil,Ue=s.$$$;return s.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Ie,He){var Ye=xe(Ie,He,"Enumerator");return function(ze,te){var qe=xe(ze,te,"Chain"),Je=qe.$$prototype;return Je.enums=Je.iterated=Me,fe(qe,"$initialize",function(Ae){var $e,pe,ae=this;return $e=Pe(arguments),pe=$e,X(ae),ae.enums=pe,ae.iterated=[],ae.object=ae},-1),fe(qe,"$each",function Le(Ae){var $e=Le.$$p||Me,pe,ae,Fe=this;return Le.$$p=null,pe=Pe(arguments),ae=pe,$e===Me?Xe(Fe,"to_enum",["each"].concat(Se(ae)),function ne(){var me=ne.$$s==null?this:ne.$$s;return me.$size()},{$$s:Fe}):(Xe(Fe.enums,"each",[],function ne(me){var Q=ne.$$s==null?this:ne.$$s;return Q.iterated==null&&(Q.iterated=Me),me==null&&(me=Me),Q.iterated["$<<"](me),Xe(me,"each",Se(ae),$e.$to_proc())},{$$s:Fe}),Fe)},-1),fe(qe,"$size",function(Ae){try{var $e=W("return"),pe,ae,Fe=this,ne=Me;return pe=Pe(arguments),ae=pe,ne=0,Xe(Fe.enums,"each",[],function(Q){var p=Me;return Q==null&&(Q=Me),p=Xe(Q,"size",Se(ae)),ke([Me,Ue(Ue("Float"),"INFINITY")]["$include?"](p))&&$e.$throw(p),ne=ye(ne,p)},{$$ret:$e}),ne}catch(me){if(me===$e)return me.$v;throw me}},-1),fe(qe,"$rewind",function(){var Ae=this;return Xe(Ae.iterated,"reverse_each",[],function(pe){return pe==null&&(pe=Me),ke(pe["$respond_to?"]("rewind"))?pe.$rewind():Me}),Ae.iterated=[],Ae}),fe(qe,"$inspect",function(){var Ae=this;return"#<Enumerator::Chain: "+Ae.enums.$inspect()+">"})}(Ye,Ye)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(s){var X=s.deny_frozen_access,xe=s.klass,Pe=s.truthy,fe=s.Kernel,Xe=s.def,Se=s.slice,ke=s.send,ye=[],W=s.nil,Me=s.$$$;return s.add_stubs("include,raise,new,to_proc"),function(Ue,Ie,He){var Ye=xe(Ue,Ie,"Enumerator"),ze=[Ye].concat(He);return function(te,qe,Je){var Le=xe(te,qe,"Generator"),Ae=[Le].concat(Je),$e=s.$r(Ae),pe=Le.$$prototype;return pe.block=W,Le.$include(Me("Enumerable")),Xe(Le,"$initialize",function ae(){var Fe=ae.$$p||W,ne=this;return ae.$$p=null,X(ne),Pe(Fe)||fe.$raise(Me("LocalJumpError"),"no block given"),ne.block=Fe}),Xe(Le,"$each",function ae(Fe){var ne=ae.$$p||W,me,Q,p=this,oe=W;ae.$$p=null,me=Se(arguments),Q=me,oe=ke($e("Yielder"),"new",[],ne.$to_proc());try{Q.unshift(oe),s.yieldX(p.block,Q)}catch(T){if(T&&T.$thrower_type=="breaker")return T.$v;throw T}return p},-1)}(ze[0],null,ze)}(ye[0],null,ye)};Opal.modules["corelib/enumerator/lazy"]=function(s){var X=s.truthy,xe=s.coerce_to,Pe=s.yield1,fe=s.yieldX,Xe=s.deny_frozen_access,Se=s.klass,ke=s.slice,ye=s.send2,W=s.find_super,Me=s.to_a,Ue=s.defs,Ie=s.Kernel,He=s.send,Ye=s.def,ze=s.return_self,te=s.Opal,qe=s.rb_lt,Je=s.eqeqeq,Le=s.rb_plus,Ae=s.alias,$e=[],pe=s.nil,ae=s.$$$;return s.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(Fe,ne,me){var Q=Se(Fe,ne,"Enumerator"),p=[Q].concat(me);return function(oe,T,V){var N=Se(oe,T,"Lazy"),Ce=[N].concat(V),re=s.$r(Ce),L=N.$$prototype;return L.enumerator=pe,Se(N,ae("Exception"),"StopLazyError"),Ue(N,"$for",function d(i,r){var n,$,o=d.$$p||pe,g=this,y=pe;return d.$$p=null,n=ke(arguments,1),$=n,y=ye(g,W(g,"for",d,!1,!0),"for",[i].concat(Me($)),o),y.enumerator=i,y},-2),Ye(N,"$initialize",function d(i,r){var n=d.$$p||pe,$=this;return d.$$p=null,r==null&&(r=pe),Xe($),n===pe&&Ie.$raise(ae("ArgumentError"),"tried to call lazy new without a block"),$.enumerator=i,ye($,W($,"initialize",d,!1,!0),"initialize",[r],function(g,y){var P,be;g==null&&(g=pe),P=ke(arguments,1),be=P;try{return He(i,"each",Me(be),function(ot){var lt,vt;lt=ke(arguments),vt=lt,vt.unshift(g),fe(n,vt)},-1)}catch(tt){if(s.rescue(tt,[re("StopLazyError")]))try{return pe}finally{s.pop_exception()}else throw tt}},-2)},-2),Ye(N,"$lazy",ze),Ye(N,"$collect",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy map without a block"),He(re("Lazy"),"new",[r,r.$enumerator_size()],function($,o){var g,y;$==null&&($=pe),g=ke(arguments,1),y=g;var P=fe(i,y);$.$yield(P)},-2)}),Ye(N,"$collect_concat",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy map without a block"),He(re("Lazy"),"new",[r,pe],function($,o){var g,y;$==null&&($=pe),g=ke(arguments,1),y=g;var P=fe(i,y);if(P["$respond_to?"]("force")&&P["$respond_to?"]("each"))He(P,"each",[],function(ot){return ot==null&&(ot=pe),$.$yield(ot)});else{var be=te.$try_convert(P,ae("Array"),"to_ary");be===pe?$.$yield(P):He(P,"each",[],function(ot){return ot==null&&(ot=pe),$.$yield(ot)})}},-2)}),Ye(N,"$drop",function(i){var r=this,n=pe,$=pe,o=pe;return i=xe(i,ae("Integer"),"to_int"),X(qe(i,0))&&Ie.$raise(ae("ArgumentError"),"attempt to drop negative size"),n=r.$enumerator_size(),$=Je(ae("Integer"),n)&&X(qe(i,n))?i:n,o=0,He(re("Lazy"),"new",[r,$],function(y,P){var be,tt;return y==null&&(y=pe),be=ke(arguments,1),tt=be,X(qe(o,i))?o=Le(o,1):He(y,"yield",Me(tt))},-2)}),Ye(N,"$drop_while",function d(){var i=d.$$p||pe,r=this,n=pe;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,He(re("Lazy"),"new",[r,pe],function(o,g){var y,P;if(o==null&&(o=pe),y=ke(arguments,1),P=y,X(n)){var be=fe(i,P);X(be)||(n=!1,He(o,"yield",Me(P)))}else return He(o,"yield",Me(P))},-2)}),Ye(N,"$enum_for",function d(i,r){var n=d.$$p||pe,$,o,g,y=this;return d.$$p=null,$=ke(arguments),$.length>0&&(o=$.shift()),o==null&&(o="each"),g=$,He(y.$class(),"for",[y,o].concat(Me(g)),n.$to_proc())},-1),Ye(N,"$find_all",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy select without a block"),He(re("Lazy"),"new",[r,pe],function($,o){var g,y;$==null&&($=pe),g=ke(arguments,1),y=g;var P=fe(i,y);X(P)&&He($,"yield",Me(y))},-2)}),Ye(N,"$grep",function d(i){var r=d.$$p||pe,n=this;return d.$$p=null,X(r)?He(re("Lazy"),"new",[n,pe],function(o,g){var y,P;o==null&&(o=pe),y=ke(arguments,1),P=y;var be=te.$destructure(P),tt=i["$==="](be);X(tt)&&(tt=Pe(r,be),o.$yield(Pe(r,be)))},-2):He(re("Lazy"),"new",[n,pe],function(o,g){var y,P;o==null&&(o=pe),y=ke(arguments,1),P=y;var be=te.$destructure(P),tt=i["$==="](be);X(tt)&&o.$yield(be)},-2)}),Ye(N,"$reject",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy reject without a block"),He(re("Lazy"),"new",[r,pe],function($,o){var g,y;$==null&&($=pe),g=ke(arguments,1),y=g;var P=fe(i,y);X(P)||He($,"yield",Me(y))},-2)}),Ye(N,"$take",function(i){var r=this,n=pe,$=pe,o=pe;return i=xe(i,ae("Integer"),"to_int"),X(qe(i,0))&&Ie.$raise(ae("ArgumentError"),"attempt to take negative size"),n=r.$enumerator_size(),$=Je(ae("Integer"),n)&&X(qe(i,n))?i:n,o=0,He(re("Lazy"),"new",[r,$],function(y,P){var be,tt;return y==null&&(y=pe),be=ke(arguments,1),tt=be,X(qe(o,i))?(He(y,"yield",Me(tt)),o=Le(o,1)):Ie.$raise(re("StopLazyError"))},-2)}),Ye(N,"$take_while",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,X(i)||Ie.$raise(ae("ArgumentError"),"tried to call lazy take_while without a block"),He(re("Lazy"),"new",[r,pe],function($,o){var g,y;$==null&&($=pe),g=ke(arguments,1),y=g;var P=fe(i,y);X(P)?He($,"yield",Me(y)):Ie.$raise(re("StopLazyError"))},-2)}),Ye(N,"$inspect",function(){var i=this;return"#<"+i.$class()+": "+i.enumerator.$inspect()+">"}),Ae(N,"force","to_a"),Ae(N,"filter","find_all"),Ae(N,"flat_map","collect_concat"),Ae(N,"map","collect"),Ae(N,"select","find_all"),Ae(N,"to_enum","enum_for")}(Q,Q,p)}("::",null,$e)};Opal.modules["corelib/enumerator/yielder"]=function(s){var X=s.klass,xe=s.def,Pe=s.slice,fe=s.send,Xe=s.to_a,Se=[],ke=s.nil;return s.add_stubs("yield,proc"),function(ye,W,Me){var Ue=X(ye,W,"Enumerator"),Ie=[Ue].concat(Me);return function(He,Ye){var ze=X(He,Ye,"Yielder"),te=ze.$$prototype;return te.block=ke,xe(ze,"$initialize",function qe(){var Je=qe.$$p||ke,Le=this;return qe.$$p=null,Le.block=Je,Le}),xe(ze,"$yield",function(Je){var Le,Ae,$e=this;Le=Pe(arguments),Ae=Le;var pe=s.yieldX($e.block,Ae);if(pe&&pe.$thrower_type=="break")throw pe;return pe},-1),xe(ze,"$<<",function(Je){var Le=this;return Le.$yield(Je),Le}),xe(ze,"$to_proc",function(){var Je=this;return fe(Je,"proc",[],function Le(Ae){var $e,pe,ae=Le.$$s==null?this:Le.$$s;return $e=Pe(arguments),pe=$e,fe(ae,"yield",Xe(pe))},{$$arity:-1,$$s:Je})})}(Ie[0],null)}(Se[0],null,Se)};Opal.modules["corelib/enumerator"]=function(s){var X=s.slice,xe=s.coerce_to,Pe=s.deny_frozen_access,fe=s.klass,Xe=s.defs,Se=s.truthy,ke=s.send,ye=s.not,W=s.def,Me=s.rb_plus,Ue=s.to_a,Ie=s.Opal,He=s.send2,Ye=s.find_super,ze=s.rb_ge,te=s.Kernel,qe=s.rb_le,Je=s.alias,Le=s.top,Ae=[],$e=s.nil,pe=s.$$$;return s.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Le.$require("corelib/enumerable"),function(ae,Fe,ne){var me=fe(ae,Fe,"Enumerator"),Q=[me].concat(ne),p=s.$r(Q),oe=me.$$prototype;return oe.size=oe.args=oe.object=oe.method=oe.values=oe.cursor=$e,me.$include(pe("Enumerable")),me.$$prototype.$$is_enumerator=!0,Xe(me,"$for",function T(V,N,Ce){var re=T.$$p||$e,L,d,i,r=this;T.$$p=null,L=X(arguments,1),L.length>0&&(d=L.shift()),d==null&&(d="each"),i=L;var n=r.$allocate();return n.object=V,n.size=re,n.method=d,n.args=i,n.cursor=0,n},-2),W(me,"$initialize",function T(V){var N=T.$$p||$e,Ce=this;return T.$$p=null,X(arguments),Pe(Ce),Ce.cursor=0,Se(N)?(Ce.object=ke(p("Generator"),"new",[],N.$to_proc()),Ce.method="each",Ce.args=[],Ce.size=arguments[0]||$e,Se(Ce.size)&&ye(Ce.size["$respond_to?"]("call"))?Ce.size=xe(Ce.size,pe("Integer"),"to_int"):$e):(Ce.object=arguments[0],Ce.method=arguments[1]||"each",Ce.args=X(arguments,2),Ce.size=$e)},-1),W(me,"$each",function T(V){var N=T.$$p||$e,Ce,re,L=this;return T.$$p=null,Ce=X(arguments),re=Ce,Se(N["$nil?"]())&&Se(re["$empty?"]())?L:(re=Me(L.args,re),Se(N["$nil?"]())?ke(L.$class(),"new",[L.object,L.method].concat(Ue(re))):ke(L.object,"__send__",[L.method].concat(Ue(re)),N.$to_proc()))},-1),W(me,"$size",function(){var V=this;return Se(V.size["$respond_to?"]("call"))?ke(V.size,"call",Ue(V.args)):V.size}),W(me,"$with_index",function T(V){var N=T.$$p||$e,Ce=this;if(T.$$p=null,V==null&&(V=0),V=Se(V)?xe(V,pe("Integer"),"to_int"):0,!Se(N))return ke(Ce,"enum_for",["with_index",V],function L(){var d=L.$$s==null?this:L.$$s;return d.$size()},{$$s:Ce});var re=V;return Ce.$each.$$p=function(){var L=Ie.$destructure(arguments),d=N(L,re);return re++,d},Ce.$each()},-1),W(me,"$each_with_index",function T(){var V=T.$$p||$e,N=this;return T.$$p=null,V===$e?ke(N,"enum_for",["each_with_index"],function Ce(){var re=Ce.$$s==null?this:Ce.$$s;return re.$size()},{$$s:N}):(He(N,Ye(N,"each_with_index",T,!1,!0),"each_with_index",[],V),N.object)}),W(me,"$rewind",function(){var V=this;return V.cursor=0,V}),W(me,"$peek_values",function(){var V=this,N=$e;return V.values=Se(N=V.values)?N:ke(V,"map",[],function(re){var L,d;return L=X(arguments),d=L,d},-1),Se(ze(V.cursor,V.values.$length()))&&te.$raise(pe("StopIteration"),"iteration reached an end"),V.values["$[]"](V.cursor)}),W(me,"$peek",function(){var V=this,N=$e;return N=V.$peek_values(),Se(qe(N.$length(),1))?N["$[]"](0):N}),W(me,"$next_values",function(){var V=this,N=$e;return N=V.$peek_values(),V.cursor=Me(V.cursor,1),N}),W(me,"$next",function(){var V=this,N=$e;return N=V.$next_values(),Se(qe(N.$length(),1))?N["$[]"](0):N}),W(me,"$feed",function(V){var N=this;return N.$raise(p("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),W(me,"$+",function(V){var N=this;return pe(pe("Enumerator"),"Chain").$new(N,V)}),W(me,"$inspect",function(){var V=this,N=$e;return N="#<"+V.$class()+": "+V.object.$inspect()+":"+V.method,Se(V.args["$any?"]())&&(N=Me(N,"("+V.args.$inspect()["$[]"](pe("Range").$new(1,-2))+")")),Me(N,">")}),Je(me,"with_object","each_with_object"),me.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),me.$autoload("Chain","corelib/enumerator/chain"),me.$autoload("Generator","corelib/enumerator/generator"),me.$autoload("Lazy","corelib/enumerator/lazy"),me.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,Ae)};Opal.modules["corelib/numeric"]=function(s){var X=s.klass,xe=s.truthy,Pe=s.Kernel,fe=s.def,Xe=s.to_ary,Se=s.return_self,ke=s.rb_minus,ye=s.rb_times,W=s.rb_lt,Me=s.eqeq,Ue=s.rb_divide,Ie=s.return_val,He=s.Opal,Ye=s.slice,ze=s.extract_kwargs,te=s.ensure_kwargs,qe=s.not,Je=s.send,Le=s.rb_ge,Ae=s.rb_le,$e=s.rb_plus,pe=s.rb_gt,ae=s.alias,Fe=s.top,ne=s.nil,me=s.$$$;return s.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),Fe.$require("corelib/comparable"),function(Q,p){var oe=X(Q,p,"Numeric");return oe.$include(me("Comparable")),fe(oe,"$coerce",function(V){var N=this;return xe(V["$instance_of?"](N.$class()))?[V,N]:[Pe.$Float(V),Pe.$Float(N)]}),fe(oe,"$__coerced__",function(V,N){var Ce,re,L=this,d=ne,i=ne;if(xe(N["$respond_to?"]("coerce")))return re=N.$coerce(L),Ce=Xe(re),d=Ce[0]==null?ne:Ce[0],i=Ce[1]==null?ne:Ce[1],d.$__send__(V,i);switch(V){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return Pe.$raise(me("TypeError"),""+N.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return Pe.$raise(me("ArgumentError"),"comparison of "+L.$class()+" with "+N.$class()+" failed");default:return ne}}),fe(oe,"$<=>",function(V){var N=this;return xe(N["$equal?"](V))?0:ne}),fe(oe,"$+@",Se),fe(oe,"$-@",function(){var V=this;return ke(0,V)}),fe(oe,"$%",function(V){var N=this;return ke(N,ye(V,N.$div(V)))}),fe(oe,"$abs",function(){var V=this;return W(V,0)?V["$-@"]():V}),fe(oe,"$abs2",function(){var V=this;return ye(V,V)}),fe(oe,"$angle",function(){var V=this;return W(V,0)?me(me("Math"),"PI"):0}),fe(oe,"$ceil",function(V){var N=this;return V==null&&(V=0),N.$to_f().$ceil(V)},-1),fe(oe,"$conj",Se),fe(oe,"$denominator",function(){var V=this;return V.$to_r().$denominator()}),fe(oe,"$div",function(V){var N=this;return Me(V,0)&&Pe.$raise(me("ZeroDivisionError"),"divided by o"),Ue(N,V).$floor()}),fe(oe,"$divmod",function(V){var N=this;return[N.$div(V),N["$%"](V)]}),fe(oe,"$fdiv",function(V){var N=this;return Ue(N.$to_f(),V)}),fe(oe,"$floor",function(V){var N=this;return V==null&&(V=0),N.$to_f().$floor(V)},-1),fe(oe,"$i",function(){var V=this;return Pe.$Complex(0,V)}),fe(oe,"$imag",Ie(0)),fe(oe,"$integer?",Ie(!1)),fe(oe,"$nonzero?",function(){var V=this;return xe(V["$zero?"]())?ne:V}),fe(oe,"$numerator",function(){var V=this;return V.$to_r().$numerator()}),fe(oe,"$polar",function(){var V=this;return[V.$abs(),V.$arg()]}),fe(oe,"$quo",function(V){var N=this;return Ue(He["$coerce_to!"](N,me("Rational"),"to_r"),V)}),fe(oe,"$real",Se),fe(oe,"$real?",Ie(!0)),fe(oe,"$rect",function(){var V=this;return[V,0]}),fe(oe,"$round",function(V){var N=this;return N.$to_f().$round(V)},-1),fe(oe,"$step",function T(V,N,Ce){var re=T.$$p||ne,L,d,i,r,n,$,o=this,g=ne;T.$$p=null,L=Ye(arguments),d=ze(L),d=te(d),L.length>0&&(i=L.shift()),L.length>0&&(r=L.shift()),n=d.$$smap.to,$=d.$$smap.by,i!==void 0&&n!==void 0&&Pe.$raise(me("ArgumentError"),"to is given twice"),r!==void 0&&$!==void 0&&Pe.$raise(me("ArgumentError"),"step is given twice"),n!==void 0&&(i=n),$!==void 0&&(r=$),i===void 0&&(i=ne);function y(){r===ne&&Pe.$raise(me("TypeError"),"step must be numeric"),r!=null&&r["$=="](0)&&Pe.$raise(me("ArgumentError"),"step can't be 0"),(r===ne||r==null)&&(r=1);var gt=r["$<=>"](0);gt===ne&&Pe.$raise(me("ArgumentError"),"0 can't be coerced into "+r.$class()),(i===ne||i==null)&&(i=gt>0?me(me("Float"),"INFINITY"):me(me("Float"),"INFINITY")["$-@"]()),He.$compare(o,i)}function P(){if(r>0&&o>i||r<0&&o<i)return 0;if(r===1/0||r===-1/0)return 1;var gt=Math.abs,mt=Math.floor,Qe=(gt(o)+gt(i)+gt(i-o))/gt(r)*me(me("Float"),"EPSILON");return Qe===1/0||Qe===-1/0?0:(Qe>.5&&(Qe=.5),mt((i-o)/r+Qe)+1)}function be(){if(y(),r===0)return 1/0;if(r%1!==0)return P();if(r>0&&o>i||r<0&&o<i)return 0;var gt=Math.ceil,mt=Math.abs,Qe=mt(o-i)+1,le=mt(r);return gt(Qe/le)}if(re===ne)return(qe(i)||xe(i["$is_a?"](me("Numeric"))))&&(qe(r)||xe(r["$is_a?"](me("Numeric"))))?me(me("Enumerator"),"ArithmeticSequence").$new([i,r,xe(n)?"to: ":ne,xe($)?"by: ":ne],o):Je(o,"enum_for",["step",i,r],be.$to_proc());y();var tt=r["$negative?"](),ot=r["$=="](0)||i===1/0&&!tt||i===-1/0&&tt;if(o.$$is_number&&r.$$is_number&&i.$$is_number)if(o%1===0&&(ot||i%1===0)&&r%1===0){var lt=o;if(ot)for(;;lt+=r)re(lt);else if(tt)for(;lt>=i;lt+=r)re(lt);else for(;lt<=i;lt+=r)re(lt);return o}else{var vt=o.$to_f().valueOf();r=r.$to_f().valueOf(),i=i.$to_f().valueOf();var _t=P();if(!isFinite(r))_t!==0&&re(vt);else if(r===0)for(;;)re(vt);else for(var bt=0;bt<_t;bt++){var pt=bt*r+o;(r>=0?i<pt:i>pt)&&(pt=i),re(pt)}return o}for(g=o;xe(tt?Le(g,i):Ae(g,i));)s.yield1(re,g),g=$e(g,r)},-1),fe(oe,"$to_c",function(){var V=this;return Pe.$Complex(V,0)}),fe(oe,"$to_int",function(){var V=this;return V.$to_i()}),fe(oe,"$truncate",function(V){var N=this;return V==null&&(V=0),N.$to_f().$truncate(V)},-1),fe(oe,"$zero?",function(){var V=this;return V["$=="](0)}),fe(oe,"$positive?",function(){var V=this;return pe(V,0)}),fe(oe,"$negative?",function(){var V=this;return W(V,0)}),fe(oe,"$dup",Se),fe(oe,"$clone",function(V){var N=this;return V=te(V),V.$$smap.freeze,N},-1),fe(oe,"$finite?",Ie(!0)),fe(oe,"$infinite?",Ie(ne)),ae(oe,"arg","angle"),ae(oe,"conjugate","conj"),ae(oe,"imaginary","imag"),ae(oe,"magnitude","abs"),ae(oe,"modulo","%"),ae(oe,"phase","arg"),ae(oe,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(s){var X=s.truthy,xe=s.falsy,Pe=s.hash_ids,fe=s.yield1,Xe=s.hash_get,Se=s.hash_put,ke=s.hash_delete,ye=s.coerce_to,W=s.respond_to,Me=s.deny_frozen_access,Ue=s.freeze,Ie=s.klass,He=s.slice,Ye=s.defs,ze=s.Kernel,te=s.def,qe=s.Opal,Je=s.eqeqeq,Le=s.hash2,Ae=s.send2,$e=s.find_super,pe=s.send,ae=s.rb_gt,Fe=s.rb_times,ne=s.eqeq,me=s.rb_minus,Q=s.to_a,p=s.to_ary,oe=s.gvars,T=s.rb_ge,V=s.assign_ivar,N=s.rb_lt,Ce=s.return_self,re=s.neqeq,L=s.alias,d=s.top,i=[],r=s.nil,n=s.$$$;return s.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),d.$require("corelib/enumerable"),d.$require("corelib/numeric"),function($,o,g){var y=Ie($,o,"Array"),P=[y].concat(g),be=s.$r(P);y.$include(n("Enumerable")),s.prop(y.$$prototype,"$$is_array",!0);function tt(Qe){for(var le=Qe[0],ge=1,De=Qe.length;ge<De;ge++)Qe[ge-1]=Qe[ge];return Qe.pop(),le}function ot(Qe,le){return le.$$name===s.Array?Qe:le.$allocate().$replace(Qe.$to_a())}function lt(Qe,le,ge){for(var De,f=null,w=new Array(Qe.length),Z=0,de=0,je=Qe.length;Z<je;Z++){if(!f)try{De=fe(ge,Qe[Z])}catch(nt){f=nt}(f||le(De))&&(w[de]=Qe[Z],de+=1)}if(de!==Z&&(Qe.splice.apply(Qe,[0,w.length].concat(w)),Qe.splice(de,w.length)),f)throw f}Ye(y,"$[]",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,ot(De,f)},-1),te(y,"$initialize",function Qe(le,ge){var De=Qe.$$p||r,f=this;if(Qe.$$p=null,le==null&&(le=r),ge==null&&(ge=r),Me(f),ge!==r&&De!==r&&ze.$warn("warning: block supersedes default value argument"),le>n(n("Integer"),"MAX")&&ze.$raise(n("ArgumentError"),"array size too big"),arguments.length>2&&ze.$raise(n("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return f.splice(0,f.length),f;if(arguments.length===1){if(le.$$is_array)return f.$replace(le.$to_a()),f;if(le["$respond_to?"]("to_ary"))return f.$replace(le.$to_ary()),f}le=ye(le,n("Integer"),"to_int"),le<0&&ze.$raise(n("ArgumentError"),"negative array size"),f.splice(0,f.length);var w,Z;if(De===r)for(w=0;w<le;w++)f.push(ge);else for(w=0,Z;w<le;w++)Z=De(w),f[w]=Z;return f},-1),Ye(y,"$try_convert",function(le){return qe["$coerce_to?"](le,n("Array"),"to_ary")}),te(y,"$&",function(le){var ge=this;le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a();var De=[],f=Le([],{}),w,Z,de;for(w=0,Z=le.length;w<Z;w++)Se(f,le[w],!0);for(w=0,Z=ge.length;w<Z;w++)de=ge[w],ke(f,de)!==void 0&&De.push(de);return De}),te(y,"$|",function(le){var ge=this;le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a();var De=Le([],{}),f,w;for(f=0,w=ge.length;f<w;f++)Se(De,ge[f],!0);for(f=0,w=le.length;f<w;f++)Se(De,le[f],!0);return De.$keys()}),te(y,"$*",function(le){var ge=this;if(X(le["$respond_to?"]("to_str")))return ge.$join(le.$to_str());le=ye(le,n("Integer"),"to_int"),X(le<0)&&ze.$raise(n("ArgumentError"),"negative argument");for(var De=[],f=ge.$to_a(),w=0;w<le;w++)De=De.concat(f);return De}),te(y,"$+",function(le){var ge=this;return le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),ge.concat(le)}),te(y,"$-",function(le){var ge=this;if(le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),X(ge.length===0))return[];if(X(le.length===0))return ge.slice();var De=[],f=Le([],{}),w,Z,de;for(w=0,Z=le.length;w<Z;w++)Se(f,le[w],!0);for(w=0,Z=ge.length;w<Z;w++)de=ge[w],Xe(f,de)===void 0&&De.push(de);return De}),te(y,"$<<",function(le){var ge=this;return Me(ge),ge.push(le),ge}),te(y,"$<=>",function(le){var ge=this;if(Je(n("Array"),le))le=le.$to_a();else if(X(le["$respond_to?"]("to_ary")))le=le.$to_ary().$to_a();else return r;if(ge.$hash()===le.$hash())return 0;for(var De=Math.min(ge.length,le.length),f=0;f<De;f++){var w=ge[f]["$<=>"](le[f]);if(w!==0)return w}return ge.length["$<=>"](le.length)}),te(y,"$==",function(le){var ge=this,De={};function f(w,Z){var de,je,nt,e;if(w===Z)return!0;if(!Z.$$is_array)return W(Z,"$to_ary")?Z["$=="](w):!1;if(w.$$constructor!==Array&&(w=w.$to_a()),Z.$$constructor!==Array&&(Z=Z.$to_a()),w.length!==Z.length)return!1;for(De[w.$object_id()]=!0,de=0,je=w.length;de<je;de++)if(nt=w[de],e=Z[de],nt.$$is_array){if(e.$$is_array&&e.length!==nt.length||!De.hasOwnProperty(nt.$object_id())&&!f(nt,e))return!1}else if(!nt["$=="](e))return!1;return!0}return f(ge,le)});function vt(Qe,le){var ge=Qe.length,De,f,w,Z;return De=le.excl,f=le.begin===r?0:ye(le.begin,s.Integer,"to_int"),w=le.end===r?-1:ye(le.end,s.Integer,"to_int"),f<0&&(f+=ge,f<0)||(le.excl_rev&&le.begin!==r&&(f+=1),f>ge)?r:w<0&&(w+=ge,w<0)?[]:((!De||le.end===r)&&(w+=1),Z=Qe.slice(f,w),Z)}function _t(Qe,le){var ge,De=[],f=0,w;for(le.step<0?(w={begin:le.range.end,end:le.range.begin,excl:!1,excl_rev:le.range.excl},ge=vt(Qe,w).$reverse()):ge=vt(Qe,le.range);f<ge.length;)De.push(ge[f]),f+=Math.abs(le.step);return De}function bt(Qe,le,ge){var De=Qe.length,f;return le=ye(le,s.Integer,"to_int"),le<0&&(le+=De,le<0)?r:ge===void 0?le>=De||le<0?r:Qe[le]:(ge=ye(ge,s.Integer,"to_int"),ge<0||le>De||le<0?r:(f=Qe.slice(le,le+ge),f))}te(y,"$[]",function(le,ge){var De=this;return le.$$is_range?vt(De,le):le.$$is_arithmetic_seq?_t(De,le):bt(De,le,ge)},-2),te(y,"$[]=",function(le,ge,De){var f=this,w=r,Z=r;Me(f),w=r;var de,je=f.length;if(le.$$is_range){ge.$$is_array?w=ge.$to_a():ge["$respond_to?"]("to_ary")?w=ge.$to_ary().$to_a():w=[ge];var nt=le.excl,e=le.begin===r?0:ye(le.begin,s.Integer,"to_int"),U=le.end===r?-1:ye(le.end,s.Integer,"to_int");if(e<0&&(e+=je,e<0&&ze.$raise(n("RangeError"),""+le.$inspect()+" out of range")),U<0&&(U+=je),(!nt||le.end===r)&&(U+=1),e>je)for(de=je;de<e;de++)f[de]=r;return U<0?f.splice.apply(f,[e,0].concat(w)):f.splice.apply(f,[e,U-e].concat(w)),ge}else{De===void 0?Z=1:(Z=ge,ge=De,ge.$$is_array?w=ge.$to_a():ge["$respond_to?"]("to_ary")?w=ge.$to_ary().$to_a():w=[ge]);var M;if(le=ye(le,n("Integer"),"to_int"),Z=ye(Z,n("Integer"),"to_int"),le<0&&(M=le,le+=je,le<0&&ze.$raise(n("IndexError"),"index "+M+" too small for array; minimum "+-f.length)),Z<0&&ze.$raise(n("IndexError"),"negative length ("+Z+")"),le>je)for(de=je;de<le;de++)f[de]=r;return De===void 0?f[le]=ge:f.splice.apply(f,[le,Z].concat(w)),ge}},-3),te(y,"$any?",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,De.length===0?!1:Ae(De,$e(De,"any?",Qe,!1,!0),"any?",[le],ge)},-1),te(y,"$assoc",function(le){for(var ge=this,De=0,f=ge.length,w;De<f;De++)if(w=ge[De],w.length&&w[0]["$=="](le))return w;return r}),te(y,"$at",function(le){var ge=this;return le=ye(le,n("Integer"),"to_int"),le<0&&(le+=ge.length),le<0||le>=ge.length?r:ge[le]}),te(y,"$bsearch_index",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return ge.$enum_for("bsearch_index");for(var De=0,f=ge.length,w,Z,de,je=!1,nt=r;De<f;){if(w=De+Math.floor((f-De)/2),Z=ge[w],de=fe(le,Z),de===!0)nt=w,je=!0;else if(de===!1||de===r)je=!1;else if(de.$$is_number){if(de===0)return w;je=de<0}else ze.$raise(n("TypeError"),"wrong argument type "+de.$class()+" (must be numeric, true, false or nil)");je?f=w:De=w+1}return nt}),te(y,"$bsearch",function Qe(){var le=Qe.$$p||r,ge=this,De=r;return Qe.$$p=null,le===r?ge.$enum_for("bsearch"):(De=pe(ge,"bsearch_index",[],le.$to_proc()),De!=null&&De.$$is_number?ge[De]:De)}),te(y,"$cycle",function Qe(le){var ge=Qe.$$p||r,De=this;if(Qe.$$p=null,le==null&&(le=r),ge===r)return pe(De,"enum_for",["cycle",le],function Z(){var de=Z.$$s==null?this:Z.$$s;return X(le["$nil?"]())?n(n("Float"),"INFINITY"):(le=qe["$coerce_to!"](le,n("Integer"),"to_int"),X(ae(le,0))?Fe(de.$enumerator_size(),le):0)},{$$s:De});if(X(De["$empty?"]())||ne(le,0))return r;var f,w;if(le===r)for(;;)for(f=0,w=De.length;f<w;f++)fe(ge,De[f]);else{if(le=qe["$coerce_to!"](le,n("Integer"),"to_int"),le<=0)return De;for(;le>0;){for(f=0,w=De.length;f<w;f++)fe(ge,De[f]);le--}}return De},-1),te(y,"$clear",function(){var le=this;return Me(le),le.splice(0,le.length),le}),te(y,"$count",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,X(le!==void 0)||X(ge)?Ae(De,$e(De,"count",Qe,!1,!0),"count",[le],ge):De.$size()},-1),te(y,"$initialize_copy",function(le){var ge=this;return ge.$replace(le)}),te(y,"$collect",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["collect"],function de(){var je=de.$$s==null?this:de.$$s;return je.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length;f<w;f++){var Z=fe(le,ge[f]);De.push(Z)}return De}),te(y,"$collect!",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["collect!"],function Z(){var de=Z.$$s==null?this:Z.$$s;return de.$size()},{$$s:ge});Me(ge);for(var De=0,f=ge.length;De<f;De++){var w=fe(le,ge[De]);ge[De]=w}return ge});function pt(Qe,le){return Qe===le||le===0?1:le>0&&Qe>le?pt(Qe-1,le-1)+pt(Qe-1,le):0}te(y,"$combination",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=qe["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["combination",f],function M(){var q=M.$$s==null?this:M.$$s;return pt(q.length,f)},{$$s:De});var w,Z,de,je,nt,e,U;if(f===0)s.yield1(ge,[]);else if(f===1)for(w=0,Z=De.length;w<Z;w++)s.yield1(ge,[De[w]]);else if(f===De.length)s.yield1(ge,De.slice());else if(f>=0&&f<De.length){for(de=[],w=0;w<=f+1;w++)de.push(0);for(je=[],nt=0,e=!1,de[0]=-1;!e;){for(je[nt]=De[de[nt+1]];nt<f-1;)nt++,U=de[nt+1]=de[nt]+1,je[nt]=De[U];s.yield1(ge,je.slice()),nt++;do e=nt===0,de[nt]++,nt--;while(de[nt+1]+f===De.length+nt+1)}}return De}),te(y,"$repeated_combination",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=qe["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["repeated_combination",f],function Z(){var de=Z.$$s==null?this:Z.$$s;return pt(de.length+f-1,f)},{$$s:De});function w(Z,de,je,nt){if(je.length==Z){var e=je.slice();s.yield1(ge,e);return}for(var U=de;U<nt.length;U++)je.push(nt[U]),w(Z,U,je,nt),je.pop()}return f>=0&&w(f,0,[],De),De}),te(y,"$compact",function(){for(var le=this,ge=[],De=0,f=le.length,w;De<f;De++)(w=le[De])!==r&&ge.push(w);return ge}),te(y,"$compact!",function(){var le=this;Me(le);for(var ge=le.length,De=0,f=le.length;De<f;De++)le[De]===r&&(le.splice(De,1),f--,De--);return le.length===ge?r:le}),te(y,"$concat",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,Me(f),De=pe(De,"map",[],function w(Z){var de=w.$$s==null?this:w.$$s;return Z==null&&(Z=r),Z=Je(n("Array"),Z)?Z.$to_a():ye(Z,n("Array"),"to_ary").$to_a(),X(Z["$equal?"](de))&&(Z=Z.$dup()),Z},{$$s:f}),pe(De,"each",[],function w(Z){var de=w.$$s==null?this:w.$$s;Z==null&&(Z=r);for(var je=0,nt=Z.length;je<nt;je++)de.push(Z[je])},{$$s:f}),f},-1),te(y,"$delete",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;for(var f=De.length,w=0,Z=f;w<Z;w++)De[w]["$=="](le)&&(Me(De),De.splice(w,1),Z--,w--);return De.length===f?ge!==r?s.yieldX(ge,[]):r:le}),te(y,"$delete_at",function(le){var ge=this;if(Me(ge),le=ye(le,n("Integer"),"to_int"),le<0&&(le+=ge.length),le<0||le>=ge.length)return r;var De=ge[le];return ge.splice(le,1),De}),te(y,"$delete_if",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["delete_if"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Me(ge),lt(ge,xe,le),ge)}),te(y,"$difference",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$to_a().$dup()],function(Z,de){return Z==null&&(Z=r),de==null&&(de=r),me(Z,de)})},-1),te(y,"$dig",function(le,ge){var De,f,w=this,Z=r;return De=He(arguments,1),f=De,Z=w["$[]"](le),Z===r||f.length===0?Z:(X(Z["$respond_to?"]("dig"))||ze.$raise(n("TypeError"),""+Z.$class()+" does not have #dig method"),pe(Z,"dig",Q(f)))},-2),te(y,"$drop",function(le){var ge=this;return le=ye(le,n("Integer"),"to_int"),le<0&&ze.$raise(n("ArgumentError")),ge.slice(le)}),te(y,"$dup",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,ge.$$class===s.Array&&ge.$$class.$allocate.$$pristine&&ge.$copy_instance_variables.$$pristine&&ge.$initialize_dup.$$pristine?ge.slice(0):Ae(ge,$e(ge,"dup",Qe,!1,!0),"dup",[],le)}),te(y,"$each",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["each"],function w(){var Z=w.$$s==null?this:w.$$s;return Z.$size()},{$$s:ge});for(var De=0,f=ge.length;De<f;De++)fe(le,ge[De]);return ge}),te(y,"$each_index",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["each_index"],function w(){var Z=w.$$s==null?this:w.$$s;return Z.$size()},{$$s:ge});for(var De=0,f=ge.length;De<f;De++)fe(le,De);return ge}),te(y,"$empty?",function(){var le=this;return le.length===0}),te(y,"$eql?",function(le){var ge=this,De={};function f(w,Z){var de,je,nt,e;if(!Z.$$is_array||(Z=Z.$to_a(),w.length!==Z.length))return!1;for(De[w.$object_id()]=!0,de=0,je=w.length;de<je;de++)if(nt=w[de],e=Z[de],nt.$$is_array){if(e.$$is_array&&e.length!==nt.length||!De.hasOwnProperty(nt.$object_id())&&!f(nt,e))return!1}else if(!nt["$eql?"](e))return!1;return!0}return f(ge,le)}),te(y,"$fetch",function Qe(le,ge){var De=Qe.$$p||r,f=this;Qe.$$p=null;var w=le;if(le=ye(le,n("Integer"),"to_int"),le<0&&(le+=f.length),le>=0&&le<f.length)return f[le];if(De!==r&&ge!=null&&f.$warn("warning: block supersedes default value argument"),De!==r)return De(w);if(ge!=null)return ge;f.length===0?ze.$raise(n("IndexError"),"index "+w+" outside of array bounds: 0...0"):ze.$raise(n("IndexError"),"index "+w+" outside of array bounds: -"+f.length+"..."+f.length)},-2),te(y,"$fill",function Qe(le){var ge=Qe.$$p||r,De,f,w,Z,de=this,je=r,nt=r,e=r,U=r,M=r;Qe.$$p=null,De=He(arguments),f=De,Me(de);var q,G;if(X(ge)?(X(f.length>2)&&ze.$raise(n("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 0..2)"),Z=f,w=p(Z),je=w[0]==null?r:w[0],nt=w[1]==null?r:w[1]):(X(f.length==0)?ze.$raise(n("ArgumentError"),"wrong number of arguments (0 for 1..3)"):X(f.length>3)&&ze.$raise(n("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 1..3)"),Z=f,w=p(Z),e=w[0]==null?r:w[0],je=w[1]==null?r:w[1],nt=w[2]==null?r:w[2]),Je(n("Range"),je)){if(X(nt)&&ze.$raise(n("TypeError"),"length invalid with range"),U=je.begin===r?0:ye(je.begin,n("Integer"),"to_int"),X(U<0)&&(U+=this.length),X(U<0)&&ze.$raise(n("RangeError"),""+je.$inspect()+" out of range"),M=je.end===r?-1:ye(je.end,n("Integer"),"to_int"),X(M<0)&&(M+=this.length),X(je["$exclude_end?"]())||(M+=1),X(M<=U))return de}else if(X(je))if(U=ye(je,n("Integer"),"to_int"),X(U<0)&&(U+=this.length),X(U<0)&&(U=0),X(nt)){if(M=ye(nt,n("Integer"),"to_int"),X(M==0))return de;M+=U}else M=this.length;else U=0,M=this.length;if(X(U>this.length))for(q=this.length;q<M;q++)de[q]=r;if(X(M>this.length)&&(this.length=M),X(ge))for(this.length;U<M;U++)G=ge(U),de[U]=G;else for(this.length;U<M;U++)de[U]=e;return de},-1),te(y,"$first",function(le){var ge=this;return le==null?ge.length===0?r:ge[0]:(le=ye(le,n("Integer"),"to_int"),le<0&&ze.$raise(n("ArgumentError"),"negative array size"),ge.slice(0,le))},-1),te(y,"$flatten",function(le){var ge=this;function De(f,w){var Z=[],de,je,nt,e;for(f=f.$to_a(),de=0,je=f.length;de<je;de++){if(nt=f[de],!W(nt,"$to_ary",!0)){Z.push(nt);continue}if(e=nt.$to_ary(),e===r){Z.push(nt);continue}switch(e.$$is_array||ze.$raise(n("TypeError")),e===ge&&ze.$raise(n("ArgumentError")),w){case void 0:Z=Z.concat(De(e));break;case 0:Z.push(e);break;default:Z.push.apply(Z,De(e,w-1))}}return Z}return le!==void 0&&(le=ye(le,n("Integer"),"to_int")),De(ge,le)},-1),te(y,"$flatten!",function(le){var ge=this;Me(ge);var De=ge.$flatten(le);if(ge.length==De.length){for(var f=0,w=ge.length;f<w&&ge[f]===De[f];f++);if(f==w)return r}return ge.$replace(De),ge},-1),te(y,"$freeze",function(){var le=this;return X(le["$frozen?"]())?le:Ue(le)}),te(y,"$hash",function(){var le=this,ge=Pe===void 0,De=["A"],f=le.$object_id(),w,Z,de;try{if(ge&&(Pe=Object.create(null)),Pe[f])return"self";for(de in Pe)if(w=Pe[de],le["$eql?"](w))return"self";for(Pe[f]=le,Z=0;Z<le.length;Z++)w=le[Z],De.push(w.$hash());return De.join(",")}finally{ge&&(Pe=void 0)}}),te(y,"$include?",function(le){for(var ge=this,De=0,f=ge.length;De<f;De++)if(ge[De]["$=="](le))return!0;return!1}),te(y,"$index",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;var f,w,Z;if(le!=null&&ge!==r&&De.$warn("warning: given block not used"),le!=null){for(f=0,w=De.length;f<w;f++)if(De[f]["$=="](le))return f}else if(ge!==r){for(f=0,w=De.length;f<w;f++)if(Z=ge(De[f]),Z!==!1&&Z!==r)return f}else return De.$enum_for("index");return r},-1),te(y,"$insert",function(le,ge){var De,f,w=this;if(De=He(arguments,1),f=De,Me(w),le=ye(le,n("Integer"),"to_int"),f.length>0){if(le<0&&(le+=w.length+1,le<0&&ze.$raise(n("IndexError"),""+le+" is out of bounds")),le>w.length)for(var Z=w.length;Z<le;Z++)w.push(r);w.splice.apply(w,[le,0].concat(f))}return w},-2);var gt=[];te(y,"$inspect",function(){var le=this,ge=[],De=le.$__id__(),f=!0;return function(){try{if(gt.indexOf(De)!==-1)return f=!1,"[...]";gt.push(De);for(var w=0,Z=le.length;w<Z;w++){var de=le["$[]"](w);ge.push(be("Opal").$inspect(de))}return"["+ge.join(", ")+"]"}finally{f&&gt.pop()}}()}),te(y,"$intersection",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$to_a().$dup()],function(Z,de){return Z==null&&(Z=r),de==null&&(de=r),Z["$&"](de)})},-1),te(y,"$intersect?",function(le){var ge=this;return ge.$intersection(le)["$empty?"]()["$!"]()}),te(y,"$join",function(le){var ge=this;if(oe[","]==null&&(oe[","]=r),le==null&&(le=r),X(ge.length===0))return"";X(le===r)&&(le=oe[","]);var De=[],f,w,Z,de;for(f=0,w=ge.length;f<w;f++){if(Z=ge[f],W(Z,"$to_str")&&(de=Z.$to_str(),de!==r)){De.push(de.$to_s());continue}if(W(Z,"$to_ary")&&(de=Z.$to_ary(),de===ge&&ze.$raise(n("ArgumentError")),de!==r)){De.push(de.$join(le));continue}if(W(Z,"$to_s")&&(de=Z.$to_s(),de!==r)){De.push(de);continue}ze.$raise(n("NoMethodError").$new(""+be("Opal").$inspect(ge.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return le===r?De.join(""):De.join(qe["$coerce_to!"](le,n("String"),"to_str").$to_s())},-1),te(y,"$keep_if",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["keep_if"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Me(ge),lt(ge,X,le),ge)}),te(y,"$last",function(le){var ge=this;return le==null?ge.length===0?r:ge[ge.length-1]:(le=ye(le,n("Integer"),"to_int"),le<0&&ze.$raise(n("ArgumentError"),"negative array size"),le>ge.length&&(le=ge.length),ge.slice(ge.length-le,ge.length))},-1),te(y,"$length",function(){var le=this;return le.length}),te(y,"$max",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,pe(De.$each(),"max",[le],ge.$to_proc())},-1),te(y,"$min",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,pe(ge.$each(),"min",[],le.$to_proc())});function mt(Qe,le){for(var ge=le>=0?1:0;le;)ge*=Qe,Qe--,le--;return ge}return te(y,"$permutation",function Qe(le){var ge=Qe.$$p||r,De=this,f=r,w=r;if(Qe.$$p=null,ge===r)return pe(De,"enum_for",["permutation",le],function e(){var U=e.$$s==null?this:e.$$s;return mt(U.length,le===void 0?U.length:le)},{$$s:De});var Z,de,je;if(le===void 0?le=De.length:le=ye(le,n("Integer"),"to_int"),!(le<0||De.length<le))if(le===0)s.yield1(ge,[]);else if(le===1)for(var nt=0;nt<De.length;nt++)s.yield1(ge,[De[nt]]);else f=be("Array").$new(le),w=be("Array").$new(De.length,!1),Z=function(e,U,M,q,G){De=this;for(var u=0;u<De.length;u++)if(q["$[]"](u)["$!"]())if(U[M]=u,M<e-1)q[u]=!0,Z.call(De,e,U,M+1,q,G),q[u]=!1;else{je=[];for(var R=0;R<U.length;R++)je.push(De[U[R]]);fe(G,je)}},ge!==r?(de=De.slice(),Z.call(de,le,f,0,w,ge)):Z.call(De,le,f,0,w,ge);return De},-1),te(y,"$repeated_permutation",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=qe["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["repeated_permutation",f],function Z(){var de=Z.$$s==null?this:Z.$$s;return X(T(f,0))?de.$size()["$**"](f):0},{$$s:De});function w(Z,de,je){if(de.length==Z){var nt=de.slice();s.yield1(ge,nt);return}for(var e=0;e<je.length;e++)de.push(je[e]),w(Z,de,je),de.pop()}return w(f,[],De.slice()),De}),te(y,"$pop",function(le){var ge=this;return Me(ge),X(le===void 0)?X(ge.length===0)?r:ge.pop():(le=ye(le,n("Integer"),"to_int"),X(le<0)&&ze.$raise(n("ArgumentError"),"negative array size"),X(ge.length===0)?[]:X(le===1)?[ge.pop()]:X(le>ge.length)?ge.splice(0,ge.length):ge.splice(ge.length-le,ge.length))},-1),te(y,"$product",function Qe(le){var ge=Qe.$$p||r,De,f,w=this;Qe.$$p=null,De=He(arguments),f=De;var Z=ge!==r?null:[],de=f.length+1,je=new Array(de),nt=new Array(de),e=new Array(de),U,M,q,G,u=1;for(e[0]=w,U=1;U<de;U++)e[U]=ye(f[U-1],n("Array"),"to_ary");for(U=0;U<de;U++){if(G=e[U].length,G===0)return Z||w;u*=G,u>2147483647&&ze.$raise(n("RangeError"),"too big to product"),nt[U]=G,je[U]=0}e:for(;;){for(q=[],U=0;U<de;U++)q.push(e[U][je[U]]);for(Z?Z.push(q):s.yield1(ge,q),M=de-1,je[M]++;je[M]===nt[M];){if(je[M]=0,--M<0)break e;je[M]++}}return Z||w},-1),te(y,"$push",function(le){var ge,De,f=this;ge=He(arguments),De=ge,Me(f);for(var w=0,Z=De.length;w<Z;w++)f.push(De[w]);return f},-1),te(y,"$rassoc",function(le){for(var ge=this,De=0,f=ge.length,w;De<f;De++)if(w=ge[De],w.length&&w[1]!==void 0&&w[1]["$=="](le))return w;return r}),te(y,"$reject",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["reject"],function de(){var je=de.$$s==null?this:de.$$s;return je.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length,Z;f<w;f++)Z=le(ge[f]),(Z===!1||Z===r)&&De.push(ge[f]);return De}),te(y,"$reject!",function Qe(){var le=Qe.$$p||r,ge=this,De=r;return Qe.$$p=null,le===r?pe(ge,"enum_for",["reject!"],function f(){var w=f.$$s==null?this:f.$$s;return w.$size()},{$$s:ge}):(Me(ge),De=ge.$length(),pe(ge,"delete_if",[],le.$to_proc()),ne(ge.$length(),De)?r:ge)}),te(y,"$replace",function(le){var ge=this;return Me(ge),le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),ge.splice(0,ge.length),ge.push.apply(ge,le),ge}),te(y,"$reverse",function(){var le=this;return le.slice(0).reverse()}),te(y,"$reverse!",function(){var le=this;return Me(le),le.reverse()}),te(y,"$reverse_each",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["reverse_each"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(pe(ge.$reverse(),"each",[],le.$to_proc()),ge)}),te(y,"$rindex",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;var f,w;if(le!=null&&ge!==r&&De.$warn("warning: given block not used"),le!=null){for(f=De.length-1;f>=0&&!(f>=De.length);f--)if(De[f]["$=="](le))return f}else if(ge!==r){for(f=De.length-1;f>=0&&!(f>=De.length);f--)if(w=ge(De[f]),w!==!1&&w!==r)return f}else if(le==null)return De.$enum_for("rindex");return r},-1),te(y,"$rotate",function(le){var ge=this;le==null&&(le=1);var De,f,w,Z;return le=ye(le,n("Integer"),"to_int"),ge.length===1?ge.slice():ge.length===0?[]:(De=ge.slice(),f=le%De.length,w=De.slice(f),Z=De.slice(0,f),w.concat(Z))},-1),te(y,"$rotate!",function(le){var ge=this,De=r;return le==null&&(le=1),Me(ge),ge.length===0||ge.length===1?ge:(le=ye(le,n("Integer"),"to_int"),De=ge.$rotate(le),ge.$replace(De))},-1),function(Qe,le){var ge=Ie(Qe,le,"SampleRandom"),De=ge.$$prototype;return De.rng=r,te(ge,"$initialize",V("rng")),te(ge,"$rand",function(w){var Z=this,de=r;return de=ye(Z.rng.$rand(w),n("Integer"),"to_int"),X(de<0)&&ze.$raise(n("RangeError"),"random value must be >= 0"),X(de<w)||ze.$raise(n("RangeError"),"random value must be less than Array size"),de})}(y,null),te(y,"$sample",function(le,ge){var De=this,f=r,w=r;if(X(le===void 0))return De.$at(ze.$rand(De.length));if(X(ge===void 0)?X(f=qe["$coerce_to?"](le,n("Hash"),"to_hash"))?(ge=f,le=r):(ge=r,le=ye(le,n("Integer"),"to_int")):(le=ye(le,n("Integer"),"to_int"),ge=ye(ge,n("Hash"),"to_hash")),X(le)&&X(le<0)&&ze.$raise(n("ArgumentError"),"count must be greater than 0"),X(ge)&&(w=ge["$[]"]("random")),w=X(w)&&X(w["$respond_to?"]("rand"))?be("SampleRandom").$new(w):ze,!X(le))return De[w.$rand(De.length)];var Z,de,je,nt,e,U,M,q;switch(le>De.length&&(le=De.length),le){case 0:return[];case 1:return[De[w.$rand(De.length)]];case 2:return nt=w.$rand(De.length),e=w.$rand(De.length-1),nt<=e&&e++,[De[nt],De[e]];default:if(De.length/le>3){for(Z=!1,de=0,je=be("Array").$new(le),nt=1,je[0]=w.$rand(De.length);nt<le;){for(U=w.$rand(De.length),e=0;e<nt;){for(;U===je[e];){if(de++,de>100){Z=!0;break}U=w.$rand(De.length)}if(Z)break;e++}if(Z)break;je[nt]=U,nt++}if(!Z){for(nt=0;nt<le;)je[nt]=De[je[nt]],nt++;return je}}je=De.slice();for(var G=0;G<le;G++)M=w.$rand(De.length-G)+G,q=je[G],je[G]=je[M],je[M]=q;return le===De.length?je:je["$[]"](0,le)}},-1),te(y,"$select",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["select"],function je(){var nt=je.$$s==null?this:je.$$s;return nt.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length,Z,de;f<w;f++)Z=ge[f],de=fe(le,Z),X(de)&&De.push(Z);return De}),te(y,"$select!",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["select!"],function f(){var w=f.$$s==null?this:f.$$s;return w.$size()},{$$s:ge});Me(ge);var De=ge.length;return pe(ge,"keep_if",[],le.$to_proc()),ge.length===De?r:ge}),te(y,"$shift",function(le){var ge=this;return Me(ge),X(le===void 0)?X(ge.length===0)?r:tt(ge):(le=ye(le,n("Integer"),"to_int"),X(le<0)&&ze.$raise(n("ArgumentError"),"negative array size"),X(ge.length===0)?[]:ge.splice(0,le))},-1),te(y,"$shuffle",function(le){var ge=this;return ge.$dup().$to_a()["$shuffle!"](le)},-1),te(y,"$shuffle!",function(le){var ge=this;Me(ge);var De,f=ge.length,w,Z;for(le!==void 0&&(le=qe["$coerce_to?"](le,n("Hash"),"to_hash"),le!==r&&(le=le["$[]"]("random"),le!==r&&le["$respond_to?"]("rand")&&(De=le)));f;)De?(w=De.$rand(f).$to_int(),w<0&&ze.$raise(n("RangeError"),"random number too small "+w),w>=f&&ze.$raise(n("RangeError"),"random number too big "+w)):w=ge.$rand(f),Z=ge[--f],ge[f]=ge[w],ge[w]=Z;return ge},-1),te(y,"$slice!",function(le,ge){var De=this,f=r,w=r,Z=r,de=r,je=r;if(Me(De),f=r,X(ge===void 0))if(Je(n("Range"),le)){w=le,f=De["$[]"](w),Z=w.begin===r?0:ye(w.begin,n("Integer"),"to_int"),de=w.end===r?-1:ye(w.end,n("Integer"),"to_int"),Z<0&&(Z+=De.length),de<0?de+=De.length:de>=De.length&&(de=De.length-1,w.excl&&(de+=1));var nt=de-Z;w.excl&&w.end!==r?de-=1:nt+=1,Z<De.length&&Z>=0&&de<De.length&&de>=0&&nt>0&&De.splice(Z,nt)}else{if(je=ye(le,n("Integer"),"to_int"),je<0&&(je+=De.length),je<0||je>=De.length)return r;f=De[je],je===0?De.shift():De.splice(je,1)}else{if(je=ye(le,n("Integer"),"to_int"),ge=ye(ge,n("Integer"),"to_int"),ge<0)return r;f=De["$[]"](je,ge),je<0&&(je+=De.length),je+ge>De.length&&(ge=De.length-je),je<De.length&&je>=0&&De.splice(je,ge)}return f},-2),te(y,"$sort",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,X(ge.length>1)?(le===r&&(le=function(De,f){return De["$<=>"](f)}),ge.slice().sort(function(De,f){var w=le(De,f);return w===r&&ze.$raise(n("ArgumentError"),"comparison of "+De.$inspect()+" with "+f.$inspect()+" failed"),ae(w,0)?1:N(w,0)?-1:0})):ge}),te(y,"$sort!",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null,Me(ge);var De;le!==r?De=pe(ge.slice(),"sort",[],le.$to_proc()):De=ge.slice().$sort(),ge.length=0;for(var f=0,w=De.length;f<w;f++)ge.push(De[f]);return ge}),te(y,"$sort_by!",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["sort_by!"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Me(ge),ge.$replace(pe(ge,"sort_by",[],le.$to_proc())))}),te(y,"$take",function(le){var ge=this;return le<0&&ze.$raise(n("ArgumentError")),ge.slice(0,le)}),te(y,"$take_while",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null;for(var De=[],f=0,w=ge.length,Z,de;f<w;f++){if(Z=ge[f],de=le(Z),de===!1||de===r)return De;De.push(Z)}return De}),te(y,"$to_a",function(){var le=this;return le.$$class===s.Array?le:s.Array.$new(le)}),te(y,"$to_ary",Ce),te(y,"$to_h",function Qe(){var le=Qe.$$p||r,ge=this,De=r;Qe.$$p=null,De=ge,le!==r&&(De=pe(De,"map",[],le.$to_proc()));var f,w=De.length,Z,de,je,nt=Le([],{});for(f=0;f<w;f++)Z=qe["$coerce_to?"](De[f],n("Array"),"to_ary"),Z.$$is_array||ze.$raise(n("TypeError"),"wrong element type "+Z.$class()+" at "+f+" (expected array)"),Z.length!==2&&ze.$raise(n("ArgumentError"),"wrong array length at "+f+" (expected 2, was "+Z.$length()+")"),de=Z[0],je=Z[1],Se(nt,de,je);return nt}),te(y,"$transpose",function(){var le=this,ge=r,De=r;return X(le["$empty?"]())?[]:(ge=[],De=r,pe(le,"each",[],function(w){var Z=r;return w==null&&(w=r),w=Je(n("Array"),w)?w.$to_a():ye(w,n("Array"),"to_ary").$to_a(),De=X(Z=De)?Z:w.length,re(w.length,De)&&ze.$raise(n("IndexError"),"element size differs ("+w.length+" should be "+De+")"),pe(w.length,"times",[],function(je){var nt,e=r;return je==null&&(je=r),e=X(Z=ge["$[]"](je))?Z:(nt=[je,[]],pe(ge,"[]=",nt),nt[nt.length-1]),e["$<<"](w.$at(je))})}),ge)}),te(y,"$union",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$uniq()],function(Z,de){return Z==null&&(Z=r),de==null&&(de=r),Z["$|"](de)})},-1),te(y,"$uniq",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null;var De=Le([],{}),f,w,Z,de;if(le===r)for(f=0,w=ge.length;f<w;f++)Z=ge[f],Xe(De,Z)===void 0&&Se(De,Z,Z);else for(f=0,w=ge.length;f<w;f++)Z=ge[f],de=fe(le,Z),Xe(De,de)===void 0&&Se(De,de,Z);return De.$values()}),te(y,"$uniq!",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null,Me(ge);var De=ge.length,f=Le([],{}),w,Z,de,je;for(w=0,Z=De;w<Z;w++){if(de=ge[w],je=le===r?de:fe(le,de),Xe(f,je)===void 0){Se(f,je,de);continue}ge.splice(w,1),Z--,w--}return ge.length===De?r:ge}),te(y,"$unshift",function(le){var ge,De,f=this;ge=He(arguments),De=ge,Me(f);var w=f.length,Z=De.length;if(Z==0)return f;for(var de=w-Z,je=0;je<Z;je++)f.push(f[de+je]);for(var nt=w-1;nt-Z>=0;)f[nt]=f[nt-Z],nt--;for(var e=0;e<Z;e++)f[e]=De[e];return f},-1),te(y,"$values_at",function(le){var ge,De,f=this,w=r;return ge=He(arguments),De=ge,w=[],pe(De,"each",[],function Z(de){var je=Z.$$s==null?this:Z.$$s,nt=r,e=r,U=r;return de==null&&(de=r),X(de["$is_a?"](n("Range")))?(nt=de.$end()===r?-1:ye(de.$end(),n("Integer"),"to_int"),e=de.$begin()===r?0:ye(de.$begin(),n("Integer"),"to_int"),e<0?(e=e+je.length,r):(nt<0&&(nt=nt+je.length),de["$exclude_end?"]()&&de.$end()!==r&&nt--,nt<e?r:pe(e,"upto",[nt],function M(q){var G=M.$$s==null?this:M.$$s;return q==null&&(q=r),w["$<<"](G.$at(q))},{$$s:je}))):(U=ye(de,n("Integer"),"to_int"),w["$<<"](je.$at(U)))},{$$s:f}),w},-1),te(y,"$zip",function Qe(le){var ge=Qe.$$p||r,De,f,w=this,Z=r;Qe.$$p=null,De=He(arguments),f=De;var de=[],je=w.length,nt,e,U,M,q;for(M=0,q=f.length;M<q;M++)if(e=f[M],!e.$$is_array){if(e.$$is_range||e.$$is_enumerator){f[M]=e.$take(je);continue}f[M]=(X(Z=qe["$coerce_to?"](e,n("Array"),"to_ary"))?Z:qe["$coerce_to!"](e,n("Enumerator"),"to_enum","each")).$to_a()}for(U=0;U<je;U++){for(nt=[w[U]],M=0,q=f.length;M<q;M++)e=f[M][U],e==null&&(e=r),nt[M+1]=e;de[U]=nt}if(ge!==r){for(U=0;U<je;U++)s.yield1(ge,de[U]);return r}return de},-1),Ye(y,"$inherited",function(le){le.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),te(y,"$instance_variables",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,pe(Ae(ge,$e(ge,"instance_variables",Qe,!1,!0),"instance_variables",[],le),"reject",[],function(f){var w=r;return f==null&&(f=r),X(w=/^@\d+$/.test(f))?w:f["$=="]("@length")})}),te(y,"$pack",function(le){return He(arguments),ze.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),L(y,"append","push"),L(y,"filter","select"),L(y,"filter!","select!"),L(y,"map","collect"),L(y,"map!","collect!"),L(y,"prepend","unshift"),L(y,"size","length"),L(y,"slice","[]"),L(y,"to_s","inspect"),qe.$pristine(y.$singleton_class(),"allocate"),qe.$pristine(y,"copy_instance_variables","initialize_dup")}("::",Array,i)};Opal.modules["corelib/hash"]=function(s){var X=s.yield1,xe=s.hash,Pe=s.hash_init,fe=s.hash_get,Xe=s.hash_put,Se=s.hash_delete,ke=s.deny_frozen_access,ye=s.freeze,W=s.klass,Me=s.slice,Ue=s.Opal,Ie=s.Kernel,He=s.defs,Ye=s.def,ze=s.send,te=s.rb_ge,qe=s.rb_gt,Je=s.hash2,Le=s.truthy,Ae=s.to_a,$e=s.return_self,pe=s.alias,ae=s.top,Fe=[],ne=s.nil,me=s.$$$;return s.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),ae.$require("corelib/enumerable"),function(Q,p,oe){var T=W(Q,p,"Hash"),V=[T].concat(oe),N=s.$r(V);T.$include(me("Enumerable")),T.$$prototype.$$is_hash=!0,He(T,"$[]",function(L){var d,i,r=this;d=Me(arguments),i=d;var n,$=i.length,o;if($===1){if(n=Ue["$coerce_to?"](i["$[]"](0),me("Hash"),"to_hash"),n!==ne)return r.$allocate()["$merge!"](n);for(i=Ue["$coerce_to?"](i["$[]"](0),me("Array"),"to_ary"),i===ne&&Ie.$raise(me("ArgumentError"),"odd number of arguments for Hash"),$=i.length,n=r.$allocate(),o=0;o<$;o++)if(i[o].$$is_array)switch(i[o].length){case 1:n.$store(i[o][0],ne);break;case 2:n.$store(i[o][0],i[o][1]);break;default:Ie.$raise(me("ArgumentError"),"invalid number of elements ("+i[o].length+" for 1..2)")}return n}for($%2!==0&&Ie.$raise(me("ArgumentError"),"odd number of arguments for Hash"),n=r.$allocate(),o=0;o<$;o+=2)n.$store(i[o],i[o+1]);return n},-1),He(T,"$allocate",function(){var L=this,d=new L.$$constructor;return Pe(d),d.$$none=ne,d.$$proc=ne,d}),He(T,"$try_convert",function(L){return Ue["$coerce_to?"](L,me("Hash"),"to_hash")}),Ye(T,"$initialize",function re(L){var d=re.$$p||ne,i=this;return re.$$p=null,ke(i),L!==void 0&&d!==ne&&Ie.$raise(me("ArgumentError"),"wrong number of arguments (1 for 0)"),i.$$none=L===void 0?ne:L,i.$$proc=d,i},-1),Ye(T,"$==",function(L){var d=this;if(d===L)return!0;if(!L.$$is_hash||d.$$keys.length!==L.$$keys.length)return!1;for(var i=0,r=d.$$keys,n=r.length,$,o,g;i<n;i++)if($=r[i],$.$$is_string?(o=d.$$smap[$],g=L.$$smap[$]):(o=$.value,g=fe(L,$.key)),g===void 0||!o["$eql?"](g))return!1;return!0}),Ye(T,"$>=",function(L){var d=this,i=ne;return L=Ue["$coerce_to!"](L,me("Hash"),"to_hash"),d.$$keys.length<L.$$keys.length?!1:(i=!0,ze(L,"each",[],function r(n,$){var o=r.$$s==null?this:r.$$s,g=ne;if(n==null&&(n=ne),$==null&&($=ne),g=o.$fetch(n,null),g==null||g!==$){i=!1;return}},{$$s:d}),i)}),Ye(T,"$>",function(L){var d=this;return L=Ue["$coerce_to!"](L,me("Hash"),"to_hash"),d.$$keys.length<=L.$$keys.length?!1:te(d,L)}),Ye(T,"$<",function(L){var d=this;return L=Ue["$coerce_to!"](L,me("Hash"),"to_hash"),qe(L,d)}),Ye(T,"$<=",function(L){var d=this;return L=Ue["$coerce_to!"](L,me("Hash"),"to_hash"),te(L,d)}),Ye(T,"$[]",function(L){var d=this,i=fe(d,L);return i!==void 0?i:d.$default(L)}),Ye(T,"$[]=",function(L,d){var i=this;return ke(i),Xe(i,L,d),d}),Ye(T,"$assoc",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,$;i<n;i++)if($=r[i],$.$$is_string){if($["$=="](L))return[$,d.$$smap[$]]}else if($.key["$=="](L))return[$.key,$.value];return ne}),Ye(T,"$clear",function(){var L=this;return ke(L),Pe(L),L}),Ye(T,"$clone",function(){var L=this,d=new L.$$class;return Pe(d),s.hash_clone(L,d),d}),Ye(T,"$compact",function(){for(var L=this,d=xe(),i=0,r=L.$$keys,n=r.length,$,o,g;i<n;i++)$=r[i],$.$$is_string?o=L.$$smap[$]:(o=$.value,$=$.key),o!==ne&&Xe(d,$,o);return d}),Ye(T,"$compact!",function(){var L=this;ke(L);for(var d=!1,i=0,r=L.$$keys,n=r.length,$,o,g;i<n;i++)$=r[i],$.$$is_string?o=L.$$smap[$]:(o=$.value,$=$.key),o===ne&&Se(L,$)!==void 0&&(d=!0,n--,i--);return d?L:ne}),Ye(T,"$compare_by_identity",function(){var L=this;ke(L);var d,i,r,n=L.$$keys,$;if(L.$$by_identity)return L;if(L.$$keys.length===0)return L.$$by_identity=!0,L;for($=Je([],{}).$compare_by_identity(),d=0,i=n.length;d<i;d++)r=n[d],r.$$is_string||(r=r.key),Xe($,r,fe(L,r));return L.$$by_identity=!0,L.$$map=$.$$map,L.$$smap=$.$$smap,L}),Ye(T,"$compare_by_identity?",function(){var L=this;return L.$$by_identity===!0}),Ye(T,"$default",function(L){var d=this;return L!==void 0&&d.$$proc!==ne&&d.$$proc!==void 0?d.$$proc.$call(d,L):d.$$none===void 0?ne:d.$$none},-1),Ye(T,"$default=",function(L){var d=this;return ke(d),d.$$proc=ne,d.$$none=L,L}),Ye(T,"$default_proc",function(){var L=this;return L.$$proc!==void 0?L.$$proc:ne}),Ye(T,"$default_proc=",function(L){var d=this;ke(d);var i=L;return i!==ne&&(i=Ue["$coerce_to!"](i,me("Proc"),"to_proc"),i["$lambda?"]()&&i.$arity().$abs()!==2&&Ie.$raise(me("TypeError"),"default_proc takes two arguments")),d.$$none=ne,d.$$proc=i,L}),Ye(T,"$delete",function re(L){var d=re.$$p||ne,i=this;re.$$p=null,ke(i);var r=Se(i,L);return r!==void 0?r:d!==ne?s.yield1(d,L):ne}),Ye(T,"$delete_if",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["delete_if"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});ke(d);for(var i=0,r=d.$$keys,n=r.length,$,o,g;i<n;i++)$=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),g=L($,o),g!==!1&&g!==ne&&Se(d,$)!==void 0&&(n--,i--);return d}),Ye(T,"$dig",function(L,d){var i,r,n=this,$=ne;return i=Me(arguments,1),r=i,$=n["$[]"](L),$===ne||r.length===0?$:(Le($["$respond_to?"]("dig"))||Ie.$raise(me("TypeError"),""+$.$class()+" does not have #dig method"),ze($,"dig",Ae(r)))},-2),Ye(T,"$each",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["each"],function g(){var y=g.$$s==null?this:g.$$s;return y.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,$,o;i<n;i++)$=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),X(L,[$,o]);return d}),Ye(T,"$each_key",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["each_key"],function o(){var g=o.$$s==null?this:o.$$s;return g.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,$;i<n;i++)$=r[i],L($.$$is_string?$:$.key);return d}),Ye(T,"$each_value",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["each_value"],function o(){var g=o.$$s==null?this:o.$$s;return g.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,$;i<n;i++)$=r[i],L($.$$is_string?d.$$smap[$]:$.value);return d}),Ye(T,"$empty?",function(){var L=this;return L.$$keys.length===0}),Ye(T,"$except",function(L){var d,i,r=this;return d=Me(arguments),i=d,ze(r.$dup(),"except!",Ae(i))},-1),Ye(T,"$except!",function(L){var d,i,r=this;return d=Me(arguments),i=d,ze(i,"each",[],function n($){var o=n.$$s==null?this:n.$$s;return $==null&&($=ne),o.$delete($)},{$$s:r}),r},-1),Ye(T,"$fetch",function re(L,d){var i=re.$$p||ne,r=this;re.$$p=null;var n=fe(r,L);return n!==void 0?n:i!==ne?i(L):d!==void 0?d:Ie.$raise(me("KeyError").$new("key not found: "+L.$inspect(),Je(["key","receiver"],{key:L,receiver:r})))},-2),Ye(T,"$fetch_values",function re(L){var d=re.$$p||ne,i,r,n=this;return re.$$p=null,i=Me(arguments),r=i,ze(r,"map",[],function $(o){var g=$.$$s==null?this:$.$$s;return o==null&&(o=ne),ze(g,"fetch",[o],d.$to_proc())},{$$s:n})},-1),Ye(T,"$flatten",function(L){var d=this;L==null&&(L=1),L=Ue["$coerce_to!"](L,me("Integer"),"to_int");for(var i=[],r=0,n=d.$$keys,$=n.length,o,g;r<$;r++){if(o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),i.push(o),g.$$is_array){if(L===1){i.push(g);continue}i=i.concat(g.$flatten(L-2));continue}i.push(g)}return i},-1),Ye(T,"$freeze",function(){var L=this;return Le(L["$frozen?"]())?L:ye(L)}),Ye(T,"$has_key?",function(L){var d=this;return fe(d,L)!==void 0}),Ye(T,"$has_value?",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,$;i<n;i++)if($=r[i],($.$$is_string?d.$$smap[$]:$.value)["$=="](L))return!0;return!1}),Ye(T,"$hash",function(){var L=this,d=s.hash_ids===void 0,i=L.$object_id(),r=["Hash"],n,$;try{if(d&&(s.hash_ids=Object.create(null)),s[i])return"self";for(n in s.hash_ids)if($=s.hash_ids[n],L["$eql?"]($))return"self";s.hash_ids[i]=L;for(var o=0,g=L.$$keys,y=g.length;o<y;o++)n=g[o],n.$$is_string?r.push([n,L.$$smap[n].$hash()]):r.push([n.key_hash,n.value.$hash()]);return r.sort().join()}finally{d&&(s.hash_ids=void 0)}}),Ye(T,"$index",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,$,o;i<n;i++)if($=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),o["$=="](L))return $;return ne}),Ye(T,"$indexes",function(L){var d,i,r=this;d=Me(arguments),i=d;for(var n=[],$=0,o=i.length,g,y;$<o;$++){if(g=i[$],y=fe(r,g),y===void 0){n.push(r.$default());continue}n.push(y)}return n},-1);var Ce;return Ye(T,"$inspect",function(){var L=this,d=Ce===void 0,i=L.$object_id(),r=[];return function(){try{if(d&&(Ce={}),Ce.hasOwnProperty(i))return"{...}";Ce[i]=!0;for(var n=0,$=L.$$keys,o=$.length,g,y;n<o;n++)g=$[n],g.$$is_string?y=L.$$smap[g]:(y=g.value,g=g.key),g=N("Opal").$inspect(g),y=N("Opal").$inspect(y),r.push(g+"=>"+y);return"{"+r.join(", ")+"}"}finally{d&&(Ce=void 0)}}()}),Ye(T,"$invert",function(){for(var L=this,d=xe(),i=0,r=L.$$keys,n=r.length,$,o;i<n;i++)$=r[i],$.$$is_string?o=L.$$smap[$]:(o=$.value,$=$.key),Xe(d,o,$);return d}),Ye(T,"$keep_if",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["keep_if"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});ke(d);for(var i=0,r=d.$$keys,n=r.length,$,o,g;i<n;i++)$=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),g=L($,o),(g===!1||g===ne)&&Se(d,$)!==void 0&&(n--,i--);return d}),Ye(T,"$keys",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,$;i<n;i++)$=r[i],$.$$is_string?d.push($):d.push($.key);return d}),Ye(T,"$length",function(){var L=this;return L.$$keys.length}),Ye(T,"$merge",function re(L){var d=re.$$p||ne,i,r,n=this;return re.$$p=null,i=Me(arguments),r=i,ze(n.$dup(),"merge!",Ae(r),d.$to_proc())},-1),Ye(T,"$merge!",function re(L){var d=re.$$p||ne,i,r,n=this;re.$$p=null,i=Me(arguments),r=i,ke(n);var $,o,g,y,P,be,tt,ot;for($=0;$<r.length;++$)if(g=Ue["$coerce_to!"](r[$],me("Hash"),"to_hash"),y=g.$$keys,P=y.length,d===ne)for(o=0;o<P;o++)be=y[o],be.$$is_string?ot=g.$$smap[be]:(ot=be.value,be=be.key),Xe(n,be,ot);else for(o=0;o<P;o++){if(be=y[o],be.$$is_string?ot=g.$$smap[be]:(ot=be.value,be=be.key),tt=fe(n,be),tt===void 0){Xe(n,be,ot);continue}Xe(n,be,d(be,tt,ot))}return n},-1),Ye(T,"$rassoc",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,$,o;i<n;i++)if($=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),o["$=="](L))return[$,o];return ne}),Ye(T,"$rehash",function(){var L=this;return ke(L),s.hash_rehash(L),L}),Ye(T,"$reject",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["reject"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});for(var i=xe(),r=0,n=d.$$keys,$=n.length,o,g,y;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),(y===!1||y===ne)&&Xe(i,o,g);return i}),Ye(T,"$reject!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["reject!"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});ke(d);for(var i=!1,r=0,n=d.$$keys,$=n.length,o,g,y;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),y!==!1&&y!==ne&&Se(d,o)!==void 0&&(i=!0,$--,r--);return i?d:ne}),Ye(T,"$replace",function(L){var d=this;ke(d),L=Ue["$coerce_to!"](L,me("Hash"),"to_hash"),Pe(d);for(var i=0,r=L.$$keys,n=r.length,$,o,g;i<n;i++)$=r[i],$.$$is_string?g=L.$$smap[$]:(g=$.value,$=$.key),Xe(d,$,g);return Le(L.$default_proc())?d["$default_proc="](L.$default_proc()):d["$default="](L.$default()),d}),Ye(T,"$select",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["select"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});for(var i=xe(),r=0,n=d.$$keys,$=n.length,o,g,y;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),y!==!1&&y!==ne&&Xe(i,o,g);return i}),Ye(T,"$select!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["select!"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});ke(d);for(var i=ne,r=0,n=d.$$keys,$=n.length,o,g,y;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),(y===!1||y===ne)&&(Se(d,o)!==void 0&&($--,r--),i=d);return i}),Ye(T,"$shift",function(){var L=this;ke(L);var d=L.$$keys,i;return d.length>0?(i=d[0],i=i.$$is_string?i:i.key,[i,Se(L,i)]):ne}),Ye(T,"$slice",function(L){var d,i,r=this;d=Me(arguments),i=d;for(var n=xe(),$=0,o=i.length;$<o;$++){var g=i[$],y=fe(r,g);y!==void 0&&Xe(n,g,y)}return n},-1),Ye(T,"$to_a",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,$,o;i<n;i++)$=r[i],$.$$is_string?o=L.$$smap[$]:(o=$.value,$=$.key),d.push([$,o]);return d}),Ye(T,"$to_h",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,L!==ne)return ze(d,"map",[],L.$to_proc()).$to_h();if(d.$$class===s.Hash)return d;var i=new s.Hash;return Pe(i),s.hash_clone(d,i),i}),Ye(T,"$to_hash",$e),Ye(T,"$to_proc",function(){var L=this;return ze(L,"proc",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&Ie.$raise(me("ArgumentError"),"no key given"),r["$[]"](i)},{$$arity:-1,$$s:L})}),Ye(T,"$transform_keys",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["transform_keys"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});for(var i=xe(),r=0,n=d.$$keys,$=n.length,o,g;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),o=X(L,o),Xe(i,o,g);return i}),Ye(T,"$transform_keys!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["transform_keys!"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});ke(d);var i=s.slice(d.$$keys),r,n=i.length,$,o,g;for(r=0;r<n;r++)$=i[r],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),g=X(L,$),Se(d,$),Xe(d,g,o);return d}),Ye(T,"$transform_values",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["transform_values"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});for(var i=xe(),r=0,n=d.$$keys,$=n.length,o,g;r<$;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),g=X(L,g),Xe(i,o,g);return i}),Ye(T,"$transform_values!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return ze(d,"enum_for",["transform_values!"],function g(){var y=g.$$s==null?this:g.$$s;return y.$size()},{$$s:d});ke(d);for(var i=0,r=d.$$keys,n=r.length,$,o;i<n;i++)$=r[i],$.$$is_string?o=d.$$smap[$]:(o=$.value,$=$.key),o=X(L,o),Xe(d,$,o);return d}),Ye(T,"$values",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,$;i<n;i++)$=r[i],$.$$is_string?d.push(L.$$smap[$]):d.push($.value);return d}),pe(T,"dup","clone"),pe(T,"each_pair","each"),pe(T,"eql?","=="),pe(T,"filter","select"),pe(T,"filter!","select!"),pe(T,"include?","has_key?"),pe(T,"indices","indexes"),pe(T,"key","index"),pe(T,"key?","has_key?"),pe(T,"member?","has_key?"),pe(T,"size","length"),pe(T,"store","[]="),pe(T,"to_s","inspect"),pe(T,"update","merge!"),pe(T,"value?","has_value?"),pe(T,"values_at","indexes")}("::",null,Fe)};Opal.modules["corelib/number"]=function(s){var X=s.klass,xe=s.Opal,Pe=s.Kernel,fe=s.def,Xe=s.eqeqeq,Se=s.truthy,ke=s.rb_gt,ye=s.not,W=s.rb_lt,Me=s.alias,Ue=s.send2,Ie=s.find_super,He=s.send,Ye=s.rb_plus,ze=s.rb_minus,te=s.eqeq,qe=s.return_self,Je=s.rb_divide,Le=s.to_ary,Ae=s.rb_times,$e=s.rb_le,pe=s.rb_ge,ae=s.return_val,Fe=s.const_set,ne=s.top,me=[],Q=s.nil,p=s.$$$;return s.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),ne.$require("corelib/numeric"),function(oe,T,V){var N=X(oe,T,"Number");xe.$bridge(Number,N),s.prop(N.$$prototype,"$$is_number",!0),N.$$is_number_class=!0,function(r,n){return fe(r,"$allocate",function(){var o=this;return Pe.$raise(p("TypeError"),"allocator undefined for "+o.$name())}),s.udef(r,"$new"),Q}(s.get_singleton_class(N)),fe(N,"$coerce",function(n){var $=this;if(n===Q)Pe.$raise(p("TypeError"),"can't convert "+n.$class()+" into Float");else{if(n.$$is_string)return[Pe.$Float(n),$];if(n["$respond_to?"]("to_f"))return[xe["$coerce_to!"](n,p("Float"),"to_f"),$];if(n.$$is_number)return[n,$];Pe.$raise(p("TypeError"),"can't convert "+n.$class()+" into Float")}}),fe(N,"$__id__",function(){var n=this;return n*2+1}),fe(N,"$+",function(n){var $=this;return n.$$is_number?$+n:$.$__coerced__("+",n)}),fe(N,"$-",function(n){var $=this;return n.$$is_number?$-n:$.$__coerced__("-",n)}),fe(N,"$*",function(n){var $=this;return n.$$is_number?$*n:$.$__coerced__("*",n)}),fe(N,"$/",function(n){var $=this;return n.$$is_number?$/n:$.$__coerced__("/",n)}),fe(N,"$%",function(n){var $=this;if(n.$$is_number){if(n==-1/0)return n;if(n==0)Pe.$raise(p("ZeroDivisionError"),"divided by 0");else return n<0||$<0?($%n+n)%n:$%n}else return $.$__coerced__("%",n)}),fe(N,"$&",function(n){var $=this;return n.$$is_number?$&n:$.$__coerced__("&",n)}),fe(N,"$|",function(n){var $=this;return n.$$is_number?$|n:$.$__coerced__("|",n)}),fe(N,"$^",function(n){var $=this;return n.$$is_number?$^n:$.$__coerced__("^",n)}),fe(N,"$<",function(n){var $=this;return n.$$is_number?$<n:$.$__coerced__("<",n)}),fe(N,"$<=",function(n){var $=this;return n.$$is_number?$<=n:$.$__coerced__("<=",n)}),fe(N,"$>",function(n){var $=this;return n.$$is_number?$>n:$.$__coerced__(">",n)}),fe(N,"$>=",function(n){var $=this;return n.$$is_number?$>=n:$.$__coerced__(">=",n)});var Ce=function(r,n){return n.$$is_number?isNaN(r)||isNaN(n)?Q:r>n?1:r<n?-1:0:r.$__coerced__("<=>",n)};fe(N,"$<=>",function(n){var $=this;try{return Ce($,n)}catch(o){if(s.rescue(o,[p("ArgumentError")]))try{return Q}finally{s.pop_exception()}else throw o}}),fe(N,"$<<",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),n>0?$<<n:$>>-n}),fe(N,"$>>",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),n>0?$>>n:$<<-n}),fe(N,"$[]",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),n<0?0:n>=32?$<0?1:0:$>>n&1}),fe(N,"$+@",function(){var n=this;return+n}),fe(N,"$-@",function(){var n=this;return-n}),fe(N,"$~",function(){var n=this;return~n}),fe(N,"$**",function(n){var $=this;return Xe(p("Integer"),n)?ye(p("Integer")["$==="]($))||Se(ke(n,0))?Math.pow($,n):p("Rational").$new($,1)["$**"](n):W($,0)&&(Xe(p("Float"),n)||Xe(p("Rational"),n))?p("Complex").$new($,0)["$**"](n.$to_f()):Se(n.$$is_number!=null)?Math.pow($,n):$.$__coerced__("**",n)}),fe(N,"$==",function(n){var $=this;return n.$$is_number?$.valueOf()===n.valueOf():n["$respond_to?"]("==")?n["$=="]($):!1}),Me(N,"===","=="),fe(N,"$abs",function(){var n=this;return Math.abs(n)}),fe(N,"$abs2",function(){var n=this;return Math.abs(n*n)}),fe(N,"$allbits?",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),($&n)==n}),fe(N,"$anybits?",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),($&n)!==0}),fe(N,"$angle",function(){var n=this;return Se(n["$nan?"]())?n:n==0?1/n>0?0:Math.PI:n<0?Math.PI:0}),fe(N,"$bit_length",function(){var n=this;if(Xe(p("Integer"),n)||Pe.$raise(p("NoMethodError").$new("undefined method `bit_length` for "+n+":Float","bit_length")),n===0||n===-1)return 0;for(var $=0,o=n<0?~n:n;o!=0;)$+=1,o>>>=1;return $}),fe(N,"$ceil",function(n){var $=this;n==null&&(n=0);var o=$.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=Math.ceil(o*g)/g;return o%1===0&&(y=Math.round(y)),y},-1),fe(N,"$chr",function(n){var $=this;return s.enc(String.fromCharCode($),n||"BINARY")},-1),fe(N,"$denominator",function r(){var n=r.$$p||Q,$=this;return r.$$p=null,Se($["$nan?"]())||Se($["$infinite?"]())?1:Ue($,Ie($,"denominator",r,!1,!0),"denominator",[],n)}),fe(N,"$downto",function r(n){var $=r.$$p||Q,o=this;if(r.$$p=null,$===Q)return He(o,"enum_for",["downto",n],function y(){var P=y.$$s==null?this:y.$$s;return Xe(p("Numeric"),n)||Pe.$raise(p("ArgumentError"),"comparison of "+P.$class()+" with "+n.$class()+" failed"),Se(ke(n,P))?0:Ye(ze(P,n),1)},{$$s:o});n.$$is_number||Pe.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+n.$class()+" failed");for(var g=o;g>=n;g--)$(g);return o}),fe(N,"$equal?",function(n){var $=this,o=Q;return Se(o=$["$=="](n))?o:isNaN($)&&isNaN(n)}),fe(N,"$even?",function(){var n=this;return n%2===0}),fe(N,"$floor",function(n){var $=this;n==null&&(n=0);var o=$.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=Math.floor(o*g)/g;return o%1===0&&(y=Math.round(y)),y},-1),fe(N,"$gcd",function(n){var $=this;Xe(p("Integer"),n)||Pe.$raise(p("TypeError"),"not an integer");for(var o=Math.abs($),g=Math.abs(n);o>0;){var y=o;o=g%o,g=y}return g}),fe(N,"$gcdlcm",function(n){var $=this;return[$.$gcd(n),$.$lcm(n)]}),fe(N,"$integer?",function(){var n=this;return n%1===0}),fe(N,"$is_a?",function r(n){var $=r.$$p||Q,o=this;return r.$$p=null,te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Float"))&&Xe(p("Float"),o)?!0:Ue(o,Ie(o,"is_a?",r,!1,!0),"is_a?",[n],$)}),fe(N,"$instance_of?",function r(n){var $=r.$$p||Q,o=this;return r.$$p=null,te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Float"))&&Xe(p("Float"),o)?!0:Ue(o,Ie(o,"instance_of?",r,!1,!0),"instance_of?",[n],$)}),fe(N,"$lcm",function(n){var $=this;return Xe(p("Integer"),n)||Pe.$raise(p("TypeError"),"not an integer"),$==0||n==0?0:Math.abs($*n/$.$gcd(n))}),fe(N,"$next",function(){var n=this;return n+1}),fe(N,"$nobits?",function(n){var $=this;return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),($&n)==0}),fe(N,"$nonzero?",function(){var n=this;return n==0?Q:n}),fe(N,"$numerator",function r(){var n=r.$$p||Q,$=this;return r.$$p=null,Se($["$nan?"]())||Se($["$infinite?"]())?$:Ue($,Ie($,"numerator",r,!1,!0),"numerator",[],n)}),fe(N,"$odd?",function(){var n=this;return n%2!==0}),fe(N,"$ord",qe),fe(N,"$pow",function(n,$){var o=this;return o==0&&Pe.$raise(p("ZeroDivisionError"),"divided by 0"),$===void 0?o["$**"](n):(p("Integer")["$==="](n)||Pe.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),n<0&&Pe.$raise(p("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),p("Integer")["$==="]($)||Pe.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&Pe.$raise(p("ZeroDivisionError"),"divided by 0"),o["$**"](n)["$%"]($))},-2),fe(N,"$pred",function(){var n=this;return n-1}),fe(N,"$quo",function r(n){var $=r.$$p||Q,o=this;return r.$$p=null,Xe(p("Integer"),o)?Ue(o,Ie(o,"quo",r,!1,!0),"quo",[n],$):Je(o,n)}),fe(N,"$rationalize",function(n){var $,o,g=this,y=Q,P=Q;return arguments.length>1&&Pe.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Xe(p("Integer"),g)?p("Rational").$new(g,1):Se(g["$infinite?"]())?Pe.$raise(p("FloatDomainError"),"Infinity"):Se(g["$nan?"]())?Pe.$raise(p("FloatDomainError"),"NaN"):Se(n==null)?(o=p("Math").$frexp(g),$=Le(o),y=$[0]==null?Q:$[0],P=$[1]==null?Q:$[1],y=p("Math").$ldexp(y,p(p("Float"),"MANT_DIG")).$to_i(),P=ze(P,p(p("Float"),"MANT_DIG")),p("Rational").$new(Ae(2,y),1["$<<"](ze(1,P))).$rationalize(p("Rational").$new(1,1["$<<"](ze(1,P))))):g.$to_r().$rationalize(n)},-1),fe(N,"$remainder",function(n){var $=this;return ze($,Ae(n,Je($,n).$truncate()))}),fe(N,"$round",function(n){var $,o,g=this,y=Q;if(Xe(p("Integer"),g)){if(Se(n==null)||(Xe(p("Float"),n)&&Se(n["$infinite?"]())&&Pe.$raise(p("RangeError"),"Infinity"),n=xe["$coerce_to!"](n,p("Integer"),"to_int"),Se(W(n,p(p("Integer"),"MIN")))&&Pe.$raise(p("RangeError"),"out of bounds"),Se(n>=0)))return g;if(n=n["$-@"](),.415241*n-.125>g.$size())return 0;var P=Math.pow(10,n),be=Math.floor((Math.abs(g)+P/2)/P)*P;return g<0?-be:be}else{if(Se(g["$nan?"]())&&Se(n==null)&&Pe.$raise(p("FloatDomainError"),"NaN"),n=xe["$coerce_to!"](n||0,p("Integer"),"to_int"),Se($e(n,0)))Se(g["$nan?"]())?Pe.$raise(p("RangeError"),"NaN"):Se(g["$infinite?"]())&&Pe.$raise(p("FloatDomainError"),"Infinity");else{if(te(n,0))return Math.round(g);if(Se(g["$nan?"]())||Se(g["$infinite?"]()))return g}return o=p("Math").$frexp(g),$=Le(o),$[0]==null||$[0],y=$[1]==null?Q:$[1],Se(pe(n,ze(Ye(p(p("Float"),"DIG"),2),Se(ke(y,0))?Je(y,4):ze(Je(y,3),1))))?g:Se(W(n,(Se(ke(y,0))?Ye(Je(y,3),1):Je(y,4))["$-@"]()))?0:Math.round(g*Math.pow(10,n))/Math.pow(10,n)}},-1),fe(N,"$times",function r(){var n=r.$$p||Q,$=this;if(r.$$p=null,!Se(n))return He($,"enum_for",["times"],function g(){var y=g.$$s==null?this:g.$$s;return y},{$$s:$});for(var o=0;o<$;o++)n(o);return $}),fe(N,"$to_f",qe),fe(N,"$to_i",function(){var n=this;return n<0?Math.ceil(n):Math.floor(n)}),fe(N,"$to_r",function(){var n,$,o=this,g=Q,y=Q;return Xe(p("Integer"),o)?p("Rational").$new(o,1):($=p("Math").$frexp(o),n=Le($),g=n[0]==null?Q:n[0],y=n[1]==null?Q:n[1],g=p("Math").$ldexp(g,p(p("Float"),"MANT_DIG")).$to_i(),y=ze(y,p(p("Float"),"MANT_DIG")),Ae(g,p(p("Float"),"RADIX")["$**"](y)).$to_r())}),fe(N,"$to_s",function(n){var $=this;return n==null&&(n=10),n=xe["$coerce_to!"](n,p("Integer"),"to_int"),(Se(W(n,2))||Se(ke(n,36)))&&Pe.$raise(p("ArgumentError"),"invalid radix "+n),te($,0)&&Se(1/$===-1/0)?"-0.0":$.toString(n)},-1),fe(N,"$truncate",function(n){var $=this;n==null&&(n=0);var o=$.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=parseInt(o*g,10)/g;return o%1===0&&(y=Math.round(y)),y},-1),fe(N,"$digits",function(n){var $=this;n==null&&(n=10),W($,0)&&Pe.$raise(p(p("Math"),"DomainError"),"out of domain"),n=xe["$coerce_to!"](n,p("Integer"),"to_int"),Se(W(n,2))&&Pe.$raise(p("ArgumentError"),"invalid radix "+n),$!=parseInt($)&&Pe.$raise(p("NoMethodError"),"undefined method `digits' for "+$.$inspect());var o=$,g=[];if($==0)return[0];for(;o!=0;)g.push(o%n),o=parseInt(o/n,10);return g},-1),fe(N,"$divmod",function r(n){var $=r.$$p||Q,o=this;return r.$$p=null,Se(o["$nan?"]())||Se(n["$nan?"]())?Pe.$raise(p("FloatDomainError"),"NaN"):Se(o["$infinite?"]())?Pe.$raise(p("FloatDomainError"),"Infinity"):Ue(o,Ie(o,"divmod",r,!1,!0),"divmod",[n],$)}),fe(N,"$upto",function r(n){var $=r.$$p||Q,o=this;if(r.$$p=null,$===Q)return He(o,"enum_for",["upto",n],function y(){var P=y.$$s==null?this:y.$$s;return Xe(p("Numeric"),n)||Pe.$raise(p("ArgumentError"),"comparison of "+P.$class()+" with "+n.$class()+" failed"),Se(W(n,P))?0:Ye(ze(n,P),1)},{$$s:o});n.$$is_number||Pe.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+n.$class()+" failed");for(var g=o;g<=n;g++)$(g);return o}),fe(N,"$zero?",function(){var n=this;return n==0}),fe(N,"$size",ae(4)),fe(N,"$nan?",function(){var n=this;return isNaN(n)}),fe(N,"$finite?",function(){var n=this;return n!=1/0&&n!=-1/0&&!isNaN(n)}),fe(N,"$infinite?",function(){var n=this;return n==1/0?1:n==-1/0?-1:Q}),fe(N,"$positive?",function(){var n=this;return n!=0&&(n==1/0||1/n>0)}),fe(N,"$negative?",function(){var n=this;return n==-1/0||1/n<0});function re(r){var n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,r,!0),n}function L(r){return new DataView(r.buffer).getFloat64(0,!0)}function d(r){for(var n=re(r),$=0;$<n.length;$++)if(n[$]===255)n[$]=0;else{n[$]++;break}return L(n)}function i(r){for(var n=re(r),$=0;$<n.length;$++)if(n[$]===0)n[$]=255;else{n[$]--;break}return L(n)}return fe(N,"$next_float",function(){var n=this;return te(n,p(p("Float"),"INFINITY"))?p(p("Float"),"INFINITY"):Se(n["$nan?"]())?p(p("Float"),"NAN"):pe(n,0)?d(Math.abs(n)):i(n)}),fe(N,"$prev_float",function(){var n=this;return te(n,p(p("Float"),"INFINITY")["$-@"]())?p(p("Float"),"INFINITY")["$-@"]():Se(n["$nan?"]())?p(p("Float"),"NAN"):ke(n,0)?i(n):-d(Math.abs(n))}),Me(N,"arg","angle"),Me(N,"eql?","=="),Me(N,"fdiv","/"),Me(N,"inspect","to_s"),Me(N,"kind_of?","is_a?"),Me(N,"magnitude","abs"),Me(N,"modulo","%"),Me(N,"object_id","__id__"),Me(N,"phase","angle"),Me(N,"succ","next"),Me(N,"to_int","to_i")}("::",p("Numeric")),Fe("::","Fixnum",p("Number")),function(oe,T,V){var N=X(oe,T,"Integer"),Ce=[N].concat(V);return N.$$is_number_class=!0,N.$$is_integer_class=!0,function(re,L){var d=[re].concat(L),i=s.$r(d);return fe(re,"$allocate",function(){var n=this;return Pe.$raise(p("TypeError"),"allocator undefined for "+n.$name())}),s.udef(re,"$new"),fe(re,"$sqrt",function(n){return n=xe["$coerce_to!"](n,p("Integer"),"to_int"),n<0&&Pe.$raise(p(p("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(n),10)}),fe(re,"$try_convert",function(n){var $=this;return i("Opal")["$coerce_to?"](n,$,"to_int")})}(s.get_singleton_class(N),Ce),Fe(N,"MAX",Math.pow(2,30)-1),Fe(N,"MIN",-Math.pow(2,30))}("::",p("Numeric"),me),function(oe,T,V){var N=X(oe,T,"Float");return N.$$is_number_class=!0,function(Ce,re){return fe(Ce,"$allocate",function(){var d=this;return Pe.$raise(p("TypeError"),"allocator undefined for "+d.$name())}),s.udef(Ce,"$new"),fe(Ce,"$===",function(d){return!!d.$$is_number})}(s.get_singleton_class(N)),Fe(N,"INFINITY",1/0),Fe(N,"MAX",Number.MAX_VALUE),Fe(N,"MIN",Number.MIN_VALUE),Fe(N,"NAN",NaN),Fe(N,"DIG",15),Fe(N,"MANT_DIG",53),Fe(N,"RADIX",2),Fe(N,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",p("Numeric"))};Opal.modules["corelib/range"]=function(s){var X=s.klass,xe=s.truthy,Pe=s.Kernel,fe=s.def,Xe=s.not,Se=s.send2,ke=s.find_super,ye=s.rb_lt,W=s.rb_le,Me=s.send,Ue=s.eqeq,Ie=s.eqeqeq,He=s.return_ivar,Ye=s.rb_gt,ze=s.rb_minus,te=s.Opal,qe=s.rb_divide,Je=s.rb_plus,Le=s.rb_times,Ae=s.rb_ge,$e=s.thrower,pe=s.alias,ae=s.top,Fe=[],ne=s.nil,me=s.$$$;return s.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),ae.$require("corelib/enumerable"),function(Q,p,oe){var T=X(Q,p,"Range"),V=[T].concat(oe),N=s.$r(V),Ce=T.$$prototype;Ce.begin=Ce.end=Ce.excl=ne,T.$include(me("Enumerable")),T.$$prototype.$$is_range=!0,T.$attr_reader("begin","end"),fe(T,"$initialize",function(d,i,r){var n=this;return r==null&&(r=!1),xe(n.begin)&&Pe.$raise(me("NameError"),"'initialize' called twice"),xe(d["$<=>"](i))||xe(d["$nil?"]())||xe(i["$nil?"]())||Pe.$raise(me("ArgumentError"),"bad value for range"),n.begin=d,n.end=i,n.excl=r},-3),fe(T,"$===",function(d){var i=this;return i["$include?"](d)});function re(L){return L.begin===ne||L.end===ne||L.begin===-1/0||L.end===1/0||L.begin===1/0||L.end===-1/0}return fe(T,"$count",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,Xe(d!==ne)&&xe(re(i))?me(me("Float"),"INFINITY"):Se(i,ke(i,"count",L,!1,!0),"count",[],d)}),fe(T,"$to_a",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,xe(re(i))&&Pe.$raise(me("TypeError"),"cannot convert endless range to an array"),Se(i,ke(i,"to_a",L,!1,!0),"to_a",[],d)}),fe(T,"$cover?",function(d){var i=this,r=ne,n=ne,$=ne,o=ne,g=ne;return r=xe(n=xe($=xe(o=i.begin["$nil?"]())?-1:o)?$:i.begin["$<=>"](d))&&n,g=xe(n=xe($=xe(o=i.end["$nil?"]())?-1:o)?$:d["$<=>"](i.end))&&n,xe(n=xe($=xe(i.excl)?xe(o=g)?ye(g,0):o:xe(o=g)?W(g,0):o)?r:$)?W(r,0):n}),fe(T,"$each",function L(){var d=L.$$p||ne,i=this,r=ne,n=ne,$=ne;if(L.$$p=null,d===ne)return Me(i,"enum_for",["each"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:i});var o,g;if(i.begin.$$is_number&&i.end.$$is_number){for((i.begin%1!==0||i.end%1!==0)&&Pe.$raise(me("TypeError"),"can't iterate from Float"),o=i.begin,g=i.end+(xe(i.excl)?0:1);o<g;o++)d(o);return i}if(i.begin.$$is_string&&i.end.$$is_string)return Me(i.begin,"upto",[i.end,i.excl],d.$to_proc()),i;for(r=i.begin,n=i.end,xe(r["$respond_to?"]("succ"))||Pe.$raise(me("TypeError"),"can't iterate from "+r.$class());xe(xe($=i.end["$nil?"]())?$:ye(r["$<=>"](n),0));)s.yield1(d,r),r=r.$succ();return Xe(i.excl)&&Ue(r,n)&&s.yield1(d,r),i}),fe(T,"$eql?",function(d){var i=this,r=ne,n=ne;return Ie(me("Range"),d)?xe(r=xe(n=i.excl["$==="](d["$exclude_end?"]()))?i.begin["$eql?"](d.$begin()):n)?i.end["$eql?"](d.$end()):r:!1}),fe(T,"$exclude_end?",He("excl")),fe(T,"$first",function L(d){var i=L.$$p||ne,r=this;return L.$$p=null,xe(r.begin["$nil?"]())&&Pe.$raise(me("RangeError"),"cannot get the minimum of beginless range"),xe(d==null)?r.begin:Se(r,ke(r,"first",L,!1,!0),"first",[d],i)},-1),fe(T,"$last",function(d){var i=this;return xe(i.end["$nil?"]())&&Pe.$raise(me("RangeError"),"cannot get the maximum of endless range"),xe(d==null)?i.end:i.$to_a().$last(d)},-1),fe(T,"$max",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,xe(i.end["$nil?"]())?Pe.$raise(me("RangeError"),"cannot get the maximum of endless range"):d!==ne?Se(i,ke(i,"max",L,!1,!0),"max",[],d):Xe(i.begin["$nil?"]())&&(xe(Ye(i.begin,i.end))||xe(i.excl)&&Ue(i.begin,i.end))?ne:i.excl?i.end-1:i.end}),fe(T,"$min",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,xe(i.begin["$nil?"]())?Pe.$raise(me("RangeError"),"cannot get the minimum of beginless range"):d!==ne?Se(i,ke(i,"min",L,!1,!0),"min",[],d):Xe(i.end["$nil?"]())&&(xe(Ye(i.begin,i.end))||xe(i.excl)&&Ue(i.begin,i.end))?ne:i.begin}),fe(T,"$size",function(){var d=this,i=ne,r=ne,n=ne;return i=me(me("Float"),"INFINITY"),Ue(d.begin,i)&&Xe(d.end["$nil?"]())||Ue(d.end,i["$-@"]())&&Xe(d.begin["$nil?"]())?0:xe(re(d))?i:Ie(me("Numeric"),d.begin)&&Ie(me("Numeric"),d.end)?(r=d.begin,n=d.end,xe(d.excl)&&(n=ze(n,1)),xe(ye(n,r))?0:(Math.abs(n-r)+1).$to_i()):ne}),fe(T,"$step",function L(d){var i=L.$$p||ne,r=this,n=ne,$=ne;L.$$p=null;function o(){d==null?d=1:d.$$is_number||(d=te["$coerce_to!"](d,me("Integer"),"to_int")),d<0?Pe.$raise(me("ArgumentError"),"step can't be negative"):d===0&&Pe.$raise(me("ArgumentError"),"step can't be 0")}function g(){if(!r.begin["$respond_to?"]("succ")||r.begin.$$is_string&&r.end.$$is_string)return ne;if(d%1===0)return qe(r.$size(),d).$ceil();var y=r.begin,P=r.end,be=Math.abs,tt=Math.floor,ot=(be(y)+be(P)+be(P-y))/be(d)*me(me("Float"),"EPSILON"),lt;return ot>.5&&(ot=.5),r.excl?(lt=tt((P-y)/d-ot),lt*d+y<P&&lt++):lt=tt((P-y)/d+ot)+1,lt}return i===ne?(xe(r.begin["$is_a?"](N("Numeric")))||xe(r.begin["$nil?"]()))&&(xe(r.end["$is_a?"](N("Numeric")))||xe(r.end["$nil?"]()))&&Xe(xe(n=r.begin["$nil?"]())?r.end["$nil?"]():n)?me(me("Enumerator"),"ArithmeticSequence").$new(r,d,"step"):Me(r,"enum_for",["step",d],function(){return o(),g()}):(o(),xe(r.begin.$$is_number&&r.end.$$is_number)?($=0,function(){try{var y=$e("break");return Me(r,"loop",[],function P(){var be=P.$$s==null?this:P.$$s,tt=ne;return be.begin==null&&(be.begin=ne),be.excl==null&&(be.excl=ne),be.end==null&&(be.end=ne),tt=Je(be.begin,Le($,d)),xe(be.excl)?xe(Ae(tt,be.end))&&y.$throw():xe(Ye(tt,be.end))&&y.$throw(),s.yield1(i,tt),$=Je($,1)},{$$s:r})}catch(P){if(P===y)return P.$v;throw P}}()):(r.begin.$$is_string&&r.end.$$is_string&&d%1!==0&&Pe.$raise(me("TypeError"),"no implicit conversion to float from string"),Me(r,"each_with_index",[],function(P,be){return P==null&&(P=ne),be==null&&(be=ne),Ue(be["$%"](d),0)?s.yield1(i,P):ne})),r)},-1),fe(T,"$%",function(d){var i=this;return xe(i.begin["$is_a?"](N("Numeric")))&&xe(i.end["$is_a?"](N("Numeric")))?me(me("Enumerator"),"ArithmeticSequence").$new(i,d,"%"):i.$step(d)}),fe(T,"$bsearch",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,d===ne?i.$enum_for("bsearch"):(xe(re(i)&&(i.begin.$$is_number||i.end.$$is_number))&&Pe.$raise(me("NotImplementedError"),"Can't #bsearch an infinite range"),xe(i.begin.$$is_number&&i.end.$$is_number)||Pe.$raise(me("TypeError"),"can't do binary search for "+i.begin.$class()),Me(i.$to_a(),"bsearch",[],d.$to_proc()))}),fe(T,"$to_s",function(){var d=this,i=ne;return""+(xe(i=d.begin)?i:"")+(xe(d.excl)?"...":"..")+(xe(i=d.end)?i:"")}),fe(T,"$inspect",function(){var d=this,i=ne;return""+(xe(i=d.begin)?d.begin.$inspect():i)+(xe(d.excl)?"...":"..")+(xe(i=d.end)?d.end.$inspect():i)}),fe(T,"$marshal_load",function(d){var i=this;return i.begin=d["$[]"]("begin"),i.end=d["$[]"]("end"),i.excl=d["$[]"]("excl")}),fe(T,"$hash",function(){var d=this;return[d.begin,d.end,d.excl].$hash()}),pe(T,"==","eql?"),pe(T,"include?","cover?"),pe(T,"member?","cover?")}("::",null,Fe)};Opal.modules["corelib/proc"]=function(s){var X=s.slice,xe=s.klass,Pe=s.truthy,fe=s.Kernel,Xe=s.defs,Se=s.def,ke=s.send,ye=s.to_a,W=s.return_self,Me=s.ensure_kwargs,Ue=s.Opal,Ie=s.alias,He=s.nil,Ye=s.$$$;return s.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(ze,te){var qe=xe(ze,te,"Proc");return s.prop(qe.$$prototype,"$$is_proc",!0),s.prop(qe.$$prototype,"$$is_lambda",!1),Xe(qe,"$new",function Je(){var Le=Je.$$p||He;return Je.$$p=null,Pe(Le)||fe.$raise(Ye("ArgumentError"),"tried to create a Proc object without a block"),Le}),Se(qe,"$call",function Je(Le){var Ae=Je.$$p||He,$e,pe,ae=this;Je.$$p=null,$e=X(arguments),pe=$e,Ae!==He&&(ae.$$p=Ae);var Fe,ne=ae.$$brk,me=ae.$$ret;if(ne||me&&ae.$$is_lambda)try{ae.$$is_lambda?Fe=ae.apply(null,pe):Fe=s.yieldX(ae,pe)}catch(Q){if(Q===ne)return Q.$v;if(ae.$$is_lambda&&Q===me)return Q.$v;throw Q}else ae.$$is_lambda?Fe=ae.apply(null,pe):Fe=s.yieldX(ae,pe);return Fe},-1),Se(qe,"$>>",function Je(Le){Je.$$p;var Ae=this;return Je.$$p=null,ke(fe,"proc",[],function $e(pe){var ae=$e.$$p||He,Fe,ne,me=$e.$$s==null?this:$e.$$s,Q=He;return $e.$$p=null,Fe=X(arguments),ne=Fe,Q=ke(me,"call",ye(ne),ae.$to_proc()),Le.$call(Q)},{$$arity:-1,$$s:Ae})}),Se(qe,"$<<",function Je(Le){Je.$$p;var Ae=this;return Je.$$p=null,ke(fe,"proc",[],function $e(pe){var ae=$e.$$p||He,Fe,ne,me=$e.$$s==null?this:$e.$$s,Q=He;return $e.$$p=null,Fe=X(arguments),ne=Fe,Q=ke(Le,"call",ye(ne),ae.$to_proc()),me.$call(Q)},{$$arity:-1,$$s:Ae})}),Se(qe,"$to_proc",W),Se(qe,"$lambda?",function(){var Le=this;return!!Le.$$is_lambda}),Se(qe,"$arity",function(){var Le=this;return Le.$$is_curried?-1:Le.$$arity!=null?Le.$$arity:Le.length}),Se(qe,"$source_location",function(){var Le=this,Ae=He;return Le.$$is_curried?He:Pe(Ae=Le.$$source_location)?Ae:He}),Se(qe,"$binding",function(){var Le=this;return Le.$$is_curried&&fe.$raise(Ye("ArgumentError"),"Can't create Binding"),Pe(Ye("::","Binding","skip_raise")?"constant":He)?Ye("Binding").$new(He,[],Le.$$s,Le.$source_location()):He}),Se(qe,"$parameters",function(Le){var Ae,$e=this;if(Le=Me(Le),Ae=Le.$$smap.lambda,$e.$$is_curried)return[["rest"]];if($e.$$parameters){if(Ae??$e.$$is_lambda)return $e.$$parameters;var pe=[],ae,Fe;for(ae=0,Fe=$e.$$parameters.length;ae<Fe;ae++){var ne=$e.$$parameters[ae];ne[0]==="req"&&(ne=["opt",ne[1]]),pe.push(ne)}return pe}else return[]},-1),Se(qe,"$curry",function(Le){var Ae=this;Le===void 0?Le=Ae.length:(Le=Ue["$coerce_to!"](Le,Ye("Integer"),"to_int"),Ae.$$is_lambda&&Le!==Ae.length&&fe.$raise(Ye("ArgumentError"),"wrong number of arguments ("+Le+" for "+Ae.length+")"));function $e(){var pe=X(arguments),ae=pe.length,Fe;return ae>Le&&Ae.$$is_lambda&&!Ae.$$is_curried&&fe.$raise(Ye("ArgumentError"),"wrong number of arguments ("+ae+" for "+Le+")"),ae>=Le?Ae.$call.apply(Ae,pe):(Fe=function(){return $e.apply(null,pe.concat(X(arguments)))},Fe.$$is_lambda=Ae.$$is_lambda,Fe.$$is_curried=!0,Fe)}return $e.$$is_lambda=Ae.$$is_lambda,$e.$$is_curried=!0,$e},-1),Se(qe,"$dup",function(){var Le=this,Ae=Le.$$original_proc||Le,$e=function(){return Ae.apply(this,arguments)};for(var pe in Le)Le.hasOwnProperty(pe)&&($e[pe]=Le[pe]);return $e}),Ie(qe,"===","call"),Ie(qe,"clone","dup"),Ie(qe,"yield","call"),Ie(qe,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(s){var X=s.klass,xe=s.def,Pe=s.truthy,fe=s.slice,Xe=s.alias,Se=s.Kernel,ke=s.send,ye=s.to_a,W=s.nil,Me=s.$$$;return s.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(Ue,Ie){var He=X(Ue,Ie,"Method"),Ye=He.$$prototype;return Ye.method=Ye.receiver=Ye.owner=Ye.name=W,He.$attr_reader("owner","receiver","name"),xe(He,"$initialize",function(te,qe,Je,Le){var Ae=this;return Ae.receiver=te,Ae.owner=qe,Ae.name=Le,Ae.method=Je}),xe(He,"$arity",function(){var te=this;return te.method.$arity()}),xe(He,"$parameters",function(){var te=this;return te.method.$$parameters}),xe(He,"$source_location",function(){var te=this,qe=W;return Pe(qe=te.method.$$source_location)?qe:["(eval)",0]}),xe(He,"$comments",function(){var te=this,qe=W;return Pe(qe=te.method.$$comments)?qe:[]}),xe(He,"$call",function ze(te){var qe=ze.$$p||W,Je,Le,Ae=this;return ze.$$p=null,Je=fe(arguments),Le=Je,Ae.method.$$p=qe,Ae.method.apply(Ae.receiver,Le)},-1),xe(He,"$curry",function(te){var qe=this;return qe.method.$curry(te)},-1),xe(He,"$>>",function(te){var qe=this;return qe.method["$>>"](te)}),xe(He,"$<<",function(te){var qe=this;return qe.method["$<<"](te)}),xe(He,"$unbind",function(){var te=this;return Me("UnboundMethod").$new(te.receiver.$class(),te.owner,te.method,te.name)}),xe(He,"$to_proc",function(){var te=this,qe=te.$call.bind(te);return qe.$$unbound=te.method,qe.$$is_lambda=!0,qe.$$arity=te.method.$$arity==null?te.method.length:te.method.$$arity,qe.$$parameters=te.method.$$parameters,qe}),xe(He,"$inspect",function(){var te=this;return"#<"+te.$class()+": "+te.receiver.$class()+"#"+te.name+" (defined in "+te.owner+" in "+te.$source_location().$join(":")+")>"}),Xe(He,"[]","call"),Xe(He,"===","call")}("::",null),function(Ue,Ie){var He=X(Ue,Ie,"UnboundMethod"),Ye=He.$$prototype;return Ye.method=Ye.owner=Ye.name=Ye.source=W,He.$attr_reader("source","owner","name"),xe(He,"$initialize",function(te,qe,Je,Le){var Ae=this;return Ae.source=te,Ae.owner=qe,Ae.method=Je,Ae.name=Le}),xe(He,"$arity",function(){var te=this;return te.method.$arity()}),xe(He,"$parameters",function(){var te=this;return te.method.$$parameters}),xe(He,"$source_location",function(){var te=this,qe=W;return Pe(qe=te.method.$$source_location)?qe:["(eval)",0]}),xe(He,"$comments",function(){var te=this,qe=W;return Pe(qe=te.method.$$comments)?qe:[]}),xe(He,"$bind",function(te){var qe=this;if(qe.owner.$$is_module||s.is_a(te,qe.owner))return Me("Method").$new(te,qe.owner,qe.method,qe.name);Se.$raise(Me("TypeError"),"can't bind singleton method to a different class (expected "+te+".kind_of?("+qe.owner+" to be true)")}),xe(He,"$bind_call",function ze(te,qe){var Je=ze.$$p||W,Le,Ae,$e=this;return ze.$$p=null,Le=fe(arguments,1),Ae=Le,ke($e.$bind(te),"call",ye(Ae),Je.$to_proc())},-2),xe(He,"$inspect",function(){var te=this;return"#<"+te.$class()+": "+te.source+"#"+te.name+" (defined in "+te.owner+" in "+te.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(s){var X=s.gvars,xe=s.const_set,Pe=s.Object,fe=s.hash2,Xe=s.nil;return s.add_stubs("new"),X["&"]=X["~"]=X["`"]=X["'"]=Xe,X.LOADED_FEATURES=X['"']=s.loaded_features,X.LOAD_PATH=X[":"]=[],X["/"]=`
`,X[","]=Xe,xe("::","ARGV",[]),xe("::","ARGF",Pe.$new()),xe("::","ENV",fe([],{})),X.VERBOSE=!1,X.DEBUG=!1,X.SAFE=0};Opal.modules["corelib/io"]=function(s){var X=s.klass,xe=s.const_set,Pe=s.not,fe=s.truthy,Xe=s.def,Se=s.return_ivar,ke=s.return_val,ye=s.slice,W=s.Kernel,Me=s.gvars,Ue=s.send,Ie=s.to_a,He=s.rb_plus,Ye=s.neqeq,ze=s.range,te=s.hash2,qe=s.eqeq,Je=s.to_ary,Le=s.rb_gt,Ae=s.assign_ivar_val,$e=s.alias,pe,ae=s.nil,Fe=s.$$$;s.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(me,Q){var p=X(me,Q,"IO"),oe=p.$$prototype;return oe.read_buffer=oe.closed=ae,xe(p,"SEEK_SET",0),xe(p,"SEEK_CUR",1),xe(p,"SEEK_END",2),xe(p,"SEEK_DATA",3),xe(p,"SEEK_HOLE",4),xe(p,"READABLE",1),xe(p,"WRITABLE",4),p.$attr_reader("eof"),p.$attr_accessor("read_proc","sync","tty","write_proc"),Xe(p,"$initialize",function(V,N){var Ce=this;return N==null&&(N="r"),Ce.fd=V,Ce.flags=N,Ce.eof=!1,fe(N["$include?"]("r"))&&Pe(N["$match?"](/[wa+]/))?Ce.closed="write":fe(N["$match?"](/[wa]/))&&Pe(N["$match?"](/[r+]/))?Ce.closed="read":ae},-2),Xe(p,"$fileno",Se("fd")),Xe(p,"$tty?",function(){var V=this;return V.tty==!0}),Xe(p,"$write",function(V){var N=this;return N.write_proc(V),V.$size()}),Xe(p,"$flush",ke(ae)),Xe(p,"$<<",function(V){var N=this;return N.$write(V),N}),Xe(p,"$print",function(V){var N,Ce,re=this;Me[","]==null&&(Me[","]=ae),N=ye(arguments),Ce=N;for(var L=0,d=Ce.length;L<d;L++)Ce[L]=W.$String(Ce[L]);return re.$write(Ce.join(Me[","])),ae},-1),Xe(p,"$puts",function(V){var N,Ce,re=this;N=ye(arguments),Ce=N;var L;if(Ce.length===0)return re.$write(`
`),ae;for(var d=0,i=Ce.length;d<i;d++)if(Ce[d].$$is_array){var r=Ce[d].$flatten();r.length>0&&Ue(re,"puts",Ie(r))}else Ce[d].$$is_string?L=Ce[d].valueOf():L=W.$String(Ce[d]),L.endsWith(`
`)||(L+=`
`),re.$write(L);return ae},-1),Xe(p,"$getc",function(){var V=this,N=ae,Ce=ae,re=ae;V.read_buffer=fe(N=V.read_buffer)?N:"",Ce="";do if(V.read_buffer=He(V.read_buffer,Ce),Ye(V.read_buffer,""))return re=V.read_buffer["$[]"](0),V.read_buffer=V.read_buffer["$[]"](ze(1,-1,!1)),re;while(fe(Ce=V.$sysread_noraise(1)));return ae}),Xe(p,"$getbyte",function(){var V,N=this;return V=N.$getc(),V===ae||V==null?ae:V.$ord()}),Xe(p,"$readbyte",function(){var V=this;return V.$readchar().$ord()}),Xe(p,"$readchar",function(){var V=this,N=ae;return fe(N=V.$getc())?N:W.$raise(Fe("EOFError"),"end of file reached")}),Xe(p,"$readline",function(V){var N,Ce,re=this,L=ae;return N=ye(arguments),Ce=N,fe(L=Ue(re,"gets",Ie(Ce)))?L:W.$raise(Fe("EOFError"),"end of file reached")},-1),Xe(p,"$gets",function(V,N,Ce){var re,L,d=this,i=ae,r=ae,n=ae,$=ae,o=ae,g=ae;Me["/"]==null&&(Me["/"]=ae),V==null&&(V=!1),N==null&&(N=ae),Ce==null&&(Ce=te([],{})),fe(V.$$is_number)&&Pe(N)&&(re=[!1,V,N],V=re[0],N=re[1],Ce=re[2]),fe(V.$$is_hash)&&Pe(N)&&qe(Ce,te([],{}))?(re=[!1,ae,V],V=re[0],N=re[1],Ce=re[2]):fe(N.$$is_hash)&&qe(Ce,te([],{}))&&(re=[V,ae,N],V=re[0],N=re[1],Ce=re[2]),i=V,qe(V,!1)&&(V=Me["/"]),qe(V,"")&&(V=/\r?\n\r?\n/),V=fe(r=V)?r:"",qe(i,"")||(V=V.$to_str()),n=qe(i,"")?2:V.$length(),qe(V," ")&&(V=/ /),d.read_buffer=fe(r=d.read_buffer)?r:"",$="",o=ae;do if(d.read_buffer=He(d.read_buffer,$),Ye(V,"")&&fe(fe(V.$$is_regexp)?d.read_buffer["$match?"](V):d.read_buffer["$include?"](V))){g=d.read_buffer,L=d.read_buffer.$split(V,2),re=Je(L),o=re[0]==null?ae:re[0],d.read_buffer=re[1]==null?ae:re[1],Ye(o,g)&&(o=He(o,g["$[]"](o.$length(),n)));break}while(fe($=d.$sysread_noraise(qe(V,"")?65536:1)));return fe(o)||(re=[fe(r=d.read_buffer)?r:"",""],o=re[0],d.read_buffer=re[1],qe(o,"")&&(o=ae)),fe(o)&&(fe(N)&&(o=o["$[]"](s.Range.$new(0,N,!0)),d.read_buffer=He(o["$[]"](s.Range.$new(N,-1,!1)),d.read_buffer)),fe(Ce["$[]"]("chomp"))&&(o=o.$sub(/\r?\n$/,"")),qe(i,"")&&(o=o.$sub(/^[\r\n]+/,""))),qe(i,!1)&&(Me._=o),o},-1),Xe(p,"$sysread",function(V){var N=this,Ce=ae;return fe(Ce=N.read_proc(V))?Ce:(N.eof=!0,W.$raise(Fe("EOFError"),"end of file reached"))}),Xe(p,"$sysread_noraise",function(V){var N=this;try{return N.$sysread(V)}catch(Ce){if(s.rescue(Ce,[Fe("EOFError")]))try{return ae}finally{s.pop_exception()}else throw Ce}}),Xe(p,"$readpartial",function(V){var N,Ce=this,re=ae,L=ae,d=ae;return Ce.read_buffer=fe(re=Ce.read_buffer)?re:"",L=Ce.$sysread(V),N=[He(Ce.read_buffer,fe(re=L)?re:""),""],d=N[0],Ce.read_buffer=N[1],qe(d,"")&&(d=ae),d}),Xe(p,"$read",function(V){var N,Ce=this,re=ae,L=ae,d=ae;V==null&&(V=ae),Ce.read_buffer=fe(re=Ce.read_buffer)?re:"",L="",d=ae;do if(Ce.read_buffer=He(Ce.read_buffer,L),fe(V)&&fe(Le(Ce.read_buffer.$length(),V)))return N=[Ce.read_buffer["$[]"](s.Range.$new(0,V,!0)),Ce.read_buffer["$[]"](s.Range.$new(V,-1,!1))],d=N[0],Ce.read_buffer=N[1],d;while(fe(L=Ce.$sysread_noraise(fe(re=V)?re:65536)));return N=[Ce.read_buffer,""],d=N[0],Ce.read_buffer=N[1],d},-1),Xe(p,"$readlines",function(V){var N=this;return Me["/"]==null&&(Me["/"]=ae),V==null&&(V=Me["/"]),N.$each_line(V).$to_a()},-1),Xe(p,"$each",function T(V,N){var Ce=T.$$p||ae,re,L,d,i=this,r=ae;if(Me["/"]==null&&(Me["/"]=ae),T.$$p=null,re=ye(arguments),re.length>0&&(L=re.shift()),L==null&&(L=Me["/"]),d=re,Ce===ae)return Ue(i,"enum_for",["each",L].concat(Ie(d)));for(;fe(r=Ue(i,"gets",[L].concat(Ie(d))));)s.yield1(Ce,r);return i},-1),Xe(p,"$each_byte",function T(){var V=T.$$p||ae,N=this,Ce=ae;if(T.$$p=null,V===ae)return N.$enum_for("each_byte");for(;fe(Ce=N.$getbyte());)s.yield1(V,Ce);return N}),Xe(p,"$each_char",function T(){var V=T.$$p||ae,N=this,Ce=ae;if(T.$$p=null,V===ae)return N.$enum_for("each_char");for(;fe(Ce=N.$getc());)s.yield1(V,Ce);return N}),Xe(p,"$close",Ae("closed","both")),Xe(p,"$close_read",function(){var V=this;return qe(V.closed,"write")?V.closed="both":V.closed="read"}),Xe(p,"$close_write",function(){var V=this;return qe(V.closed,"read")?V.closed="both":V.closed="write"}),Xe(p,"$closed?",function(){var V=this;return V.closed["$=="]("both")}),Xe(p,"$closed_read?",function(){var V=this,N=ae;return fe(N=V.closed["$=="]("read"))?N:V.closed["$=="]("both")}),Xe(p,"$closed_write?",function(){var V=this,N=ae;return fe(N=V.closed["$=="]("write"))?N:V.closed["$=="]("both")}),Xe(p,"$check_writable",function(){var V=this;return fe(V["$closed_write?"]())?W.$raise(Fe("IOError"),"not opened for writing"):ae}),Xe(p,"$check_readable",function(){var V=this;return fe(V["$closed_read?"]())?W.$raise(Fe("IOError"),"not opened for reading"):ae}),$e(p,"each_line","each"),$e(p,"eof?","eof")}("::",null),xe("::","STDIN",Me.stdin=Fe("IO").$new(0,"r")),xe("::","STDOUT",Me.stdout=Fe("IO").$new(1,"w")),xe("::","STDERR",Me.stderr=Fe("IO").$new(2,"w"));var ne=s.global.console;return Fe("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(me){process.stdout.write(me)}:function(me){ne.log(me)}),Fe("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(me){process.stderr.write(me)}:function(me){ne.warn(me)}),pe=[function(me){var Q=prompt();return Q!==null?Q+`
`:ae}],Ue(Fe("STDIN"),"read_proc=",pe),pe[pe.length-1]};Opal.modules["opal/regexp_anchors"]=function(s){var X=s.module,xe=s.const_set,Pe=[];s.nil;var fe=s.$$$;return s.add_stubs("new"),function(Xe,Se){var ke=X(Xe,"Opal"),ye=[ke].concat(Se),W=s.$r(ye);return xe(ke,"REGEXP_START","^"),xe(ke,"REGEXP_END","$"),xe(ke,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),xe(ke,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),xe(ke,"INLINE_IDENTIFIER_REGEXP",W("Regexp").$new("[^"+fe(ke,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+fe(ke,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),xe(ke,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),xe(ke,"CONST_NAME_REGEXP",W("Regexp").$new(""+fe(ke,"REGEXP_START")+"(::)?[A-Z][^"+fe(ke,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+fe(ke,"REGEXP_END")))}(Pe[0],Pe)};Opal.modules["opal/mini"]=function(s){var X=s.Object;return s.nil,s.add_stubs("require"),X.$require("opal/base"),X.$require("corelib/nil"),X.$require("corelib/boolean"),X.$require("corelib/string"),X.$require("corelib/comparable"),X.$require("corelib/enumerable"),X.$require("corelib/enumerator"),X.$require("corelib/array"),X.$require("corelib/hash"),X.$require("corelib/number"),X.$require("corelib/range"),X.$require("corelib/proc"),X.$require("corelib/method"),X.$require("corelib/regexp"),X.$require("corelib/variables"),X.$require("corelib/io"),X.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(s){var X=s.coerce_to,xe=s.module,Pe=s.slice,fe=s.truthy,Xe=s.eqeq,Se=s.Opal,ke=s.Kernel,ye=s.gvars,W=s.def,Me=s.alias,Ue=s.nil,Ie=s.$$$;return s.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(He){var Ye=xe(He,"Kernel");return W(Ye,"$format",function(te,qe){var Je,Le,Ae=Ue;ye.DEBUG==null&&(ye.DEBUG=Ue),Je=Pe(arguments,1),Le=Je,Xe(Le.$length(),1)&&fe(Le["$[]"](0)["$respond_to?"]("to_ary"))&&(Ae=Se["$coerce_to?"](Le["$[]"](0),Ie("Array"),"to_ary"),fe(Ae["$nil?"]())||(Le=Ae.$to_a()));var $e="",pe=0,ae,Fe,ne=te.length,me,Q,p,oe,T,V,N,Ce,re,L,d,i,r,n=1,$=0,o,g=0,y=1,P=2,be=4,tt=8,ot=16,lt=32,vt=64,_t=128;function bt(){o&lt&&ke.$raise(Ie("ArgumentError"),"flag after width"),o&_t&&ke.$raise(Ie("ArgumentError"),"flag after precision")}function pt(){o&lt&&ke.$raise(Ie("ArgumentError"),"width given twice"),o&_t&&ke.$raise(Ie("ArgumentError"),"width after precision")}function gt(f){return f>=Le.length&&ke.$raise(Ie("ArgumentError"),"too few arguments"),Le[f]}function mt(){switch($){case-1:ke.$raise(Ie("ArgumentError"),"unnumbered("+n+") mixed with numbered");case-2:ke.$raise(Ie("ArgumentError"),"unnumbered("+n+") mixed with named")}return $=n++,gt($-1)}function Qe(f){return $>0&&ke.$raise(Ie("ArgumentError"),"numbered("+f+") after unnumbered("+$+")"),$===-2&&ke.$raise(Ie("ArgumentError"),"numbered("+f+") after named"),f<1&&ke.$raise(Ie("ArgumentError"),"invalid index - "+f+"$"),$=-1,gt(f-1)}function le(){return r===void 0?mt():r}function ge(f){for(var w,Z="";;Fe++){if(Fe===ne&&ke.$raise(Ie("ArgumentError"),"malformed format string - %*[0-9]"),te.charCodeAt(Fe)<48||te.charCodeAt(Fe)>57)return Fe--,w=parseInt(Z,10)||0,w>2147483647&&ke.$raise(Ie("ArgumentError"),""+f+" too big"),w;Z+=te.charAt(Fe)}}function De(f){var w,Z=ge(f);return te.charAt(Fe+1)==="$"?(Fe++,w=Qe(Z)):w=mt(),w.$to_int()}for(Fe=te.indexOf("%");Fe!==-1;Fe=te.indexOf("%",Fe)){switch(Q=void 0,o=g,oe=-1,T=-1,r=void 0,ae=Fe,Fe++,te.charAt(Fe)){case"%":pe=Fe;case"":case`
`:case"\0":Fe++;continue}e:for(;Fe<ne;Fe++)switch(te.charAt(Fe)){case" ":bt(),o|=ot;continue e;case"#":bt(),o|=y;continue e;case"+":bt(),o|=be;continue e;case"-":bt(),o|=P;continue e;case"0":bt(),o|=tt;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(V=ge("width"),te.charAt(Fe+1)==="$"){if(Fe+2===ne){Q="%",Fe++;break e}r!==void 0&&ke.$raise(Ie("ArgumentError"),"value given twice - %"+V+"$"),r=Qe(V),Fe++}else pt(),o|=lt,oe=V;continue e;case"<":case"{":for(Ce=te.charAt(Fe)==="<"?">":"}",N="",Fe++;;Fe++){if(Fe===ne&&ke.$raise(Ie("ArgumentError"),"malformed name - unmatched parenthesis"),te.charAt(Fe)===Ce){if($>0&&ke.$raise(Ie("ArgumentError"),"named "+N+" after unnumbered("+$+")"),$===-1&&ke.$raise(Ie("ArgumentError"),"named "+N+" after numbered"),$=-2,(Le[0]===void 0||!Le[0].$$is_hash)&&ke.$raise(Ie("ArgumentError"),"one hash required"),r=Le[0].$fetch(N),Ce===">")continue e;if(Q=r.toString(),T!==-1&&(Q=Q.slice(0,T)),o&P)for(;Q.length<oe;)Q=Q+" ";else for(;Q.length<oe;)Q=" "+Q;break e}N+=te.charAt(Fe)}case"*":Fe++,pt(),o|=lt,oe=De("width"),oe<0&&(o|=P,oe=-oe);continue e;case".":if(o&_t&&ke.$raise(Ie("ArgumentError"),"precision given twice"),o|=vt|_t,T=0,Fe++,te.charAt(Fe)==="*"){Fe++,T=De("precision"),T<0&&(o&=~vt);continue e}T=ge("precision");continue e;case"d":case"i":case"u":if(me=ke.$Integer(le()),me>=0){for(Q=me.toString();Q.length<T;)Q="0"+Q;if(o&P)for((o&be||o&ot)&&(Q=(o&be?"+":" ")+Q);Q.length<oe;)Q=Q+" ";else if(o&tt&&T===-1){for(;Q.length<oe-(o&be||o&ot?1:0);)Q="0"+Q;(o&be||o&ot)&&(Q=(o&be?"+":" ")+Q)}else for((o&be||o&ot)&&(Q=(o&be?"+":" ")+Q);Q.length<oe;)Q=" "+Q}else{for(Q=(-me).toString();Q.length<T;)Q="0"+Q;if(o&P)for(Q="-"+Q;Q.length<oe;)Q=Q+" ";else if(o&tt&&T===-1){for(;Q.length<oe-1;)Q="0"+Q;Q="-"+Q}else for(Q="-"+Q;Q.length<oe;)Q=" "+Q}break e;case"b":case"B":case"o":case"x":case"X":switch(te.charAt(Fe)){case"b":case"B":re=2,L="0b",d=/^1+/,i="1";break;case"o":re=8,L="0",d=/^3?7+/,i="7";break;case"x":case"X":re=16,L="0x",d=/^f+/,i="f";break}if(me=ke.$Integer(le()),me>=0){for(Q=me.toString(re);Q.length<T;)Q="0"+Q;if(o&P)for((o&be||o&ot)&&(Q=(o&be?"+":" ")+Q),o&y&&me!==0&&(Q=L+Q);Q.length<oe;)Q=Q+" ";else if(o&tt&&T===-1){for(;Q.length<oe-(o&be||o&ot?1:0)-(o&y&&me!==0?L.length:0);)Q="0"+Q;o&y&&me!==0&&(Q=L+Q),(o&be||o&ot)&&(Q=(o&be?"+":" ")+Q)}else for(o&y&&me!==0&&(Q=L+Q),(o&be||o&ot)&&(Q=(o&be?"+":" ")+Q);Q.length<oe;)Q=" "+Q}else if(o&be||o&ot){for(Q=(-me).toString(re);Q.length<T;)Q="0"+Q;if(o&P)for(o&y&&(Q=L+Q),Q="-"+Q;Q.length<oe;)Q=Q+" ";else if(o&tt&&T===-1){for(;Q.length<oe-1-(o&y?2:0);)Q="0"+Q;o&y&&(Q=L+Q),Q="-"+Q}else for(o&y&&(Q=L+Q),Q="-"+Q;Q.length<oe;)Q=" "+Q}else{for(Q=(me>>>0).toString(re).replace(d,i);Q.length<T-2;)Q=i+Q;if(o&P)for(Q=".."+Q,o&y&&(Q=L+Q);Q.length<oe;)Q=Q+" ";else if(o&tt&&T===-1){for(;Q.length<oe-2-(o&y?L.length:0);)Q=i+Q;Q=".."+Q,o&y&&(Q=L+Q)}else for(Q=".."+Q,o&y&&(Q=L+Q);Q.length<oe;)Q=" "+Q}te.charAt(Fe)===te.charAt(Fe).toUpperCase()&&(Q=Q.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(me=ke.$Float(le()),me>=0||isNaN(me)){if(me===1/0)Q="Inf";else switch(te.charAt(Fe)){case"f":Q=me.toFixed(T===-1?6:T);break;case"e":case"E":Q=me.toExponential(T===-1?6:T);break;case"g":case"G":Q=me.toExponential(),p=parseInt(Q.split("e")[1],10),p<-4||p>=(T===-1?6:T)||(Q=me.toPrecision(T===-1?o&y?6:void 0:T));break}if(o&P)for((o&be||o&ot)&&(Q=(o&be?"+":" ")+Q);Q.length<oe;)Q=Q+" ";else if(o&tt&&me!==1/0&&!isNaN(me)){for(;Q.length<oe-(o&be||o&ot?1:0);)Q="0"+Q;(o&be||o&ot)&&(Q=(o&be?"+":" ")+Q)}else for((o&be||o&ot)&&(Q=(o&be?"+":" ")+Q);Q.length<oe;)Q=" "+Q}else{if(me===-1/0)Q="Inf";else switch(te.charAt(Fe)){case"f":Q=(-me).toFixed(T===-1?6:T);break;case"e":case"E":Q=(-me).toExponential(T===-1?6:T);break;case"g":case"G":Q=(-me).toExponential(),p=parseInt(Q.split("e")[1],10),p<-4||p>=(T===-1?6:T)||(Q=(-me).toPrecision(T===-1?o&y?6:void 0:T));break}if(o&P)for(Q="-"+Q;Q.length<oe;)Q=Q+" ";else if(o&tt&&me!==-1/0){for(;Q.length<oe-1;)Q="0"+Q;Q="-"+Q}else for(Q="-"+Q;Q.length<oe;)Q=" "+Q}te.charAt(Fe)===te.charAt(Fe).toUpperCase()&&me!==1/0&&me!==-1/0&&!isNaN(me)&&(Q=Q.toUpperCase()),Q=Q.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":ke.$raise(Ie("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(me=le(),me["$respond_to?"]("to_ary")&&(me=me.$to_ary()[0]),me["$respond_to?"]("to_str")?Q=me.$to_str():Q=String.fromCharCode(X(me,Ie("Integer"),"to_int")),Q.length!==1&&ke.$raise(Ie("ArgumentError"),"%c requires a character"),o&P)for(;Q.length<oe;)Q=Q+" ";else for(;Q.length<oe;)Q=" "+Q;break e;case"p":if(Q=le().$inspect(),T!==-1&&(Q=Q.slice(0,T)),o&P)for(;Q.length<oe;)Q=Q+" ";else for(;Q.length<oe;)Q=" "+Q;break e;case"s":if(Q=le().$to_s(),T!==-1&&(Q=Q.slice(0,T)),o&P)for(;Q.length<oe;)Q=Q+" ";else for(;Q.length<oe;)Q=" "+Q;break e;default:ke.$raise(Ie("ArgumentError"),"malformed format string - %"+te.charAt(Fe))}Q===void 0&&ke.$raise(Ie("ArgumentError"),"malformed format string - %"),$e+=te.slice(pe,ae)+Q,pe=Fe+1}return ye.DEBUG&&$>=0&&n<Le.length&&ke.$raise(Ie("ArgumentError"),"too many arguments for format string"),$e+te.slice(pe)},-2),Me(Ye,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(s){var X=s.klass,xe=s.hash2,Pe=s.rb_plus,fe=s.truthy,Xe=s.send,Se=s.defs,ke=s.eqeq,ye=s.def,W=s.return_ivar,Me=s.return_val,Ue=s.slice,Ie=s.Kernel,He=s.Opal,Ye=s.rb_lt,ze,te=s.top,qe=[],Je=s.$r(qe),Le=s.nil,Ae=s.$$$;return s.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),te.$require("corelib/string"),function($e,pe){var ae=X($e,pe,"Encoding"),Fe=ae.$$prototype;return Fe.name=Fe.dummy=Le,Se(ae,"$register",function ne(me,Q){var p=ne.$$p||Le,oe=this,T=Le,V=Le,N=Le,Ce=Le,re=Le,L=Le;return ne.$$p=null,Q==null&&(Q=xe([],{})),T=Pe([me],fe(V=Q["$[]"]("aliases"))?V:[]),N=fe(V=Q["$[]"]("ascii"))&&V,Ce=fe(V=Q["$[]"]("dummy"))&&V,fe(Q["$[]"]("inherits"))?(re=Q["$[]"]("inherits").$clone(),re.$initialize(me,T,N,Ce)):re=oe.$new(me,T,N,Ce),p!==Le&&Xe(re,"instance_eval",[],p.$to_proc()),L=s.encodings,Xe(T,"each",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&(i=Le),r.$const_set(i.$tr("-","_"),re),L[i]=re},{$$s:oe})},-2),Se(ae,"$find",function(me){var Q=this;return ke(me,"default_external")?Q.$default_external():s.find_encoding(me)}),ae.$singleton_class().$attr_accessor("default_external"),ae.$attr_reader("name","names"),ye(ae,"$initialize",function(me,Q,p,oe){var T=this;return T.name=me,T.names=Q,T.ascii=p,T.dummy=oe}),ye(ae,"$ascii_compatible?",W("ascii")),ye(ae,"$dummy?",W("dummy")),ye(ae,"$binary?",Me(!1)),ye(ae,"$to_s",W("name")),ye(ae,"$inspect",function(){var me=this;return"#<Encoding:"+me.name+(fe(me.dummy)?" (dummy)":Le)+">"}),ye(ae,"$charsize",function(me){for(var Q=0,p=0,oe=me.length;p<oe;p++){var T=me.charCodeAt(p);T>=55296&&T<=56319||Q++}return Q}),ye(ae,"$each_char",function ne(me){var Q=ne.$$p||Le;ne.$$p=null;for(var p="",oe=0,T=me.length;oe<T;oe++){var V=me.charCodeAt(oe),N=me.charAt(oe);if(V>=56320&&V<=57343){p=N;continue}else V>=55296&&V<=56319&&(N=p+N);me.encoding.name!="UTF-8"&&(N=new String(N),N.encoding=me.encoding),s.yield1(Q,N)}}),ye(ae,"$each_byte",function(me){return Ue(arguments),Ie.$raise(Ae("NotImplementedError"))},-1),ye(ae,"$bytesize",function(me){return Ue(arguments),Ie.$raise(Ae("NotImplementedError"))},-1),X("::",Ae("StandardError"),"EncodingError"),X("::",Ae("EncodingError"),"CompatibilityError"),Le}("::",null),Xe(Ae("Encoding"),"register",["UTF-8",xe(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=1/0,Q,p=Fe.length,oe=null,T=0;T<p;++T){if(Q=Fe.charCodeAt(T),Q>55295&&Q<57344){if(!oe){if(Q>56319){(me-=3)>-1&&(s.yield1(ne,239),s.yield1(ne,191),s.yield1(ne,189));continue}else if(T+1===p){(me-=3)>-1&&(s.yield1(ne,239),s.yield1(ne,191),s.yield1(ne,189));continue}oe=Q;continue}if(Q<56320){(me-=3)>-1&&(s.yield1(ne,239),s.yield1(ne,191),s.yield1(ne,189)),oe=Q;continue}Q=(oe-55296<<10|Q-56320)+65536}else oe&&(me-=3)>-1&&(s.yield1(ne,239),s.yield1(ne,191),s.yield1(ne,189));if(oe=null,Q<128){if((me-=1)<0)break;s.yield1(ne,Q)}else if(Q<2048){if((me-=2)<0)break;s.yield1(ne,Q>>6|192),s.yield1(ne,Q&63|128)}else if(Q<65536){if((me-=3)<0)break;s.yield1(ne,Q>>12|224),s.yield1(ne,Q>>6&63|128),s.yield1(ne,Q&63|128)}else if(Q<1114112){if((me-=4)<0)break;s.yield1(ne,Q>>18|240),s.yield1(ne,Q>>12&63|128),s.yield1(ne,Q>>6&63|128),s.yield1(ne,Q&63|128)}}}),ye(pe,"$bytesize",function(Fe){return Fe.$bytes().$length()})},{$$s:te}),Xe(Ae("Encoding"),"register",["UTF-16LE"],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=Fe.charCodeAt(me);s.yield1(ne,p&255),s.yield1(ne,p>>8)}}),ye(pe,"$bytesize",function(Fe){return Fe.length*2})},{$$s:te}),Xe(Ae("Encoding"),"register",["UTF-16BE",xe(["inherits"],{inherits:Ae(Ae("Encoding"),"UTF_16LE")})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=Fe.charCodeAt(me);s.yield1(ne,p>>8),s.yield1(ne,p&255)}})},{$$s:te}),Xe(Ae("Encoding"),"register",["UTF-32LE"],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=Fe.charCodeAt(me);s.yield1(ne,p&255),s.yield1(ne,p>>8),s.yield1(ne,0),s.yield1(ne,0)}}),ye(pe,"$bytesize",function(Fe){return Fe.length*4})},{$$s:te}),Xe(Ae("Encoding"),"register",["UTF-32BE",xe(["inherits"],{inherits:Ae(Ae("Encoding"),"UTF_32LE")})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=Fe.charCodeAt(me);s.yield1(ne,0),s.yield1(ne,0),s.yield1(ne,p>>8),s.yield1(ne,p&255)}})},{$$s:te}),Xe(Ae("Encoding"),"register",["ASCII-8BIT",xe(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_char",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=new String(Fe.charAt(me));p.encoding=Fe.encoding,s.yield1(ne,p)}}),ye(pe,"$charsize",function(Fe){return Fe.length}),ye(pe,"$each_byte",function ae(Fe){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Q=Fe.length;me<Q;me++){var p=Fe.charCodeAt(me);s.yield1(ne,p&255)}}),ye(pe,"$bytesize",function(Fe){return Fe.length}),ye(pe,"$binary?",Me(!0))},{$$s:te}),Ae("Encoding").$register("ISO-8859-1",xe(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:Ae(Ae("Encoding"),"ASCII_8BIT")})),Ae("Encoding").$register("US-ASCII",xe(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:Ae(Ae("Encoding"),"ASCII_8BIT")})),function($e,pe){var ae=X($e,pe,"String"),Fe=ae.$$prototype;return Fe.internal_encoding=Fe.bytes=Fe.encoding=Le,ae.$attr_reader("encoding"),ae.$attr_reader("internal_encoding"),s.prop(String.prototype,"bytes",Le),s.prop(String.prototype,"encoding",Ae(Ae("Encoding"),"UTF_8")),s.prop(String.prototype,"internal_encoding",Ae(Ae("Encoding"),"UTF_8")),ye(ae,"$b",function(){var me=this;return me.$dup().$force_encoding("binary")}),ye(ae,"$bytesize",function(){var me=this;return me.internal_encoding.$bytesize(me)}),ye(ae,"$each_byte",function ne(){var me=ne.$$p||Le,Q=this;return ne.$$p=null,me===Le?Xe(Q,"enum_for",["each_byte"],function p(){var oe=p.$$s==null?this:p.$$s;return oe.$bytesize()},{$$s:Q}):(Xe(Q.internal_encoding,"each_byte",[Q],me.$to_proc()),Q)}),ye(ae,"$bytes",function(){var me=this,Q=Le;return typeof me=="string"?new String(me).$each_byte().$to_a():(me.bytes=fe(Q=me.bytes)?Q:me.$each_byte().$to_a(),me.bytes.$dup())}),ye(ae,"$each_char",function ne(){var me=ne.$$p||Le,Q=this;return ne.$$p=null,me===Le?Xe(Q,"enum_for",["each_char"],function p(){var oe=p.$$s==null?this:p.$$s;return oe.$length()},{$$s:Q}):(Xe(Q.encoding,"each_char",[Q],me.$to_proc()),Q)}),ye(ae,"$chars",function ne(){var me=ne.$$p||Le,Q=this;return ne.$$p=null,fe(me)?Xe(Q,"each_char",[],me.$to_proc()):Q.$each_char().$to_a()}),ye(ae,"$each_codepoint",function ne(){var me=ne.$$p||Le,Q=this;if(ne.$$p=null,me===Le)return Q.$enum_for("each_codepoint");for(var p=0,oe=Q.length;p<oe;p++)s.yield1(me,Q.codePointAt(p));return Q}),ye(ae,"$codepoints",function ne(){var me=ne.$$p||Le,Q=this;return ne.$$p=null,me!==Le?Xe(Q,"each_codepoint",[],me.$to_proc()):Q.$each_codepoint().$to_a()}),ye(ae,"$encode",function(me){var Q=this;return s.enc(Q,me)}),ye(ae,"$force_encoding",function(me){var Q=this,p=Q;return me===p.encoding||(me=He["$coerce_to!"](me,Ae("String"),"to_s"),me=Ae("Encoding").$find(me),me===p.encoding)||(p=s.set_encoding(p,me)),p}),ye(ae,"$getbyte",function(me){var Q=this,p=Le;return p=Q.$bytes(),me=He["$coerce_to!"](me,Ae("Integer"),"to_int"),fe(Ye(p.$length(),me))?Le:p["$[]"](me)}),ye(ae,"$initialize_copy",function(me){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),ye(ae,"$valid_encoding?",Me(!0))}("::",null),ze=[Ae(Je("Encoding"),"UTF_8")],Xe(Ae("Encoding"),"default_external=",ze),ze[ze.length-1]};Opal.modules["corelib/math"]=function(s){var X=s.type_error,xe=s.module,Pe=s.const_set,fe=s.Class,Xe=s.slice,Se=s.Kernel,ke=s.defs,ye=s.truthy,W=s.send,Me=s.def,Ue=s.rb_minus,Ie=s.eqeqeq,He=s.rb_divide,Ye=[],ze=s.nil,te=s.$$$;return s.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(qe,Je){var Le=xe(qe,"Math"),Ae=[Le].concat(Je),$e=s.$r(Ae);return Pe(Le,"E",Math.E),Pe(Le,"PI",Math.PI),Pe(Le,"DomainError",fe.$new(te("StandardError"))),ke(Le,"$checked",function(ae,Fe){var ne,me;if(ne=Xe(arguments,1),me=ne,isNaN(me[0])||me.length==2&&isNaN(me[1]))return NaN;var Q=Math[ae].apply(null,me);return isNaN(Q)&&Se.$raise($e("DomainError"),'Numerical argument is out of domain - "'+ae+'"'),Q},-2),ke(Le,"$float!",function(ae){try{return Se.$Float(ae)}catch(Fe){if(s.rescue(Fe,[te("ArgumentError")]))try{return Se.$raise(X(ae,te("Float")))}finally{s.pop_exception()}else throw Fe}}),ke(Le,"$integer!",function(ae){try{return Se.$Integer(ae)}catch(Fe){if(s.rescue(Fe,[te("ArgumentError")]))try{return Se.$raise(X(ae,te("Integer")))}finally{s.pop_exception()}else throw Fe}}),Le.$module_function(),ye(typeof Math.erf<"u")||s.prop(Math,"erf",function(pe){var ae=.254829592,Fe=-.284496736,ne=1.421413741,me=-1.453152027,Q=1.061405429,p=.3275911,oe=1;pe<0&&(oe=-1),pe=Math.abs(pe);var T=1/(1+p*pe),V=1-((((Q*T+me)*T+ne)*T+Fe)*T+ae)*T*Math.exp(-pe*pe);return oe*V}),ye(typeof Math.erfc<"u")||s.prop(Math,"erfc",function(pe){var ae=Math.abs(pe),Fe=1/(.5*ae+1),ne=Fe*.17087277+-.82215223,me=Fe*ne+1.48851587,Q=Fe*me+-1.13520398,p=Fe*Q+.27886807,oe=Fe*p+-.18628806,T=Fe*oe+.09678418,V=Fe*T+.37409196,N=Fe*V+1.00002368,Ce=Fe*N,re=-ae*ae-1.26551223+Ce,L=Fe*Math.exp(re);return pe<0?2-L:L}),W(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function pe(ae){var Fe=pe.$$s==null?this:pe.$$s;return ae==null&&(ae=ze),W(Fe,"define_method",[ae],function(me){return me==null&&(me=ze),te("Math").$checked(ae,te("Math")["$float!"](me))})},{$$s:Le}),Me(Le,"$atan2",function(ae,Fe){return te("Math").$checked("atan2",te("Math")["$float!"](ae),te("Math")["$float!"](Fe))}),Me(Le,"$hypot",function(ae,Fe){return te("Math").$checked("hypot",te("Math")["$float!"](ae),te("Math")["$float!"](Fe))}),Me(Le,"$frexp",function(ae){if(ae=$e("Math")["$float!"](ae),isNaN(ae))return[NaN,0];var Fe=Math.floor(Math.log(Math.abs(ae))/Math.log(2))+1,ne=ae/Math.pow(2,Fe);return[ne,Fe]}),Me(Le,"$gamma",function(ae){ae=$e("Math")["$float!"](ae);var Fe,ne,me,Q,p,oe,T,V,N,Ce=4.7421875,re=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(ae))return NaN;if(ae===0&&1/ae<0)return-1/0;if((ae===-1||ae===-1/0)&&Se.$raise($e("DomainError"),'Numerical argument is out of domain - "gamma"'),$e("Integer")["$==="](ae)){if(ae<=0)return isFinite(ae)?1/0:NaN;if(ae>171)return 1/0;for(Q=ae-2,p=ae-1;Q>1;)p*=Q,Q--;return p==0&&(p=1),p}if(ae<.5)return Math.PI/(Math.sin(Math.PI*ae)*te("Math").$gamma(Ue(1,ae)));if(ae>=171.35)return 1/0;if(ae>85)return oe=ae*ae,T=oe*ae,V=T*ae,N=V*ae,Math.sqrt(2*Math.PI/ae)*Math.pow(ae/Math.E,ae)*(1+1/(12*ae)+1/(288*oe)-139/(51840*T)-571/(2488320*V)+163879/(209018880*N)+5246819/(75246796800*N*ae));for(ae-=1,me=re[0],Fe=1;Fe<re.length;++Fe)me+=re[Fe]/(ae+Fe);return ne=ae+Ce+.5,Math.sqrt(2*Math.PI)*Math.pow(ne,ae+.5)*Math.exp(-ne)*me}),Me(Le,"$ldexp",function(ae,Fe){return ae=$e("Math")["$float!"](ae),Fe=$e("Math")["$integer!"](Fe),isNaN(Fe)&&Se.$raise(te("RangeError"),"float NaN out of range of integer"),ae*Math.pow(2,Fe)}),Me(Le,"$lgamma",function(ae){return ae==-1?[1/0,1]:[Math.log(Math.abs(te("Math").$gamma(ae))),te("Math").$gamma(ae)<0?-1:1]}),Me(Le,"$log",function(ae,Fe){return Ie(te("String"),ae)&&Se.$raise(X(ae,te("Float"))),ye(Fe==null)?te("Math").$checked("log",te("Math")["$float!"](ae)):(Ie(te("String"),Fe)&&Se.$raise(X(Fe,te("Float"))),He(te("Math").$checked("log",te("Math")["$float!"](ae)),te("Math").$checked("log",te("Math")["$float!"](Fe))))},-2),Me(Le,"$log10",function(ae){return Ie(te("String"),ae)&&Se.$raise(X(ae,te("Float"))),te("Math").$checked("log10",te("Math")["$float!"](ae))}),Me(Le,"$log2",function(ae){return Ie(te("String"),ae)&&Se.$raise(X(ae,te("Float"))),te("Math").$checked("log2",te("Math")["$float!"](ae))}),Me(Le,"$tan",function(ae){return ae=te("Math")["$float!"](ae),ye(ae["$infinite?"]())?te(te("Float"),"NAN"):te("Math").$checked("tan",te("Math")["$float!"](ae))})}("::",Ye)};Opal.modules["corelib/complex/base"]=function(s){var X=s.module,xe=s.truthy,Pe=s.def,fe=s.klass,Xe=[],Se=s.nil;return s.add_stubs("new,from_string"),function(ke,ye){var W=X(ke,"Kernel"),Me=[W].concat(ye),Ue=s.$r(Me);return Pe(W,"$Complex",function(He,Ye){return Ye==null&&(Ye=Se),xe(Ye)?Ue("Complex").$new(He,Ye):Ue("Complex").$new(He,0)},-2)}("::",Xe),function(ke,ye,W){var Me=fe(ke,ye,"String"),Ue=[Me].concat(W),Ie=s.$r(Ue);return Pe(Me,"$to_c",function(){var Ye=this;return Ie("Complex").$from_string(Ye)})}("::",null,Xe)};Opal.modules["corelib/complex"]=function(s){var X=s.klass,xe=s.truthy,Pe=s.eqeqeq,fe=s.Kernel,Xe=s.defs,Se=s.rb_times,ke=s.def,ye=s.rb_plus,W=s.rb_minus,Me=s.rb_divide,Ue=s.eqeq,Ie=s.to_ary,He=s.rb_gt,Ye=s.neqeq,ze=s.return_val,te=s.const_set,qe=s.alias,Je=s.top,Le=[],Ae=s.nil,$e=s.$$$;return s.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),Je.$require("corelib/numeric"),Je.$require("corelib/complex/base"),function(pe,ae,Fe){var ne=X(pe,ae,"Complex"),me=[ne].concat(Fe),Q=s.$r(me),p=ne.$$prototype;return p.real=p.imag=Ae,Xe(ne,"$rect",function(T,V){var N=this;return V==null&&(V=0),Pe($e("Numeric"),T)&&xe(T["$real?"]())&&Pe($e("Numeric"),V)&&xe(V["$real?"]())||fe.$raise($e("TypeError"),"not a real"),N.$new(T,V)},-2),Xe(ne,"$polar",function(T,V){var N=this;return V==null&&(V=0),Pe($e("Numeric"),T)&&xe(T["$real?"]())&&Pe($e("Numeric"),V)&&xe(V["$real?"]())||fe.$raise($e("TypeError"),"not a real"),N.$new(Se(T,$e("Math").$cos(V)),Se(T,$e("Math").$sin(V)))},-2),ne.$attr_reader("real","imag"),ke(ne,"$initialize",function(T,V){var N=this;return V==null&&(V=0),N.real=T,N.imag=V,N.$freeze()},-2),ke(ne,"$coerce",function(T){var V=this;return Pe($e("Complex"),T)?[T,V]:Pe($e("Numeric"),T)&&xe(T["$real?"]())?[$e("Complex").$new(T,0),V]:fe.$raise($e("TypeError"),""+T.$class()+" can't be coerced into Complex")}),ke(ne,"$==",function(T){var V=this,N=Ae;return Pe($e("Complex"),T)?xe(N=V.real["$=="](T.$real()))?V.imag["$=="](T.$imag()):N:Pe($e("Numeric"),T)&&xe(T["$real?"]())?xe(N=V.real["$=="](T))?V.imag["$=="](0):N:T["$=="](V)}),ke(ne,"$-@",function(){var T=this;return fe.$Complex(T.real["$-@"](),T.imag["$-@"]())}),ke(ne,"$+",function(T){var V=this;return Pe($e("Complex"),T)?fe.$Complex(ye(V.real,T.$real()),ye(V.imag,T.$imag())):Pe($e("Numeric"),T)&&xe(T["$real?"]())?fe.$Complex(ye(V.real,T),V.imag):V.$__coerced__("+",T)}),ke(ne,"$-",function(T){var V=this;return Pe($e("Complex"),T)?fe.$Complex(W(V.real,T.$real()),W(V.imag,T.$imag())):Pe($e("Numeric"),T)&&xe(T["$real?"]())?fe.$Complex(W(V.real,T),V.imag):V.$__coerced__("-",T)}),ke(ne,"$*",function(T){var V=this;return Pe($e("Complex"),T)?fe.$Complex(W(Se(V.real,T.$real()),Se(V.imag,T.$imag())),ye(Se(V.real,T.$imag()),Se(V.imag,T.$real()))):Pe($e("Numeric"),T)&&xe(T["$real?"]())?fe.$Complex(Se(V.real,T),Se(V.imag,T)):V.$__coerced__("*",T)}),ke(ne,"$/",function(T){var V=this;return Pe($e("Complex"),T)?Pe($e("Number"),V.real)&&xe(V.real["$nan?"]())||Pe($e("Number"),V.imag)&&xe(V.imag["$nan?"]())||Pe($e("Number"),T.$real())&&xe(T.$real()["$nan?"]())||Pe($e("Number"),T.$imag())&&xe(T.$imag()["$nan?"]())?$e("Complex").$new($e($e("Float"),"NAN"),$e($e("Float"),"NAN")):Me(Se(V,T.$conj()),T.$abs2()):Pe($e("Numeric"),T)&&xe(T["$real?"]())?fe.$Complex(V.real.$quo(T),V.imag.$quo(T)):V.$__coerced__("/",T)}),ke(ne,"$**",function(T){var V,N,Ce=this,re=Ae,L=Ae,d=Ae,i=Ae,r=Ae,n=Ae,$=Ae,o=Ae,g=Ae,y=Ae,P=Ae;if(Ue(T,0))return $e("Complex").$new(1,0);if(Pe($e("Complex"),T))return N=Ce.$polar(),V=Ie(N),re=V[0]==null?Ae:V[0],L=V[1]==null?Ae:V[1],d=T.$real(),i=T.$imag(),r=$e("Math").$exp(W(Se(d,$e("Math").$log(re)),Se(i,L))),n=ye(Se(L,d),Se(i,$e("Math").$log(re))),$e("Complex").$polar(r,n);if(Pe($e("Integer"),T))if(xe(He(T,0))){for($=Ce,o=$,g=W(T,1);Ye(g,0);){for(N=g.$divmod(2),V=Ie(N),y=V[0]==null?Ae:V[0],P=V[1]==null?Ae:V[1];Ue(P,0);)$=fe.$Complex(W(Se($.$real(),$.$real()),Se($.$imag(),$.$imag())),Se(Se(2,$.$real()),$.$imag())),g=y,N=g.$divmod(2),V=Ie(N),y=V[0]==null?Ae:V[0],P=V[1]==null?Ae:V[1];o=Se(o,$),g=W(g,1)}return o}else return Me($e("Rational").$new(1,1),Ce)["$**"](T["$-@"]());else return Pe($e("Float"),T)||Pe($e("Rational"),T)?(N=Ce.$polar(),V=Ie(N),re=V[0]==null?Ae:V[0],L=V[1]==null?Ae:V[1],$e("Complex").$polar(re["$**"](T),Se(L,T))):Ce.$__coerced__("**",T)}),ke(ne,"$abs",function(){var T=this;return $e("Math").$hypot(T.real,T.imag)}),ke(ne,"$abs2",function(){var T=this;return ye(Se(T.real,T.real),Se(T.imag,T.imag))}),ke(ne,"$angle",function(){var T=this;return $e("Math").$atan2(T.imag,T.real)}),ke(ne,"$conj",function(){var T=this;return fe.$Complex(T.real,T.imag["$-@"]())}),ke(ne,"$denominator",function(){var T=this;return T.real.$denominator().$lcm(T.imag.$denominator())}),ke(ne,"$eql?",function(T){var V=this,N=Ae,Ce=Ae;return xe(N=xe(Ce=Q("Complex")["$==="](T))?V.real.$class()["$=="](V.imag.$class()):Ce)?V["$=="](T):N}),ke(ne,"$fdiv",function(T){var V=this;return Pe($e("Numeric"),T)||fe.$raise($e("TypeError"),""+T.$class()+" can't be coerced into Complex"),Me(V,T)}),ke(ne,"$finite?",function(){var T=this,V=Ae;return xe(V=T.real["$finite?"]())?T.imag["$finite?"]():V}),ke(ne,"$hash",function(){var T=this;return"Complex:"+T.real+":"+T.imag}),ke(ne,"$infinite?",function(){var T=this,V=Ae;return xe(V=T.real["$infinite?"]())?V:T.imag["$infinite?"]()}),ke(ne,"$inspect",function(){var T=this;return"("+T+")"}),ke(ne,"$numerator",function(){var T=this,V=Ae;return V=T.$denominator(),fe.$Complex(Se(T.real.$numerator(),Me(V,T.real.$denominator())),Se(T.imag.$numerator(),Me(V,T.imag.$denominator())))}),ke(ne,"$polar",function(){var T=this;return[T.$abs(),T.$arg()]}),ke(ne,"$rationalize",function(T){var V=this;return arguments.length>1&&fe.$raise($e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Ye(V.imag,0)&&fe.$raise($e("RangeError"),"can't convert "+V+" into Rational"),V.$real().$rationalize(T)},-1),ke(ne,"$real?",ze(!1)),ke(ne,"$rect",function(){var T=this;return[T.real,T.imag]}),ke(ne,"$to_f",function(){var T=this;return Ue(T.imag,0)||fe.$raise($e("RangeError"),"can't convert "+T+" into Float"),T.real.$to_f()}),ke(ne,"$to_i",function(){var T=this;return Ue(T.imag,0)||fe.$raise($e("RangeError"),"can't convert "+T+" into Integer"),T.real.$to_i()}),ke(ne,"$to_r",function(){var T=this;return Ue(T.imag,0)||fe.$raise($e("RangeError"),"can't convert "+T+" into Rational"),T.real.$to_r()}),ke(ne,"$to_s",function(){var T=this,V=Ae;return V=T.real.$inspect(),V=ye(V,Pe($e("Number"),T.imag)&&xe(T.imag["$nan?"]())||xe(T.imag["$positive?"]())||xe(T.imag["$zero?"]())?"+":"-"),V=ye(V,T.imag.$abs().$inspect()),Pe($e("Number"),T.imag)&&(xe(T.imag["$nan?"]())||xe(T.imag["$infinite?"]()))&&(V=ye(V,"*")),ye(V,"i")}),te(me[0],"I",ne.$new(0,1)),Xe(ne,"$from_string",function(T){var V=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;T.match(V);var N,Ce;function re(){return V.test(T)}function L(){var i=T.match(V),r=i[0];return T=T.slice(r.length),r.replace(/_/g,"")}function d(){if(re()){var i=parseFloat(L());if(T[0]==="/")if(T=T.slice(1),re()){var r=parseFloat(L());return fe.$Rational(i,r)}else return T="/"+T,i;else return i}else return null}return N=d(),N?(Ce=d(),Ce?fe.$Complex(N,Ce):T[0]==="i"?fe.$Complex(0,N):fe.$Complex(N,0)):T[0]==="i"?fe.$Complex(0,1):T[0]==="-"&&T[1]==="i"?fe.$Complex(0,-1):T[0]==="+"&&T[1]==="i"?fe.$Complex(0,1):fe.$Complex(0,0)}),function(oe,T){return qe(oe,"rectangular","rect")}(s.get_singleton_class(ne)),qe(ne,"arg","angle"),qe(ne,"conjugate","conj"),qe(ne,"divide","/"),qe(ne,"imaginary","imag"),qe(ne,"magnitude","abs"),qe(ne,"phase","arg"),qe(ne,"quo","/"),qe(ne,"rectangular","rect"),s.udef(ne,"$negative?"),s.udef(ne,"$positive?"),s.udef(ne,"$step"),Ae}("::",$e("Numeric"),Le)};Opal.modules["corelib/rational/base"]=function(s){var X=s.module,xe=s.def,Pe=s.klass;s.nil;var fe=s.$$$;return s.add_stubs("convert,from_string"),function(Xe){var Se=X(Xe,"Kernel");return xe(Se,"$Rational",function(ye,W){return W==null&&(W=1),fe("Rational").$convert(ye,W)},-2)}("::"),function(Xe,Se){var ke=Pe(Xe,Se,"String");return xe(ke,"$to_r",function(){var W=this;return fe("Rational").$from_string(W)})}("::",null)};Opal.modules["corelib/rational"]=function(s){var X=s.klass,xe=s.eqeq,Pe=s.Kernel,fe=s.truthy,Xe=s.rb_lt,Se=s.rb_divide,ke=s.defs,ye=s.eqeqeq,W=s.not,Me=s.Opal,Ue=s.def,Ie=s.return_ivar,He=s.rb_minus,Ye=s.rb_times,ze=s.rb_plus,te=s.rb_gt,qe=s.rb_le,Je=s.return_self,Le=s.alias,Ae=s.top,$e=s.nil,pe=s.$$$;return s.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),Ae.$require("corelib/numeric"),Ae.$require("corelib/rational/base"),function(ae,Fe){var ne=X(ae,Fe,"Rational"),me=ne.$$prototype;return me.num=me.den=$e,ke(ne,"$reduce",function(p,oe){var T=this,V=$e;if(p=p.$to_i(),oe=oe.$to_i(),xe(oe,0))Pe.$raise(pe("ZeroDivisionError"),"divided by 0");else if(fe(Xe(oe,0)))p=p["$-@"](),oe=oe["$-@"]();else if(xe(oe,1))return T.$new(p,oe);return V=p.$gcd(oe),T.$new(Se(p,V),Se(oe,V))}),ke(ne,"$convert",function(p,oe){var T=this;return(fe(p["$nil?"]())||fe(oe["$nil?"]()))&&Pe.$raise(pe("TypeError"),"cannot convert nil into Rational"),ye(pe("Integer"),p)&&ye(pe("Integer"),oe)?T.$reduce(p,oe):((ye(pe("Float"),p)||ye(pe("String"),p)||ye(pe("Complex"),p))&&(p=p.$to_r()),(ye(pe("Float"),oe)||ye(pe("String"),oe)||ye(pe("Complex"),oe))&&(oe=oe.$to_r()),fe(oe["$equal?"](1))&&W(pe("Integer")["$==="](p))?Me["$coerce_to!"](p,pe("Rational"),"to_r"):ye(pe("Numeric"),p)&&ye(pe("Numeric"),oe)?Se(p,oe):T.$reduce(p,oe))}),Ue(ne,"$initialize",function(p,oe){var T=this;return T.num=p,T.den=oe,T.$freeze()}),Ue(ne,"$numerator",Ie("num")),Ue(ne,"$denominator",Ie("den")),Ue(ne,"$coerce",function(p){var oe=this,T=$e;return ye(pe("Rational"),T=p)?[p,oe]:ye(pe("Integer"),T)?[p.$to_r(),oe]:ye(pe("Float"),T)?[p,oe.$to_f()]:$e}),Ue(ne,"$==",function(p){var oe=this,T=$e,V=$e;return ye(pe("Rational"),T=p)?fe(V=oe.num["$=="](p.$numerator()))?oe.den["$=="](p.$denominator()):V:ye(pe("Integer"),T)?fe(V=oe.num["$=="](p))?oe.den["$=="](1):V:ye(pe("Float"),T)?oe.$to_f()["$=="](p):p["$=="](oe)}),Ue(ne,"$<=>",function(p){var oe=this,T=$e;return ye(pe("Rational"),T=p)?He(Ye(oe.num,p.$denominator()),Ye(oe.den,p.$numerator()))["$<=>"](0):ye(pe("Integer"),T)?He(oe.num,Ye(oe.den,p))["$<=>"](0):ye(pe("Float"),T)?oe.$to_f()["$<=>"](p):oe.$__coerced__("<=>",p)}),Ue(ne,"$+",function(p){var oe=this,T=$e,V=$e,N=$e;return ye(pe("Rational"),T=p)?(V=ze(Ye(oe.num,p.$denominator()),Ye(oe.den,p.$numerator())),N=Ye(oe.den,p.$denominator()),Pe.$Rational(V,N)):ye(pe("Integer"),T)?Pe.$Rational(ze(oe.num,Ye(p,oe.den)),oe.den):ye(pe("Float"),T)?ze(oe.$to_f(),p):oe.$__coerced__("+",p)}),Ue(ne,"$-",function(p){var oe=this,T=$e,V=$e,N=$e;return ye(pe("Rational"),T=p)?(V=He(Ye(oe.num,p.$denominator()),Ye(oe.den,p.$numerator())),N=Ye(oe.den,p.$denominator()),Pe.$Rational(V,N)):ye(pe("Integer"),T)?Pe.$Rational(He(oe.num,Ye(p,oe.den)),oe.den):ye(pe("Float"),T)?He(oe.$to_f(),p):oe.$__coerced__("-",p)}),Ue(ne,"$*",function(p){var oe=this,T=$e,V=$e,N=$e;return ye(pe("Rational"),T=p)?(V=Ye(oe.num,p.$numerator()),N=Ye(oe.den,p.$denominator()),Pe.$Rational(V,N)):ye(pe("Integer"),T)?Pe.$Rational(Ye(oe.num,p),oe.den):ye(pe("Float"),T)?Ye(oe.$to_f(),p):oe.$__coerced__("*",p)}),Ue(ne,"$/",function(p){var oe=this,T=$e,V=$e,N=$e;return ye(pe("Rational"),T=p)?(V=Ye(oe.num,p.$denominator()),N=Ye(oe.den,p.$numerator()),Pe.$Rational(V,N)):ye(pe("Integer"),T)?xe(p,0)?Se(oe.$to_f(),0):Pe.$Rational(oe.num,Ye(oe.den,p)):ye(pe("Float"),T)?Se(oe.$to_f(),p):oe.$__coerced__("/",p)}),Ue(ne,"$**",function(p){var oe=this,T=$e;return ye(pe("Integer"),T=p)?xe(oe,0)&&fe(Xe(p,0))?pe(pe("Float"),"INFINITY"):fe(te(p,0))?Pe.$Rational(oe.num["$**"](p),oe.den["$**"](p)):fe(Xe(p,0))?Pe.$Rational(oe.den["$**"](p["$-@"]()),oe.num["$**"](p["$-@"]())):Pe.$Rational(1,1):ye(pe("Float"),T)?oe.$to_f()["$**"](p):ye(pe("Rational"),T)?xe(p,0)?Pe.$Rational(1,1):xe(p.$denominator(),1)?fe(Xe(p,0))?Pe.$Rational(oe.den["$**"](p.$numerator().$abs()),oe.num["$**"](p.$numerator().$abs())):Pe.$Rational(oe.num["$**"](p.$numerator()),oe.den["$**"](p.$numerator())):xe(oe,0)&&fe(Xe(p,0))?Pe.$raise(pe("ZeroDivisionError"),"divided by 0"):oe.$to_f()["$**"](p):oe.$__coerced__("**",p)}),Ue(ne,"$abs",function(){var p=this;return Pe.$Rational(p.num.$abs(),p.den.$abs())}),Ue(ne,"$ceil",function(p){var oe=this;return p==null&&(p=0),xe(p,0)?Se(oe.num["$-@"](),oe.den)["$-@"]().$ceil():oe.$with_precision("ceil",p)},-1),Ue(ne,"$floor",function(p){var oe=this;return p==null&&(p=0),xe(p,0)?Se(oe.num["$-@"](),oe.den)["$-@"]().$floor():oe.$with_precision("floor",p)},-1),Ue(ne,"$hash",function(){var p=this;return"Rational:"+p.num+":"+p.den}),Ue(ne,"$inspect",function(){var p=this;return"("+p+")"}),Ue(ne,"$rationalize",function(p){var oe=this;if(arguments.length>1&&Pe.$raise(pe("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),p==null)return oe;for(var T=p.$abs(),V=He(oe,T),N=ze(oe,T),Ce=0,re=1,L=1,d=0,i,r,n,$,o;n=V.$ceil(),!qe(n,N);)$=n-1,i=$*re+Ce,r=$*d+L,o=Se(1,He(N,$)),N=Se(1,He(V,$)),V=o,Ce=re,L=d,re=i,d=r;return Pe.$Rational(n*re+Ce,n*d+L)},-1),Ue(ne,"$round",function(p){var oe=this,T=$e,V=$e,N=$e;return p==null&&(p=0),xe(p,0)?xe(oe.num,0)?0:xe(oe.den,1)?oe.num:(T=ze(Ye(oe.num.$abs(),2),oe.den),V=Ye(oe.den,2),N=Se(T,V).$truncate(),fe(Xe(oe.num,0))?N["$-@"]():N):oe.$with_precision("round",p)},-1),Ue(ne,"$to_f",function(){var p=this;return Se(p.num,p.den)}),Ue(ne,"$to_i",function(){var p=this;return p.$truncate()}),Ue(ne,"$to_r",Je),Ue(ne,"$to_s",function(){var p=this;return""+p.num+"/"+p.den}),Ue(ne,"$truncate",function(p){var oe=this;return p==null&&(p=0),xe(p,0)?fe(Xe(oe.num,0))?oe.$ceil():oe.$floor():oe.$with_precision("truncate",p)},-1),Ue(ne,"$with_precision",function(p,oe){var T=this,V=$e,N=$e;return ye(pe("Integer"),oe)||Pe.$raise(pe("TypeError"),"not an Integer"),V=10["$**"](oe),N=Ye(T,V),fe(Xe(oe,1))?Se(N.$send(p),V).$to_i():Pe.$Rational(N.$send(p),V)}),ke(ne,"$from_string",function(p){var oe=p.trimLeft(),T=/^[+-]?[\d_]+(\.[\d_]+)?/;oe.match(T);var V,N;function Ce(){return T.test(oe)}function re(){var L=oe.match(T),d=L[0];return oe=oe.slice(d.length),d.replace(/_/g,"")}return Ce()?(V=parseFloat(re()),oe[0]==="/"?(oe=oe.slice(1),Ce()?(N=parseFloat(re()),Pe.$Rational(V,N)):Pe.$Rational(V,1)):Pe.$Rational(V,1)):Pe.$Rational(0,1)}),Le(ne,"divide","/"),Le(ne,"quo","/")}("::",pe("Numeric"))};Opal.modules["corelib/time"]=function(s){var X=s.slice,xe=s.deny_frozen_access,Pe=s.klass,fe=s.Kernel,Xe=s.Opal,Se=s.defs,ke=s.eqeqeq,ye=s.def,W=s.truthy,Me=s.rb_gt,Ue=s.rb_lt,Ie=s.send,He=s.rb_plus,Ye=s.rb_divide,ze=s.rb_minus,te=s.range,qe=s.neqeq,Je=s.rb_le,Le=s.eqeq,Ae=s.alias,$e=s.top,pe=[],ae=s.nil,Fe=s.$$$;return s.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),$e.$require("corelib/comparable"),function(ne,me,Q){var p=Pe(ne,me,"Time"),oe=[p].concat(Q),T=s.$r(oe);p.$include(Fe("Comparable"));var V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=["January","February","March","April","May","June","July","August","September","October","November","December"];Se(p,"$at",function(i,r){var n;return Fe("Time")["$==="](i)?(r!==void 0&&fe.$raise(Fe("TypeError"),"can't convert Time into an exact number"),n=new Date(i.getTime()),n.timezone=i.timezone,n):(i.$$is_number||(i=Xe["$coerce_to!"](i,Fe("Integer"),"to_int")),r===void 0?new Date(i*1e3):(r.$$is_number||(r=Xe["$coerce_to!"](r,Fe("Integer"),"to_int")),new Date(i*1e3+r/1e3)))},-2);function L(d,i,r,n,$,o){if(d.$$is_string?d=parseInt(d,10):d=Xe["$coerce_to!"](d,Fe("Integer"),"to_int"),i===ae)i=1;else if(!i.$$is_number)if(i["$respond_to?"]("to_str"))switch(i=i.$to_str(),i.toLowerCase()){case"jan":i=1;break;case"feb":i=2;break;case"mar":i=3;break;case"apr":i=4;break;case"may":i=5;break;case"jun":i=6;break;case"jul":i=7;break;case"aug":i=8;break;case"sep":i=9;break;case"oct":i=10;break;case"nov":i=11;break;case"dec":i=12;break;default:i=i.$to_i()}else i=Xe["$coerce_to!"](i,Fe("Integer"),"to_int");return(i<1||i>12)&&fe.$raise(Fe("ArgumentError"),"month out of range: "+i),i=i-1,r===ae?r=1:r.$$is_string?r=parseInt(r,10):r=Xe["$coerce_to!"](r,Fe("Integer"),"to_int"),(r<1||r>31)&&fe.$raise(Fe("ArgumentError"),"day out of range: "+r),n===ae?n=0:n.$$is_string?n=parseInt(n,10):n=Xe["$coerce_to!"](n,Fe("Integer"),"to_int"),(n<0||n>24)&&fe.$raise(Fe("ArgumentError"),"hour out of range: "+n),$===ae?$=0:$.$$is_string?$=parseInt($,10):$=Xe["$coerce_to!"]($,Fe("Integer"),"to_int"),($<0||$>59)&&fe.$raise(Fe("ArgumentError"),"min out of range: "+$),o===ae?o=0:o.$$is_number||(o.$$is_string?o=parseInt(o,10):o=Xe["$coerce_to!"](o,Fe("Integer"),"to_int")),(o<0||o>60)&&fe.$raise(Fe("ArgumentError"),"sec out of range: "+o),[d,i,r,n,$,o]}return Se(p,"$new",function(i,r,n,$,o,g,y){var P=this;r==null&&(r=ae),n==null&&(n=ae),$==null&&($=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae);var be,tt,ot,lt;return i===void 0?new Date:(be=L(i,r,n,$,o,g),i=be[0],r=be[1],n=be[2],$=be[3],o=be[4],g=be[5],y===ae?(tt=new Date(i,r,n,$,o,0,g*1e3),i<100&&tt.setFullYear(i),tt):(ot=P.$_parse_offset(y),lt=new Date(Date.UTC(i,r,n,$,o,0,g*1e3)),i<100&&lt.setUTCFullYear(i),tt=new Date(lt.getTime()-ot*36e5),tt.timezone=ot,tt))},-1),Se(p,"$_parse_offset",function(i){var r;if(i.$$is_string)if(i=="UTC")r=0;else if(/^[+-]\d\d:[0-5]\d$/.test(i)){var n,$,o;n=i[0],$=+(i[1]+i[2]),o=+(i[4]+i[5]),r=(n=="-"?-1:1)*($+o/60)}else fe.$raise(Fe("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+i);else i.$$is_number?r=i/3600:fe.$raise(Fe("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return r}),Se(p,"$local",function(i,r,n,$,o,g,y,P,be,tt){r==null&&(r=ae),n==null&&(n=ae),$==null&&($=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae),P==null&&(P=ae),be==null&&(be=ae),tt==null&&(tt=ae);var ot,lt;return arguments.length===10&&(ot=X(arguments),i=ot[5],r=ot[4],n=ot[3],$=ot[2],o=ot[1],g=ot[0]),ot=L(i,r,n,$,o,g),i=ot[0],r=ot[1],n=ot[2],$=ot[3],o=ot[4],g=ot[5],lt=new Date(i,r,n,$,o,0,g*1e3),i<100&&lt.setFullYear(i),lt},-2),Se(p,"$gm",function(i,r,n,$,o,g,y,P,be,tt){r==null&&(r=ae),n==null&&(n=ae),$==null&&($=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae),P==null&&(P=ae),be==null&&(be=ae),tt==null&&(tt=ae);var ot,lt;return arguments.length===10&&(ot=X(arguments),i=ot[5],r=ot[4],n=ot[3],$=ot[2],o=ot[1],g=ot[0]),ot=L(i,r,n,$,o,g),i=ot[0],r=ot[1],n=ot[2],$=ot[3],o=ot[4],g=ot[5],lt=new Date(Date.UTC(i,r,n,$,o,0,g*1e3)),i<100&&lt.setUTCFullYear(i),lt.timezone=0,lt},-2),Se(p,"$now",function(){var i=this;return i.$new()}),ye(p,"$+",function(i){var r=this;ke(Fe("Time"),i)&&fe.$raise(Fe("TypeError"),"time + time?"),i.$$is_number||(i=Xe["$coerce_to!"](i,Fe("Integer"),"to_int"));var n=new Date(r.getTime()+i*1e3);return n.timezone=r.timezone,n}),ye(p,"$-",function(i){var r=this;if(ke(Fe("Time"),i))return(r.getTime()-i.getTime())/1e3;i.$$is_number||(i=Xe["$coerce_to!"](i,Fe("Integer"),"to_int"));var n=new Date(r.getTime()-i*1e3);return n.timezone=r.timezone,n}),ye(p,"$<=>",function(i){var r=this,n=ae;return ke(Fe("Time"),i)?r.$to_f()["$<=>"](i.$to_f()):(n=i["$<=>"](r),W(n["$nil?"]())?ae:W(Me(n,0))?-1:W(Ue(n,0))?1:0)}),ye(p,"$==",function(i){var r=this,n=ae;return W(n=Fe("Time")["$==="](i))?r.$to_f()===i.$to_f():n}),ye(p,"$asctime",function(){var i=this;return i.$strftime("%a %b %e %H:%M:%S %Y")}),Ie([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function d(i,r,n,$){var o=d.$$s==null?this:d.$$s;return i==null&&(i=ae),r==null&&(r=ae),n==null&&(n=ae),$==null&&($=0),Ie(o,"define_method",[i],function g(){var y=g.$$s==null?this:g.$$s;return $+(y.timezone!=null?new Date(y.getTime()+y.timezone*36e5)[n]():y[r]())},{$$s:o})},{$$arity:-4,$$s:p}),ye(p,"$yday",function(){var i=this,r=ae,n=ae,$=ae;return r=T("Time").$new(i.$year()).$to_i(),n=T("Time").$new(i.$year(),i.$month(),i.$day()).$to_i(),$=86400,He(Ye(ze(n,r),$).$round(),1)}),ye(p,"$isdst",function(){var i=this,r=new Date(i.getFullYear(),0,1),n=new Date(i.getFullYear(),6,1);return i.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),n.getTimezoneOffset())}),ye(p,"$dup",function(){var i=this,r=ae;return r=new Date(i.getTime()),r.$copy_instance_variables(i),r.$initialize_dup(i),r}),ye(p,"$eql?",function(i){var r=this,n=ae;return W(n=i["$is_a?"](Fe("Time")))?r["$<=>"](i)["$zero?"]():n}),Ie([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function d(i,r){var n=d.$$s==null?this:d.$$s;return i==null&&(i=ae),r==null&&(r=ae),Ie(n,"define_method",[i],function $(){var o=$.$$s==null?this:$.$$s;return o.$wday()===r},{$$s:n})},{$$s:p}),ye(p,"$hash",function(){var i=this;return"Time:"+i.getTime()}),ye(p,"$inspect",function(){var i=this;return W(i["$utc?"]())?i.$strftime("%Y-%m-%d %H:%M:%S UTC"):i.$strftime("%Y-%m-%d %H:%M:%S %z")}),ye(p,"$succ",function(){var i=this,r=new Date(i.getTime()+1e3);return r.timezone=i.timezone,r}),ye(p,"$usec",function(){var i=this;return i.getMilliseconds()*1e3}),ye(p,"$zone",function(){var i=this;if(i.timezone===0)return"UTC";if(i.timezone!=null)return ae;var r=i.toString(),n;return r.indexOf("(")==-1?n=r.match(/[A-Z]{3,4}/)[0]:n=r.match(/\((.+)\)(?:\s|$)/)[1],n=="GMT"&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:n}),ye(p,"$getgm",function(){var i=this,r=new Date(i.getTime());return r.timezone=0,r}),ye(p,"$gmtime",function(){var i=this;return i.timezone!==0&&(xe(i),i.timezone=0),i}),ye(p,"$gmt?",function(){var i=this;return i.timezone===0}),ye(p,"$gmt_offset",function(){var i=this;return i.timezone!=null?i.timezone*60:-i.getTimezoneOffset()*60}),ye(p,"$strftime",function(i){var r=this;return i.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(n,$,o,g,y){var P="",be,tt,ot,lt=$.indexOf("0")!==-1,vt=$.indexOf("-")===-1,_t=$.indexOf("_")!==-1,bt=$.indexOf("^")!==-1,pt=$.indexOf("#")!==-1,gt=($.match(":")||[]).length;switch(o=parseInt(o,10),lt&&_t&&($.indexOf("0")<$.indexOf("_")?lt=!1:_t=!1),y){case"Y":P+=r.$year();break;case"C":lt=!_t,P+=Math.round(r.$year()/100);break;case"y":lt=!_t,P+=r.$year()%100;break;case"m":lt=!_t,P+=r.$mon();break;case"B":P+=re[r.$mon()-1];break;case"b":case"h":_t=!lt,P+=Ce[r.$mon()-1];break;case"d":lt=!_t,P+=r.$day();break;case"e":_t=!lt,P+=r.$day();break;case"j":lt=!_t,o=isNaN(o)?3:o,P+=r.$yday();break;case"H":lt=!_t,P+=r.$hour();break;case"k":_t=!lt,P+=r.$hour();break;case"I":lt=!_t,P+=r.$hour()%12||12;break;case"l":_t=!lt,P+=r.$hour()%12||12;break;case"P":P+=r.$hour()>=12?"pm":"am";break;case"p":P+=r.$hour()>=12?"PM":"AM";break;case"M":lt=!_t,P+=r.$min();break;case"S":lt=!_t,P+=r.$sec();break;case"L":lt=!_t,o=isNaN(o)?3:o,P+=r.getMilliseconds();break;case"N":o=isNaN(o)?9:o,P+=r.getMilliseconds().toString().$rjust(3,"0"),P=P.$ljust(o,"0");break;case"z":var mt=r.timezone==null?r.getTimezoneOffset():-r.timezone*60,Qe=Math.floor(Math.abs(mt)/60),le=Math.abs(mt)%60;P+=mt<0?"+":"-",P+=Qe<10?"0":"",P+=Qe,gt>0&&(P+=":"),P+=le<10?"0":"",P+=le,gt>1&&(P+=":00");break;case"Z":P+=r.$zone();break;case"A":P+=V[r.$wday()];break;case"a":P+=N[r.$wday()];break;case"u":P+=r.$wday()+1;break;case"w":P+=r.$wday();break;case"V":P+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":P+=r.$cweek_cyear()["$[]"](1);break;case"g":P+=r.$cweek_cyear()["$[]"](1)["$[]"](te(-2,-1,!1));break;case"s":P+=r.$to_i();break;case"n":P+=`
`;break;case"t":P+="	";break;case"%":P+="%";break;case"c":P+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":P+=r.$strftime("%m/%d/%y");break;case"F":P+=r.$strftime("%Y-%m-%d");break;case"v":P+=r.$strftime("%e-%^b-%4Y");break;case"r":P+=r.$strftime("%I:%M:%S %p");break;case"R":P+=r.$strftime("%H:%M");break;case"T":case"X":P+=r.$strftime("%H:%M:%S");break;case"J":if(be=r.$to_date().$jd(),be<2405160){P+=r.$strftime("%Y-%m-%d");break}else be<2419614?(tt="M",ot=1867):be<2424875?(tt="T",ot=1911):be<2447535?(tt="S",ot=1925):be<2458605?(tt="H",ot=1988):(tt="R",ot=2018);P+=r.$format("%c%02d",tt,ze(r.$year(),ot)),P+=r.$strftime("-%m-%d");break;default:return n}return bt&&(P=P.toUpperCase()),pt&&(P=P.replace(/[A-Z]/,function(ge){ge.toLowerCase()}).replace(/[a-z]/,function(ge){ge.toUpperCase()})),vt&&(lt||_t)&&(P=P.$rjust(isNaN(o)?2:o,_t?" ":"0")),P})}),ye(p,"$to_a",function(){var i=this;return[i.$sec(),i.$min(),i.$hour(),i.$day(),i.$month(),i.$year(),i.$wday(),i.$yday(),i.$isdst(),i.$zone()]}),ye(p,"$to_f",function(){var i=this;return i.getTime()/1e3}),ye(p,"$to_i",function(){var i=this;return parseInt(i.getTime()/1e3,10)}),ye(p,"$cweek_cyear",function(){var i=this,r=ae,n=ae,$=ae,o=ae,g=ae,y=ae,P=ae;return r=Fe("Time").$new(i.$year(),1,1),n=r.$wday(),$=i.$year(),W(Je(n,4))&&qe(n,0)?o=ze(n,1):(o=ze(ze(n,7),1),Le(o,-8)&&(o=-1)),g=Ye(He(i.$yday(),o),7).$ceil(),W(Je(g,0))?Fe("Time").$new(ze(i.$year(),1),12,31).$cweek_cyear():(Le(g,53)&&(y=Fe("Time").$new(i.$year(),12,31),P=y.$wday(),W(Je(P,3))&&qe(P,0)&&(g=1,$=He($,1))),[g,$])}),function(d,i){return Ae(d,"mktime","local"),Ae(d,"utc","gm")}(s.get_singleton_class(p)),Ae(p,"ctime","asctime"),Ae(p,"dst?","isdst"),Ae(p,"getutc","getgm"),Ae(p,"gmtoff","gmt_offset"),Ae(p,"mday","day"),Ae(p,"month","mon"),Ae(p,"to_s","inspect"),Ae(p,"tv_sec","to_i"),Ae(p,"tv_usec","usec"),Ae(p,"utc","gmtime"),Ae(p,"utc?","gmt?"),Ae(p,"utc_offset","gmt_offset")}("::",Date,pe)};Opal.modules["corelib/struct"]=function(s){var X=s.klass,xe=s.slice,Pe=s.extract_kwargs,fe=s.ensure_kwargs,Xe=s.truthy,Se=s.neqeq,ke=s.eqeq,ye=s.Opal,W=s.send,Me=s.Class,Ue=s.to_a,Ie=s.def,He=s.defs,Ye=s.Kernel,ze=s.hash2,te=s.rb_gt,qe=s.rb_minus,Je=s.eqeqeq,Le=s.rb_lt,Ae=s.rb_ge,$e=s.rb_plus,pe=s.alias,ae=s.top,Fe=[],ne=s.nil,me=s.$$$;return s.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),ae.$require("corelib/enumerable"),function(Q,p,oe){var T=X(Q,p,"Struct"),V=[T].concat(oe),N=s.$r(V);T.$include(me("Enumerable")),He(T,"$new",function re(L,d,i){var r=re.$$p||ne,n,$,o,g,y=this,P=ne;if(re.$$p=null,n=xe(arguments,1),$=Pe(n),$=fe($),o=n,g=$.$$smap.keyword_init,g==null&&(g=!1),Xe(L))if(ke(L.$class(),me("String"))&&Se(L["$[]"](0).$upcase(),L["$[]"](0)))o.$unshift(L),L=ne;else try{L=ye["$const_name!"](L)}catch(be){if(s.rescue(be,[me("TypeError"),me("NameError")]))try{o.$unshift(L),L=ne}finally{s.pop_exception()}else throw be}return W(o,"map",[],function(tt){return tt==null&&(tt=ne),ye["$coerce_to!"](tt,me("String"),"to_str")}),P=W(Me,"new",[y],function be(){var tt=be.$$s==null?this:be.$$s;return W(o,"each",[],function ot(lt){var vt=ot.$$s==null?this:ot.$$s;return lt==null&&(lt=ne),vt.$define_struct_attribute(lt)},{$$s:tt}),function(ot,lt){return Ie(ot,"$new",function(_t){var bt,pt,gt=this,mt=ne;return bt=xe(arguments),pt=bt,mt=gt.$allocate(),mt.$$data={},W(mt,"initialize",Ue(pt)),mt},-1),ot.$alias_method("[]","new")}(s.get_singleton_class(tt))},{$$s:y}),Xe(r)&&W(P,"module_eval",[],r.$to_proc()),P.$$keyword_init=g,Xe(L)&&me("Struct").$const_set(L,P),P},-2),He(T,"$define_struct_attribute",function(L){var d=this;return ke(d,me("Struct"))&&Ye.$raise(me("ArgumentError"),"you cannot define attributes to the Struct class"),d.$members()["$<<"](L),W(d,"define_method",[L],function i(){var r=i.$$s==null?this:i.$$s;return r.$$data[L]},{$$s:d}),W(d,"define_method",[""+L+"="],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),n.$$data[L]=r},{$$s:d})}),He(T,"$members",function(){var L=this,d=ne;return L.members==null&&(L.members=ne),ke(L,me("Struct"))&&Ye.$raise(me("ArgumentError"),"the Struct class has no members"),L.members=Xe(d=L.members)?d:[]}),He(T,"$inherited",function(L){var d=this,i=ne;return d.members==null&&(d.members=ne),i=d.members,W(L,"instance_eval",[],function r(){var n=r.$$s==null?this:r.$$s;return n.members=i},{$$s:d})}),Ie(T,"$initialize",function(L){var d,i,r=this,n=ne,$=ne,o=ne;return d=xe(arguments),i=d,Xe(r.$class().$$keyword_init)?(n=Xe($=i.$last())?$:ze([],{}),(Xe(te(i.$length(),1))||Xe(i.length===1&&!n.$$is_hash))&&Ye.$raise(me("ArgumentError"),"wrong number of arguments (given "+i.$length()+", expected 0)"),o=qe(n.$keys(),r.$class().$members()),Xe(o["$any?"]())&&Ye.$raise(me("ArgumentError"),"unknown keywords: "+o.$join(", ")),W(r.$class().$members(),"each",[],function g(y){var P,be=g.$$s==null?this:g.$$s;return y==null&&(y=ne),P=[y,n["$[]"](y)],W(be,"[]=",P),P[P.length-1]},{$$s:r})):(Xe(te(i.$length(),r.$class().$members().$length()))&&Ye.$raise(me("ArgumentError"),"struct size differs"),W(r.$class().$members(),"each_with_index",[],function g(y,P){var be,tt=g.$$s==null?this:g.$$s;return y==null&&(y=ne),P==null&&(P=ne),be=[y,i["$[]"](P)],W(tt,"[]=",be),be[be.length-1]},{$$s:r}))},-1),Ie(T,"$initialize_copy",function(L){var d=this;d.$$data={};var i=Object.keys(L.$$data),r,n,$;for(r=0,n=i.length;r<n;r++)$=i[r],d.$$data[$]=L.$$data[$]}),He(T,"$keyword_init?",function(){var L=this;return L.$$keyword_init}),Ie(T,"$members",function(){var L=this;return L.$class().$members()}),Ie(T,"$hash",function(){var L=this;return N("Hash").$new(L.$$data).$hash()}),Ie(T,"$[]",function(L){var d=this;return Je(me("Integer"),L)?(Xe(Le(L,d.$class().$members().$size()["$-@"]()))&&Ye.$raise(me("IndexError"),"offset "+L+" too small for struct(size:"+d.$class().$members().$size()+")"),Xe(Ae(L,d.$class().$members().$size()))&&Ye.$raise(me("IndexError"),"offset "+L+" too large for struct(size:"+d.$class().$members().$size()+")"),L=d.$class().$members()["$[]"](L)):Je(me("String"),L)?d.$$data.hasOwnProperty(L)||Ye.$raise(me("NameError").$new("no member '"+L+"' in struct",L)):Ye.$raise(me("TypeError"),"no implicit conversion of "+L.$class()+" into Integer"),L=ye["$coerce_to!"](L,me("String"),"to_str"),d.$$data[L]}),Ie(T,"$[]=",function(L,d){var i=this;return Je(me("Integer"),L)?(Xe(Le(L,i.$class().$members().$size()["$-@"]()))&&Ye.$raise(me("IndexError"),"offset "+L+" too small for struct(size:"+i.$class().$members().$size()+")"),Xe(Ae(L,i.$class().$members().$size()))&&Ye.$raise(me("IndexError"),"offset "+L+" too large for struct(size:"+i.$class().$members().$size()+")"),L=i.$class().$members()["$[]"](L)):Je(me("String"),L)?Xe(i.$class().$members()["$include?"](L.$to_sym()))||Ye.$raise(me("NameError").$new("no member '"+L+"' in struct",L)):Ye.$raise(me("TypeError"),"no implicit conversion of "+L.$class()+" into Integer"),L=ye["$coerce_to!"](L,me("String"),"to_str"),i.$$data[L]=d}),Ie(T,"$==",function(L){var d=this;if(!Xe(L["$instance_of?"](d.$class())))return!1;var i={},r={};function n($,o){var g,y,P;i[$.$__id__()]=!0,r[o.$__id__()]=!0;for(g in $.$$data)if(y=$.$$data[g],P=o.$$data[g],me("Struct")["$==="](y)){if((!i.hasOwnProperty(y.$__id__())||!r.hasOwnProperty(P.$__id__()))&&!n(y,P))return!1}else if(!y["$=="](P))return!1;return!0}return n(d,L)}),Ie(T,"$eql?",function(L){var d=this;if(!Xe(L["$instance_of?"](d.$class())))return!1;var i={},r={};function n($,o){var g,y,P;i[$.$__id__()]=!0,r[o.$__id__()]=!0;for(g in $.$$data)if(y=$.$$data[g],P=o.$$data[g],me("Struct")["$==="](y)){if((!i.hasOwnProperty(y.$__id__())||!r.hasOwnProperty(P.$__id__()))&&!n(y,P))return!1}else if(!y["$eql?"](P))return!1;return!0}return n(d,L)}),Ie(T,"$each",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L===ne?W(d,"enum_for",["each"],function i(){var r=i.$$s==null?this:i.$$s;return r.$size()},{$$s:d}):(W(d.$class().$members(),"each",[],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),s.yield1(L,n["$[]"](r))},{$$s:d}),d)}),Ie(T,"$each_pair",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L===ne?W(d,"enum_for",["each_pair"],function i(){var r=i.$$s==null?this:i.$$s;return r.$size()},{$$s:d}):(W(d.$class().$members(),"each",[],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),s.yield1(L,[r,n["$[]"](r)])},{$$s:d}),d)}),Ie(T,"$length",function(){var L=this;return L.$class().$members().$length()}),Ie(T,"$to_a",function(){var L=this;return W(L.$class().$members(),"map",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&(i=ne),r["$[]"](i)},{$$s:L})});var Ce=[];return Ie(T,"$inspect",function(){var L=this,d=ne,i=ne;return function(){try{return d="#<struct ",Xe(Ce["$include?"](L.$__id__()))?$e(d,":...>"):(Ce["$<<"](L.$__id__()),i=!0,Je(me("Struct"),L)&&Xe(L.$class().$name())&&(d=$e(d,""+L.$class()+" ")),d=$e(d,W(L.$each_pair(),"map",[],function(n,$){return n==null&&(n=ne),$==null&&($=ne),""+n+"="+N("Opal").$inspect($)}).$join(", ")),d=$e(d,">"),d)}finally{Xe(i)&&Ce.pop()}}()}),Ie(T,"$to_h",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L!==ne?W(W(d,"map",[],L.$to_proc()),"to_h",Ue(d.$args())):W(d.$class().$members(),"each_with_object",[ze([],{})],function i(r,n){var $,o=i.$$s==null?this:i.$$s;return r==null&&(r=ne),n==null&&(n=ne),$=[r,o["$[]"](r)],W(n,"[]=",$),$[$.length-1]},{$$s:d})}),Ie(T,"$values_at",function(L){var d,i,r=this;d=xe(arguments),i=d,i=W(i,"map",[],function(y){return y==null&&(y=ne),y.$$is_range?y.$to_a():y}).$flatten();for(var n=[],$=0,o=i.length;$<o;$++)i[$].$$is_number||Ye.$raise(me("TypeError"),"no implicit conversion of "+i[$].$class()+" into Integer"),n.push(r["$[]"](i[$]));return n},-1),Ie(T,"$dig",function(L,d){var i,r,n=this,$=ne;return i=xe(arguments,1),r=i,$=Xe(L.$$is_string&&n.$$data.hasOwnProperty(L))&&n.$$data[L]||ne,$===ne||r.length===0?$:(Xe($["$respond_to?"]("dig"))||Ye.$raise(me("TypeError"),""+$.$class()+" does not have #dig method"),W($,"dig",Ue(r)))},-2),pe(T,"size","length"),pe(T,"to_s","inspect"),pe(T,"values","to_a")}("::",null,Fe)};Opal.modules["corelib/set"]=function(s){var X=s.freeze,xe=s.klass,Pe=s.slice,fe=s.defs,Xe=s.hash2,Se=s.truthy,ke=s.eqeqeq,ye=s.Kernel,W=s.send,Me=s.def,Ue=s.eqeq,Ie=s.rb_lt,He=s.rb_le,Ye=s.alias,ze=[],te=s.nil,qe=s.$$$;return s.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(Je,Le,Ae){var $e=xe(Je,Le,"Set"),pe=[$e].concat(Ae),ae=s.$r(pe),Fe=te,ne=$e.$$prototype;ne.hash=te,$e.$include(qe("Enumerable")),fe($e,"$[]",function(p){var oe,T,V=this;return oe=Pe(arguments),T=oe,V.$new(T)},-1),Me($e,"$initialize",function Q(p){var oe=Q.$$p||te,T=this;return Q.$$p=null,p==null&&(p=te),T.hash=Xe([],{}),Se(p["$nil?"]())?te:(ke(qe("Enumerable"),p)||ye.$raise(qe("ArgumentError"),"value must be enumerable"),Se(oe)?W(p,"each",[],function V(N){var Ce=V.$$s==null?this:V.$$s;return N==null&&(N=te),Ce.$add(s.yield1(oe,N))},{$$s:T}):T.$merge(p))},-1),Me($e,"$dup",function(){var p=this,oe=te;return oe=p.$class().$new(),oe.$merge(p)}),Me($e,"$-",function(p){var oe=this;return Se(p["$respond_to?"]("each"))||ye.$raise(qe("ArgumentError"),"value must be enumerable"),oe.$dup().$subtract(p)}),Me($e,"$inspect",function(){var p=this;return"#<Set: {"+p.$to_a().$join(",")+"}>"}),Me($e,"$==",function(p){var oe=this;return Se(oe["$equal?"](p))?!0:Se(p["$instance_of?"](oe.$class()))?oe.hash["$=="](p.$instance_variable_get("@hash")):Se(p["$is_a?"](qe("Set")))&&Ue(oe.$size(),p.$size())?W(p,"all?",[],function T(V){var N=T.$$s==null?this:T.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash["$include?"](V)},{$$s:oe}):!1}),Me($e,"$add",function(p){var oe=this;return oe.hash["$[]="](p,!0),oe}),Me($e,"$classify",function Q(){var p=Q.$$p||te,oe=this,T=te;return Q.$$p=null,p===te?oe.$enum_for("classify"):(T=W(qe("Hash"),"new",[],function V(N,Ce){var re,L=V.$$s==null?this:V.$$s;return N==null&&(N=te),Ce==null&&(Ce=te),re=[Ce,L.$class().$new()],W(N,"[]=",re),re[re.length-1]},{$$s:oe}),W(oe,"each",[],function(N){return N==null&&(N=te),T["$[]"](s.yield1(p,N)).$add(N)}),T)}),Me($e,"$collect!",function Q(){var p=Q.$$p||te,oe=this,T=te;return Q.$$p=null,p===te?oe.$enum_for("collect!"):(T=oe.$class().$new(),W(oe,"each",[],function(N){return N==null&&(N=te),T["$<<"](s.yield1(p,N))}),oe.$replace(T))}),Me($e,"$compare_by_identity",function(){var p=this;return Se(p.hash["$respond_to?"]("compare_by_identity"))?(p.hash.$compare_by_identity(),p):p.$raise(ae("NotImplementedError"),""+p.$class().$name()+"#compare_by_identity is not implemented")}),Me($e,"$compare_by_identity?",function(){var p=this,oe=te;return Se(oe=p.hash["$respond_to?"]("compare_by_identity?"))?p.hash["$compare_by_identity?"]():oe}),Me($e,"$delete",function(p){var oe=this;return oe.hash.$delete(p),oe}),Me($e,"$delete?",function(p){var oe=this;return Se(oe["$include?"](p))?(oe.$delete(p),oe):te}),Me($e,"$delete_if",function Q(){var p=Q.$$p||te,oe=this;return Q.$$p=null,p===te?oe.$enum_for("delete_if"):(W(W(oe,"select",[],function(V){return V==null&&(V=te),s.yield1(p,V)}),"each",[],function T(V){var N=T.$$s==null?this:T.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash.$delete(V)},{$$s:oe}),oe)}),Me($e,"$freeze",function(){var p=this;return Se(p["$frozen?"]())?p:(p.hash.$freeze(),X(p))}),Me($e,"$keep_if",function Q(){var p=Q.$$p||te,oe=this;return Q.$$p=null,p===te?oe.$enum_for("keep_if"):(W(W(oe,"reject",[],function(V){return V==null&&(V=te),s.yield1(p,V)}),"each",[],function T(V){var N=T.$$s==null?this:T.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash.$delete(V)},{$$s:oe}),oe)}),Me($e,"$reject!",function Q(){var p=Q.$$p||te,oe=this,T=te;return Q.$$p=null,p===te?oe.$enum_for("reject!"):(T=oe.$size(),W(oe,"delete_if",[],p.$to_proc()),Ue(oe.$size(),T)?te:oe)}),Me($e,"$select!",function Q(){var p=Q.$$p||te,oe=this,T=te;return Q.$$p=null,p===te?oe.$enum_for("select!"):(T=oe.$size(),W(oe,"keep_if",[],p.$to_proc()),Ue(oe.$size(),T)?te:oe)}),Me($e,"$add?",function(p){var oe=this;return Se(oe["$include?"](p))?te:oe.$add(p)}),Me($e,"$each",function Q(){var p=Q.$$p||te,oe=this;return Q.$$p=null,p===te?oe.$enum_for("each"):(W(oe.hash,"each_key",[],p.$to_proc()),oe)}),Me($e,"$empty?",function(){var p=this;return p.hash["$empty?"]()}),Me($e,"$eql?",function(p){var oe=this;return oe.hash["$eql?"](W(p,"instance_eval",[],function T(){var V=T.$$s==null?this:T.$$s;return V.hash==null&&(V.hash=te),V.hash},{$$s:oe}))}),Me($e,"$clear",function(){var p=this;return p.hash.$clear(),p}),Me($e,"$include?",function(p){var oe=this;return oe.hash["$include?"](p)}),Me($e,"$merge",function(p){var oe=this;return W(p,"each",[],function T(V){var N=T.$$s==null?this:T.$$s;return V==null&&(V=te),N.$add(V)},{$$s:oe}),oe}),Me($e,"$replace",function(p){var oe=this;return oe.$clear(),oe.$merge(p),oe}),Me($e,"$size",function(){var p=this;return p.hash.$size()}),Me($e,"$subtract",function(p){var oe=this;return W(p,"each",[],function T(V){var N=T.$$s==null?this:T.$$s;return V==null&&(V=te),N.$delete(V)},{$$s:oe}),oe}),Me($e,"$|",function(p){var oe=this;return Se(p["$respond_to?"]("each"))||ye.$raise(qe("ArgumentError"),"value must be enumerable"),oe.$dup().$merge(p)});function me(Q){Se(Fe=Q["$is_a?"](qe("Set")))||ye.$raise(qe("ArgumentError"),"value must be a set")}return Me($e,"$superset?",function(p){var oe=this;return me(p),Se(Ie(oe.$size(),p.$size()))?!1:W(p,"all?",[],function T(V){var N=T.$$s==null?this:T.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Me($e,"$proper_superset?",function(p){var oe=this;return me(p),Se(He(oe.$size(),p.$size()))?!1:W(p,"all?",[],function T(V){var N=T.$$s==null?this:T.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Me($e,"$subset?",function(p){var oe=this;return me(p),Se(Ie(p.$size(),oe.$size()))?!1:W(oe,"all?",[],function(V){return V==null&&(V=te),p["$include?"](V)})}),Me($e,"$proper_subset?",function(p){var oe=this;return me(p),Se(He(p.$size(),oe.$size()))?!1:W(oe,"all?",[],function(V){return V==null&&(V=te),p["$include?"](V)})}),Me($e,"$intersect?",function(p){var oe=this;return me(p),Se(Ie(oe.$size(),p.$size()))?W(oe,"any?",[],function(V){return V==null&&(V=te),p["$include?"](V)}):W(p,"any?",[],function T(V){var N=T.$$s==null?this:T.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Me($e,"$disjoint?",function(p){var oe=this;return oe["$intersect?"](p)["$!"]()}),Me($e,"$to_a",function(){var p=this;return p.hash.$keys()}),Ye($e,"+","|"),Ye($e,"<","proper_subset?"),Ye($e,"<<","add"),Ye($e,"<=","subset?"),Ye($e,">","proper_superset?"),Ye($e,">=","superset?"),Ye($e,"difference","-"),Ye($e,"filter!","select!"),Ye($e,"length","size"),Ye($e,"map!","collect!"),Ye($e,"member?","include?"),Ye($e,"union","|")}("::",null,ze)};Opal.modules["corelib/dir"]=function(s){var X=s.klass,xe=s.def,Pe=s.truthy,fe=s.alias,Xe=s.nil,Se=s.$$$;return s.add_stubs("[],pwd"),function(ke,ye,W){var Me=X(ke,ye,"Dir");return function(Ue,Ie){return xe(Ue,"$chdir",function He(Ye){var ze=He.$$p||Xe,te=Xe;return He.$$p=null,function(){try{return te=s.current_dir,s.current_dir=Ye,s.yieldX(ze,[])}finally{s.current_dir=te}}()}),xe(Ue,"$pwd",function(){return s.current_dir||"."}),xe(Ue,"$home",function(){var Ye=Xe;return Pe(Ye=Se("ENV")["$[]"]("HOME"))?Ye:"."}),fe(Ue,"getwd","pwd")}(s.get_singleton_class(Me))}("::",null)};Opal.modules["corelib/file"]=function(s){var X=s.truthy,xe=s.klass,Pe=s.const_set,fe=s.Opal,Xe=s.regexp,Se=s.rb_plus,ke=s.def,ye=s.Kernel,W=s.eqeq,Me=s.rb_lt,Ue=s.rb_minus,Ie=s.range,He=s.send,Ye=s.slice,ze=s.alias,te=[],qe=s.nil,Je=s.$$$;return s.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Le,Ae,$e){var pe=xe(Le,Ae,"File"),ae=[pe].concat($e),Fe=qe;return Pe(ae[0],"Separator",Pe(ae[0],"SEPARATOR","/")),Pe(ae[0],"ALT_SEPARATOR",qe),Pe(ae[0],"PATH_SEPARATOR",":"),Pe(ae[0],"FNM_SYSCASE",0),Fe=/^[a-zA-Z]:(?:\\|\/)/,function(ne,me){var Q=[ne].concat(me),p=s.$r(Q);ke(ne,"$absolute_path",function(N,Ce){var re=qe,L=qe,d=qe,i=qe,r=qe,n=qe,$=qe,o=qe,g=qe,y=qe;Ce==null&&(Ce=qe),re=p("SEPARATOR"),L=T(),d=[],N=X(N["$respond_to?"]("to_path"))?N.$to_path():N,N=fe["$coerce_to!"](N,Je("String"),"to_str"),Ce=X(i=Ce)?i:Je("Dir").$pwd(),r=N.substr(0,re.length)===re||Fe.test(N),n=Ce.substr(0,re.length)===re||Fe.test(Ce),X(r)?($=N.$split(Xe(["[",L,"]"])),o=Fe.test(N)?"":N.$sub(Xe(["^([",L,"]+).*$"]),"\\1"),g=!0):($=Se(Ce.$split(Xe(["[",L,"]"])),N.$split(Xe(["[",L,"]"]))),o=Fe.test(Ce)?"":Ce.$sub(Xe(["^([",L,"]+).*$"]),"\\1"),g=n);for(var P,be=0,tt=$.length;be<tt;be++)P=$[be],!(P===qe||P===""&&(d.length===0||g)||P==="."&&(d.length===0||g))&&(P===".."?d.pop():d.push(P));return!g&&$[0]!=="."&&d.$unshift("."),y=d.$join(re),X(g)&&(y=Se(o,y)),y},-2),ke(ne,"$expand_path",function(N,Ce){var re=this,L=qe,d=qe,i=qe,r=qe,n=qe;return Ce==null&&(Ce=qe),L=p("SEPARATOR"),d=T(),X(N[0]==="~"||Ce&&Ce[0]==="~")&&(i=p("Dir").$home(),X(i)||ye.$raise(Je("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),r=Fe.test(i)?"":i.$sub(Xe(["^([",d,"]+).*$"]),"\\1"),X(i["$start_with?"](r))||ye.$raise(Je("ArgumentError"),"non-absolute home"),i=Se(i,L),n=Xe(["^\\~(?:",L,"|$)"]),N=N.$sub(n,i),X(Ce)&&(Ce=Ce.$sub(n,i))),re.$absolute_path(N,Ce)},-2);function oe(V){return X(V["$respond_to?"]("to_path"))&&(V=V.$to_path()),V=fe["$coerce_to!"](V,Je("String"),"to_str"),V}function T(){return p("ALT_SEPARATOR")===qe?s.escape_regexp(p("SEPARATOR")):s.escape_regexp(Se(p("SEPARATOR"),p("ALT_SEPARATOR")))}return ke(ne,"$dirname",function(N,Ce){var re=this,L=qe;if(Ce==null&&(Ce=1),W(Ce,0))return N;X(Me(Ce,0))&&ye.$raise(Je("ArgumentError"),"level can't be negative"),L=T(),N=oe(N);var d=N.match(new RegExp("^["+L+"]")),i;return N=N.replace(new RegExp("["+L+"]+$"),""),N=N.replace(new RegExp("[^"+L+"]+$"),""),N=N.replace(new RegExp("["+L+"]+$"),""),N===""?i=d?"/":".":i=N,Ce==1?i:re.$dirname(i,Ue(Ce,1))},-2),ke(ne,"$basename",function(N,Ce){var re=qe;return Ce==null&&(Ce=qe),re=T(),N=oe(N),N.length==0||(Ce!==qe?Ce=fe["$coerce_to!"](Ce,Je("String"),"to_str"):Ce=null,N=N.replace(new RegExp("(.)["+re+"]*$"),"$1"),N=N.replace(new RegExp("^(?:.*["+re+"])?([^"+re+"]+)$"),"$1"),Ce===".*"?N=N.replace(/\.[^\.]+$/,""):Ce!==null&&(Ce=s.escape_regexp(Ce),N=N.replace(new RegExp(""+Ce+"$"),""))),N},-2),ke(ne,"$extname",function(N){var Ce=this,re=qe,L=qe;return N=oe(N),re=Ce.$basename(N),X(re["$empty?"]())||(L=re["$[]"](Ie(1,-1,!1)).$rindex("."),X(L["$nil?"]())||W(Se(L,1),Ue(re.$length(),1)))?"":re["$[]"](s.Range.$new(Se(L,1),-1,!1))}),ke(ne,"$exist?",function(N){return s.modules[N]!=null}),ke(ne,"$directory?",function(N){var Ce=qe;Ce=[];for(var re in s.modules)Ce.push(re);return N=N.$gsub(Xe(["(^.",p("SEPARATOR"),"+|",p("SEPARATOR"),"+$)"])),He(Ce,"find",[],function(d){return d==null&&(d=qe),d["$=~"](Xe(["^",N]))})}),ke(ne,"$join",function(N){var Ce,re,L=qe;return Ce=Ye(arguments),re=Ce,X(re["$empty?"]())?"":(L="",re=He(re.$flatten().$each_with_index(),"map",[],function(i,r){return i==null&&(i=qe),r==null&&(r=qe),W(r,0)&&X(i["$empty?"]())||W(re.$length(),Se(r,1))&&X(i["$empty?"]())?p("SEPARATOR"):i}),re=He(re,"reject",[],"empty?".$to_proc()),He(re,"each_with_index",[],function(i,r){var n=qe;return i==null&&(i=qe),r==null&&(r=qe),n=re["$[]"](Se(r,1)),X(n["$nil?"]())?L=""+L+i:(X(i["$end_with?"](p("SEPARATOR")))&&X(n["$start_with?"](p("SEPARATOR")))&&(i=i.$sub(Xe([p("SEPARATOR"),"+$"]),"")),L=X(i["$end_with?"](p("SEPARATOR")))||X(n["$start_with?"](p("SEPARATOR")))?""+L+i:""+L+i+p("SEPARATOR"))}),L)},-1),ke(ne,"$split",function(N){return N.$split(p("SEPARATOR"))}),ze(ne,"realpath","expand_path"),ze(ne,"exists?","exist?")}(s.get_singleton_class(pe),ae)}("::",Je("IO"),te)};Opal.modules["corelib/process/base"]=function(s){var X=s.klass,xe=s.slice,Pe=s.defs,fe=s.return_val,Xe=s.nil;return function(Se,ke){var ye=X(Se,ke,"Signal");return Pe(ye,"$trap",function(Me){return xe(arguments),Xe},-1)}("::",null),function(Se,ke){var ye=X(Se,ke,"GC");return Pe(ye,"$start",fe(Xe))}("::",null)};Opal.modules["corelib/process"]=function(s){var X=s.module,xe=s.defs,Pe=s.truthy,fe=s.return_val,Xe=s.Kernel,Se=s.nil,ke=s.$$$;return s.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(ye){var W=X(ye,"Process"),Me=Se;if(W.__clocks__=[],xe(W,"$__register_clock__",function(He,Ye){var ze=this;return ze.__clocks__==null&&(ze.__clocks__=Se),ze.$const_set(He,ze.__clocks__.$size()),ze.__clocks__["$<<"](Ye)}),W.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Me=!1,s.global.performance)Me=function(){return performance.now()};else if(s.global.process&&process.hrtime){var Ue=process.hrtime();Me=function(){var Ie=process.hrtime(Ue),He=Ie[1]/1e3|0;return Ie[0]*1e3+He/1e3}}return Pe(Me)&&W.$__register_clock__("CLOCK_MONOTONIC",Me),xe(W,"$pid",fe(0)),xe(W,"$times",function(){var He=Se;return He=ke("Time").$now().$to_f(),ke(ke("Benchmark"),"Tms").$new(He,He,He,He,He)}),xe(W,"$clock_gettime",function(He,Ye){var ze=this,te=Se;ze.__clocks__==null&&(ze.__clocks__=Se),Ye==null&&(Ye="float_second"),Pe(te=ze.__clocks__["$[]"](He))||Xe.$raise(ke(ke("Errno"),"EINVAL"),"clock_gettime("+He+") "+ze.__clocks__["$[]"](He));var qe=te();switch(Ye){case"float_second":return qe/1e3;case"float_millisecond":return qe/1;case"float_microsecond":return qe*1e3;case"second":return qe/1e3|0;case"millisecond":return qe/1|0;case"microsecond":return qe*1e3|0;case"nanosecond":return qe*1e6|0;default:Xe.$raise(ke("ArgumentError"),"unexpected unit: "+Ye)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(s){var X=s.klass,xe=s.module,Pe=s.def,fe=s.range,Xe=s.send,Se=s.rb_divide,ke=s.Kernel,ye=s.Opal,W=[],Me=s.nil,Ue=s.$$$;return s.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Ie,He,Ye){var ze=X(Ie,He,"Random"),te=[ze].concat(Ye);return function(qe,Je){var Le=xe(qe,"Formatter"),Ae=[Le].concat(Je),$e=s.$r(Ae);return Pe(Le,"$hex",function(ae){var Fe=this;ae==null&&(ae=Me),ae=Ue("Random").$_verify_count(ae);for(var ne=Fe.$bytes(ae),me="",Q=0;Q<ae;Q++)me+=ne.charCodeAt(Q).toString(16).padStart(2,"0");return me.$encode("US-ASCII")},-1),Pe(Le,"$random_bytes",function(ae){var Fe=this;return ae==null&&(ae=Me),Fe.$bytes(ae)},-1),Pe(Le,"$base64",function(ae){var Fe=this;return ae==null&&(ae=Me),Ue("Base64").$strict_encode64(Fe.$random_bytes(ae)).$encode("US-ASCII")},-1),Pe(Le,"$urlsafe_base64",function(ae,Fe){var ne=this;return ae==null&&(ae=Me),Fe==null&&(Fe=!1),Ue("Base64").$urlsafe_encode64(ne.$random_bytes(ae),Fe).$encode("US-ASCII")},-1),Pe(Le,"$uuid",function(){var ae=this,Fe=Me;return Fe=ae.$hex(16).$split(""),Fe["$[]="](12,"4"),Fe["$[]="](16,(parseInt(Fe["$[]"](16),16)&3|8).toString(16)),Fe=[Fe["$[]"](fe(0,8,!0)),Fe["$[]"](fe(8,12,!0)),Fe["$[]"](fe(12,16,!0)),Fe["$[]"](fe(16,20,!0)),Fe["$[]"](fe(20,32,!0))],Fe=Xe(Fe,"map",[],"join".$to_proc()),Fe.$join("-")}),Pe(Le,"$random_float",function(){var ae=this,Fe=Me,ne=Me;return Fe=ae.$bytes(4),ne=0,Xe(4,"times",[],function(Q){return Q==null&&(Q=Me),ne=ne["$<<"](8),ne=ne["$|"](Fe["$[]"](Q).$ord())}),Se(ne.$abs(),2147483647)}),Pe(Le,"$random_number",function(ae){var Fe=this;function ne(){return Fe.$random_float()}function me(p){return Math.floor(ne()*p)}function Q(){var p=ae.begin,oe=ae.end;if(p===Me||oe===Me)return Me;var T=oe-p;return T<0?Me:T===0?p:(oe%1===0&&p%1===0&&!ae.excl&&T++,me(T)+p)}return ae==null?ne():ae.$$is_range?Q():ae.$$is_number?(ae<=0&&ke.$raise(Ue("ArgumentError"),"invalid argument - "+ae),ae%1===0?me(ae):ne()*ae):(ae=ye["$coerce_to!"](ae,Ue("Integer"),"to_int"),ae<=0&&ke.$raise(Ue("ArgumentError"),"invalid argument - "+ae),me(ae))},-1),Pe(Le,"$alphanumeric",function(ae){var Fe=this,ne=Me;return ae==null&&(ae=Me),ae=$e("Random").$_verify_count(ae),ne=Xe([fe("0","9",!1),fe("a","z",!1),fe("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),Xe(Ue("Array"),"new",[ae],function me(Q){var p=me.$$s==null?this:me.$$s;return ne["$[]"](p.$random_number(ne.$length()))},{$$s:Fe}).$join()},-1)}(ze,te),ze.$include(Ue(Ue("Random"),"Formatter")),ze.$extend(Ue(Ue("Random"),"Formatter"))}("::",null,W)};Opal.modules["corelib/random/mersenne_twister"]=function(s){var X=s.klass,xe=s.const_set,Pe=s.send,fe=s.nil,Xe=s.$$$,Se=fe;return s.add_stubs("generator="),Se=function(){var ke=624,ye=397,W=2567483615,Me=2147483648,Ue=2147483647,Ie=function(Ae,$e){return Ae&Me|$e&Ue},He=function(Ae,$e){return Ie(Ae,$e)>>>1^($e&1?W:0)};function Ye(Ae){var $e={left:0,next:ke,state:new Array(ke)};return ze($e,Ae),$e}function ze(Ae,$e){var pe;for(Ae.state[0]=$e>>>0,pe=1;pe<ke;pe++)Ae.state[pe]=1812433253*(Ae.state[pe-1]^Ae.state[pe-1]>>30>>>0)+pe,Ae.state[pe]&=4294967295;Ae.left=1,Ae.next=ke}function te(Ae){var $e=0,pe=Ae.state,ae;for(Ae.left=ke,Ae.next=0,ae=ke-ye+1;--ae;$e++)pe[$e]=pe[$e+ye]^He(pe[$e+0],pe[$e+1]);for(ae=ye;--ae;$e++)pe[$e]=pe[$e+(ye-ke)]^He(pe[$e+0],pe[$e+1]);pe[$e]=pe[$e+(ye-ke)]^He(pe[$e+0],pe[0])}function qe(Ae){var $e;return--Ae.left<=0&&te(Ae),$e=Ae.state[Ae.next++],$e^=$e>>>11,$e^=$e<<7&2636928640,$e^=$e<<15&4022730752,$e^=$e>>>18,$e>>>0}function Je(Ae,$e){return Ae>>>=5,$e>>>=6,(Ae*67108864+$e)*(1/9007199254740992)}function Le(Ae){var $e=qe(Ae),pe=qe(Ae);return Je($e,pe)}return{genrand_real:Le,init:Ye}}(),function(ke,ye){var W=X(ke,ye,"Random"),Me,Ue=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return xe(W,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*Ue)},reseed:function(Ie){return Se.init(Ie)},rand:function(Ie){return Se.genrand_real(Ie)}}),Me=[Xe(W,"MERSENNE_TWISTER_GENERATOR")],Pe(W,"generator=",Me),Me[Me.length-1]}("::",null)};Opal.modules["corelib/random"]=function(s){var X=s.truthy,xe=s.klass,Pe=s.Kernel,fe=s.defs,Xe=s.Opal,Se=s.def,ke=s.eqeqeq,ye=s.send,W=s.top,Me=s.nil,Ue=s.$$$;return s.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),W.$require("corelib/random/formatter"),function(Ie,He){var Ye=xe(Ie,He,"Random");return Ye.$attr_reader("seed","state"),fe(Ye,"$_verify_count",function(te){return X(te)||(te=16),typeof te!="number"&&(te=te.$to_int()),te<0&&Pe.$raise(Ue("ArgumentError"),"negative string size (or size too big)"),te=Math.floor(te),te}),Se(Ye,"$initialize",function(te){var qe=this;return te==null&&(te=Ue("Random").$new_seed()),te=Xe["$coerce_to!"](te,Ue("Integer"),"to_int"),qe.state=te,qe.$reseed(te)},-1),Se(Ye,"$reseed",function(te){var qe=this;return qe.seed=te,qe.$rng=s.$$rand.reseed(te)}),fe(Ye,"$new_seed",function(){return s.$$rand.new_seed()}),fe(Ye,"$rand",function(te){var qe=this;return Ue(qe,"DEFAULT").$rand(te)},-1),fe(Ye,"$srand",function(te){var qe=this,Je=Me;return te==null&&(te=Ue("Random").$new_seed()),te=Xe["$coerce_to!"](te,Ue("Integer"),"to_int"),Je=Ue(qe,"DEFAULT").$seed(),Ue(qe,"DEFAULT").$reseed(te),Je},-1),fe(Ye,"$urandom",function(te){return Ue("SecureRandom").$bytes(te)}),Se(Ye,"$==",function(te){var qe=this,Je=Me;return ke(Ue("Random"),te)?X(Je=qe.$seed()["$=="](te.$seed()))?qe.$state()["$=="](te.$state()):Je:!1}),Se(Ye,"$bytes",function(te){var qe=this;return te=Ue("Random").$_verify_count(te),ye(Ue("Array"),"new",[te],function Je(){var Le=Je.$$s==null?this:Je.$$s;return Le.$rand(255).$chr()},{$$s:qe}).$join().$encode("ASCII-8BIT")}),fe(Ye,"$bytes",function(te){var qe=this;return Ue(qe,"DEFAULT").$bytes(te)}),Se(Ye,"$rand",function(te){var qe=this;return qe.$random_number(te)},-1),Se(Ye,"$random_float",function(){var te=this;return te.state++,s.$$rand.rand(te.$rng)}),fe(Ye,"$random_float",function(){var te=this;return Ue(te,"DEFAULT").$random_float()}),fe(Ye,"$generator=",function(te){var qe=this;return s.$$rand=te,X(qe["$const_defined?"]("DEFAULT"))?Ue(qe,"DEFAULT").$reseed():qe.$const_set("DEFAULT",qe.$new(qe.$new_seed()))})}("::",null),W.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(s){var X=s.Kernel,xe=s.klass,Pe=s.send,fe=s.slice,Xe=s.module,Se=s.def,ke=s.return_val,ye=s.alias,W=s.defs,Me=s.top,Ue=[],Ie=s.nil,He=s.$$$;s.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var Ye={};function ze(qe){switch(s.config.unsupported_features_severity){case"error":X.$raise(He("NotImplementedError"),qe);break;case"warning":te(qe);break}}function te(qe){Ye[qe]||(Ye[qe]=!0,Me.$warn(qe))}return function(qe,Je){var Le=xe(qe,Je,"String"),Ae="String#%s not supported. Mutable String methods are not supported in Opal.";return Pe(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function $e(pe){var ae=$e.$$s==null?this:$e.$$s;return pe==null&&(pe=Ie),Pe(ae,"define_method",[pe],function(ne){return fe(arguments),X.$raise(He("NotImplementedError"),Ae["$%"](pe))},-1)},{$$s:Le})}("::",null),function(qe){var Je=Xe(qe,"Kernel"),Le="Object tainting is not supported by Opal";return Se(Je,"$taint",function(){var $e=this;return ze(Le),$e}),Se(Je,"$untaint",function(){var $e=this;return ze(Le),$e}),Se(Je,"$tainted?",function(){return ze(Le),!1})}("::"),function(qe,Je){var Le=xe(qe,Je,"Module");return Se(Le,"$public",function($e){var pe,ae,Fe=this;return pe=fe(arguments),ae=pe,ae.length===0?(Fe.$$module_function=!1,Ie):ae.length===1?ae[0]:ae},-1),Se(Le,"$private_class_method",function($e){var pe,ae;return pe=fe(arguments),ae=pe,ae.length===1?ae[0]:ae},-1),Se(Le,"$private_method_defined?",ke(!1)),Se(Le,"$private_constant",function($e){return fe(arguments),Ie},-1),ye(Le,"nesting","public"),ye(Le,"private","public"),ye(Le,"protected","public"),ye(Le,"protected_method_defined?","private_method_defined?"),ye(Le,"public_class_method","private_class_method"),ye(Le,"public_instance_method","instance_method"),ye(Le,"public_instance_methods","instance_methods"),ye(Le,"public_method_defined?","method_defined?")}("::",null),function(qe){var Je=Xe(qe,"Kernel");return Se(Je,"$private_methods",function(Ae){return fe(arguments),[]},-1),ye(Je,"protected_methods","private_methods"),ye(Je,"private_instance_methods","private_methods"),ye(Je,"protected_instance_methods","private_methods")}("::"),function(qe,Je){var Le=Xe(qe,"Kernel"),Ae=[Le].concat(Je),$e=s.$r(Ae);return Se(Le,"$eval",function(ae){return fe(arguments),X.$raise(He("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+$e("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",Ue),W(Me,"$public",function(Je){var Le,Ae;return Le=fe(arguments),Ae=Le,Ae.length===1?Ae[0]:Ae},-1),W(Me,"$private",function(Je){var Le,Ae;return Le=fe(arguments),Ae=Le,Ae.length===1?Ae[0]:Ae},-1)};Opal.queue(function(s){var X=s.Object;return s.nil,s.add_stubs("require,autoload"),X.$require("opal/base"),X.$require("opal/mini"),X.$require("corelib/kernel/format"),X.$require("corelib/string/encoding"),X.$autoload("Math","corelib/math"),X.$require("corelib/complex/base"),X.$autoload("Complex","corelib/complex"),X.$require("corelib/rational/base"),X.$autoload("Rational","corelib/rational"),X.$require("corelib/time"),X.$autoload("Struct","corelib/struct"),X.$autoload("Set","corelib/set"),X.$autoload("Dir","corelib/dir"),X.$autoload("File","corelib/file"),X.$require("corelib/process/base"),X.$autoload("Process","corelib/process"),X.$autoload("Random","corelib/random"),X.$require("corelib/unsupported")});function cr(s){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var U=e.klass,M=e.defs,q=[];return e.nil,e.add_stubs("new"),function(G,u,R){var we=U(G,u,"File"),I=[we].concat(R),ce=e.$r(I);return M(we,"$read",function(Ge){var se="",Ne=-1;try{var _e=new XMLHttpRequest;_e.open("GET",Ge,!1),_e.addEventListener("load",function(){Ne=this.status,(Ne===0||Ne===200)&&(se=this.responseText)}),_e.overrideMimeType("text/plain"),_e.send()}catch(ve){throw ce("IOError").$new("Error reading file or directory: "+Ge+"; reason: "+ve.message)}if(Ne===404||Ne===0&&!se)throw ce("IOError").$new("No such file or directory: "+Ge);return se})}(q[0],null,q)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var U=e.const_set,M=e.top,q=[];e.nil,e.add_stubs("require");var G,u,R,we;if(typeof s=="object"&&typeof s.runtime=="object"){var I=s.runtime;G=I.platform,u=I.engine,R=I.framework,we=I.ioModule}return we=we||"xmlhttprequest",G=G||"browser",u=u||"",R=R||"",U(q[0],"JAVASCRIPT_IO_MODULE",we),U(q[0],"JAVASCRIPT_PLATFORM",G),U(q[0],"JAVASCRIPT_ENGINE",u),U(q[0],"JAVASCRIPT_FRAMEWORK",R),M.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.truthy,u=e.def,R=[],we=e.nil,I=e.$$$;return e.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ce,m){var Ge=U(ce,"Asciidoctor"),se=[Ge].concat(m);return function(Ne,_e,ve){var st=M(Ne,_e,"AbstractNode"),Re=[st].concat(ve),Oe=e.$r(Re),Te=st.$$prototype;return Te.document=we,u(st,"$read_contents",function(it,b){var We=this,h=we,Ve=we,rt=we;if(b==null&&(b=q([],{})),h=We.document,G(Oe("Helpers")["$uriish?"](it))||G(Ve=b["$[]"]("start"))&&G(Oe("Helpers")["$uriish?"](Ve))&&G(it=h.$path_resolver().$web_path(it,Ve)))if(G(h.$path_resolver()["$descends_from?"](it,h.$base_dir()))||G(it["$start_with?"]("chrome://"))||G(h["$attr?"]("allow-uri-read")))try{return G(b["$[]"]("normalize"))?Oe("Helpers").$prepare_source_string(I("File").$read(it)).$join(Oe("LF")):I("File").$read(it)}catch(z){if(e.rescue(z,[Oe("StandardError")]))try{return G(b.$fetch("warn_on_failure",!0))&&We.$logger().$warn("could not retrieve contents of "+(G(rt=b["$[]"]("label"))?rt:"asset")+" at URI: "+it),we}finally{e.pop_exception()}else throw z}else return G(b.$fetch("warn_on_failure",!0))&&We.$logger().$warn("cannot retrieve contents of "+(G(rt=b["$[]"]("label"))?rt:"asset")+" at URI: "+it+" (allow-uri-read attribute not enabled)"),we;else return it=We.$normalize_system_path(it,b["$[]"]("start"),we,q(["target_name"],{target_name:G(rt=b["$[]"]("label"))?rt:"asset"})),We.$read_asset(it,q(["normalize","warn_on_failure","label"],{normalize:b["$[]"]("normalize"),warn_on_failure:b.$fetch("warn_on_failure",!0),label:b["$[]"]("label")}))},-2),u(st,"$generate_data_uri_from_uri",function(it,b){var We=this,h="",Ve="",rt=-1;try{var z=new XMLHttpRequest;z.open("GET",it,!1),z.overrideMimeType("text/plain; charset=x-user-defined"),z.addEventListener("load",function(){if(rt=this.status,rt===0||rt===200){for(var k="",Ee=this.responseText,O=0,ue=Ee.length;O<ue;++O){var ie=Ee.charCodeAt(O),H=ie&255;k+=String.fromCharCode(H)}Ve=btoa(k),h=this.getResponseHeader("content-type")}}),z.send(null),h||(it.endsWith(".jpeg")||it.endsWith(".jpg")||it.endsWith(".jpe")?h="image/jpg":it.endsWith(".png")?h="image/png":it.endsWith(".svg")?h="image/svg+xml":it.endsWith(".bmp")?h="image/bmp":(it.endsWith(".tif")||it.endsWith(".tiff"))&&(h="image/tiff"))}catch{rt=0}return rt===404||rt===0&&(!Ve||!h)?(We.$logger().$warn("could not retrieve image data from URI: "+it),it):"data:"+h+";base64,"+Ve},-2)}(se[0],null,se)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var U=e.module,M=e.slice,q=e.send,G=e.to_a,u=e.defs,R=[],we=e.nil;return e.add_stubs("new,path"),function(I,ce){var m=U(I,"OpenURI"),Ge=[m].concat(ce),se=e.$r(Ge);return u(se("OpenURI"),"$open_uri",function Ne(_e,ve){var st,Re,Oe=Ne.$$p||we,Te=this,Ke=we;return Ne.$$p=null,st=M(arguments,1),Re=st,Ke=q(se("File"),"new",[Te.$path()].concat(G(Re))),Oe!==we?e.yield1(Oe,Ke):Ke},-2)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var U=e.module,M=e.klass,q=e.truthy,G=e.def,u=[],R=e.nil;return e.add_stubs("absolute_path?,start_with?"),function(we,I){var ce=U(we,"Asciidoctor"),m=[ce].concat(I);return function(Ge,se){var Ne=M(Ge,se,"PathResolver");return G(Ne,"$root?",function(ve){var st=this,Re=R;return q(Re=st["$absolute_path?"](ve))?Re:ve["$start_with?"]("file://","http://","https://","chrome://")})}(m[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var U=e.module,M=e.klass,q=e.truthy,G=e.eqeq,u=e.not,R=e.def,we=[],I=e.nil;return e.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ce,m){var Ge=U(ce,"Asciidoctor"),se=[Ge].concat(m),Ne=e.$r(se);return function(_e,ve,st){var Re=M(_e,ve,"PreprocessorReader"),Oe=[Re].concat(st),Te=e.$r(Oe),Ke=Re.$$prototype;return Ke.path_resolver=Ke.document=Ke.include_stack=Ke.dir=I,R(Re,"$resolve_include_path",function(b,We,h){var Ve,rt=this,z=I,k=I,Ee=I,O=I,ue=I,ie=I,H=I,J=I;if(z=(rt.path_resolver=q(k=rt.path_resolver)?k:Te("PathResolver").$new("\\")).$posixify(b),Ve=["file",rt.document.$base_dir()],Ve[0],Ee=Ve[1],q(z["$start_with?"]("file://")))O=ue=z;else if(q(Te("Helpers")["$uriish?"](z))){if(!(q(rt.path_resolver["$descends_from?"](z,Ee))||q(rt.document.$attributes()["$key?"]("allow-uri-read"))))return rt.$replace_next_line("link:"+b+"["+We+"]");O=ue=z}else if(q(rt.path_resolver["$absolute_path?"](z)))O=ue="file://"+(q(z["$start_with?"]("/"))?"":"/")+z;else if(G(ie=q(H=rt.include_stack["$empty?"]())?Ee:rt.dir,"."))O=ue=z;else if(q(ie["$start_with?"]("file://"))||u(Te("Helpers")["$uriish?"](ie)))O=""+ie+"/"+z,q(H)?ue=z:G(Ee,".")||u(J=rt.path_resolver["$descends_from?"](O,Ee))?ue=O:ue=O.$slice(J,O.$length());else if(q(H))O=""+ie+"/"+(ue=z);else if(q(J=rt.path_resolver["$descends_from?"](ie,Ee))||q(rt.document.$attributes()["$key?"]("allow-uri-read")))O=""+ie+"/"+z,ue=q(J)?O.$slice(J,O.$length()):z;else return rt.$replace_next_line("link:"+b+"["+We+"]");return[O,"file",ue]})}(se[0],Ne("Reader"),se)}(we[0],we)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var U=e.eqeq,M=e.top,q=[],G=e.$r(q),u=e.nil;return e.add_stubs("==,require"),U(G("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(M.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),M.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),M.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),M.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):u},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var U=e.module,M=e.slice,q=e.send,G=e.to_a,u=e.def,R=e.return_val,we=[],I=e.nil;return e.add_stubs("new"),function(ce,m){var Ge=U(ce,"Kernel"),se=[Ge].concat(m),Ne=e.$r(se);return u(Ge,"$open",function _e(ve,st){var Re,Oe,Te=_e.$$p||I,Ke=I;return _e.$$p=null,Re=M(arguments,1),Oe=Re,Ke=q(Ne("File"),"new",[ve].concat(G(Oe))),Te!==I?e.yield1(Te,Ke):Ke},-2),u(Ge,"$__dir__",R(""))}(we[0],we)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var U=e.klass,M=e.def,q=e.truthy,G=e.gvars,u=e.return_val,R=e.defs,we=[],I=e.nil;return e.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ce,m,Ge){var se=U(ce,m,"File"),Ne=[se].concat(Ge),_e=e.$r(Ne),ve=se.$$prototype;return ve.eof=ve.path=I,se.$attr_reader("eof"),se.$attr_reader("lineno"),se.$attr_reader("path"),M(se,"$initialize",function(Re,Oe){var Te=this,Ke=I;return Oe==null&&(Oe="r"),Te.path=Re,Te.contents=I,Te.eof=!1,Te.lineno=0,Oe=Oe.$delete("b"),Ke=/:(.*)/,Oe=Oe.$gsub(Ke,""),Te.flags=Oe},-2),M(se,"$read",function(){var Re=this,Oe=I;return q(Re.eof)?"":(Oe=_e("File").$read(Re.path),Re.eof=!0,Re.lineno=Oe.$size(),Oe)}),M(se,"$each_line",function st(Re){var Oe=st.$$p||I,Te=this,Ke=I;if(G["/"]==null&&(G["/"]=I),st.$$p=null,Re==null&&(Re=G["/"]),q(Te.eof))return Oe!==I?Te:[].$to_enum();if(Oe!==I){Ke=_e("File").$read(Te.path),Te.eof=!1,Te.lineno=0;for(var it=Ke.$chomp(),b=Ke.length!=it.length,We=it.split(Re),h=0,Ve=We.length;h<Ve;h++)Te.lineno+=1,h<Ve-1||b?e.yield1(Oe,We[h]+Re):e.yield1(Oe,We[h]);return Te.eof=!0,Te}else return Te.$read().$each_line()},-1),M(se,"$readlines",function(){var Re=this;return _e("File").$readlines(Re.path)}),function(st,Re){var Oe=[st].concat(Re),Te=e.$r(Oe);return M(st,"$readlines",function(it,b){var We=I;return G["/"]==null&&(G["/"]=I),b==null&&(b=G["/"]),We=Te("File").$read(it),We.$split(b)},-2),M(st,"$file?",u(!0)),M(st,"$readable?",u(!0)),M(st,"$read",u(""))}(e.get_singleton_class(se),Ne)}(we[0],null,we),function(ce,m,Ge){var se=U(ce,m,"IO"),Ne=[se].concat(Ge),_e=e.$r(Ne);return R(se,"$read",function(st){return _e("File").$read(st)})}(we[0],null,we)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){var U=e.klass,M=e.send,q=e.def,G=[],u=e.nil;return e.add_stubs("[]="),function(R,we){var I=U(R,we,"MatchData"),ce=I.$$prototype;return ce.matches=u,q(I,"$[]=",function(Ge,se){var Ne,_e=this;return Ne=[Ge,se],M(_e.matches,"[]=",Ne),Ne[Ne.length-1]})}(G[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){var U=e.klass,M=e.truthy,q=e.rb_lt,G=e.def,u=e.alias,R=e.rb_ge,we=e.eqeq,I=e.rb_minus,ce=[],m=e.nil;return e.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(Ge,se){var Ne=U(Ge,se,"String");return M(Ne["$method_defined?"]("limit_bytesize"))||G(Ne,"$limit_bytesize",function(ve){var st=this,Re=m;return M(q(ve,st.$bytes().$length()))?(Re=st.$byteslice(0,ve),Re.$to_s()):st.$to_s()}),M(Ne["$method_defined?"]("limit"))||u(Ne,"limit","limit_bytesize"),u(Ne,"_original_byteslice","byteslice"),G(Ne,"$byteslice",function(ve,st){var Re=this;return st==null&&(st=1),we(ve,3)&&M(R(st,ve))&&M(Re.charCodeAt()===65279)?Re.substr(1).$byteslice(0,I(st,3)):Re.$_original_byteslice(ve,st)},-2),u(Ne,"_original_unpack","unpack"),G(Ne,"$unpack",function(ve){var st=this;if(we(ve,"C3")){if(M(st.charCodeAt()===65279))return[239,187,191];for(var Re=[],Oe=0;Oe<3;Oe++)Oe<st.length?Re.push(st.charCodeAt(Oe)):Re.push(m);return Re}else return st.$_original_unpack(ve)})}(ce[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var U=e.module,M=e.defs,q=e.return_self,G=e.def,u=[];return e.nil,e.add_stubs("extend"),function(R,we){var I=U(R,"URI"),ce=[I].concat(we),m=e.$r(ce);return M(I,"$parse",function(se){return se.$extend(m("URI"))}),G(I,"$path",q)}(u[0],u)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var U=e.module,M=e.defs,q=e.ensure_kwargs,G=e.truthy,u=[],R=e.nil;return e.add_stubs("delete"),function(we){var I=U(we,"Base64"),ce,m;return ce=e.global.btoa||function(Ge){var se;return Ge instanceof Buffer?se=Ge:se=Buffer.from(Ge.toString(),"binary"),se.toString("base64")},m=e.global.atob||function(Ge){return Buffer.from(Ge,"base64").toString("binary")},M(I,"$decode64",function(se){return m(se.replace(/\r?\n/g,""))}),M(I,"$encode64",function(se){return ce(se).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),M(I,"$strict_decode64",function(se){return m(se)}),M(I,"$strict_encode64",function(se){return ce(se)}),M(I,"$urlsafe_decode64",function(se){return m(se.replace(/\-/g,"+").replace(/_/g,"/"))}),M(I,"$urlsafe_encode64",function(se,Ne){var _e,ve=R;return Ne=q(Ne),_e=Ne.$$smap.padding,_e==null&&(_e=!0),ve=ce(se).replace(/\+/g,"-").replace(/\//g,"_"),G(_e)||(ve=ve.$delete("=")),ve},-2)}(u[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){var U=e.klass,M=e.truthy,q=e.rb_gt,G=e.def,u=[],R=e.$r(u);return e.nil,e.add_stubs("coerce_to!,>"),function(we,I,ce){var m=U(we,I,"Number"),Ge=[m].concat(ce),se=e.$r(Ge);return G(m,"$round",function(_e){var ve=this;return _e=se("Opal")["$coerce_to!"](_e,se("Integer"),"to_int"),M(q(_e,0))?Number(ve.toFixed(_e)):Math.round(ve)},-1)}(u[0],R("Numeric"),u)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var U=e.top;e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/opal_ext/kernel"),U.$require("asciidoctor/js/opal_ext/file"),U.$require("asciidoctor/js/opal_ext/match_data"),U.$require("asciidoctor/js/opal_ext/string"),U.$require("asciidoctor/js/opal_ext/uri"),U.$require("asciidoctor/js/opal_ext/base64"),U.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",U.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){var U=e.module,M=e.const_set,q=e.send,G=e.gvars,u=e.truthy,R=e.defs,we=e.rb_plus,I=[],ce=e.nil;return e.add_stubs("gsub,+,unpack_hex_range"),function(m,Ge){var se=U(m,"Asciidoctor"),Ne=[se].concat(Ge),_e=e.$r(Ne);return M(Ne[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),R(se,"$unpack_hex_range",function(st){return q(st,"gsub",[_e("HEX_RANGE_RX")],function(){var Oe,Te=ce;return"\\u"+((Oe=G["~"])===ce?ce:Oe["$[]"](1))+(u(Te=(Oe=G["~"])===ce?ce:Oe["$[]"](2))?"-\\u"+((Oe=G["~"])===ce?ce:Oe["$[]"](2)):Te)})}),M(Ne[0],"P_L",we("A-Za-z",se.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),M(Ne[0],"P_Nl",se.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),M(Ne[0],"P_Nd",we("0-9",se.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),M(Ne[0],"P_Pc",se.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),M(Ne[0],"CC_ALPHA",""+_e("P_L")+_e("P_Nl")),M(Ne[0],"CG_ALPHA","["+_e("CC_ALPHA")+"]"),M(Ne[0],"CC_ALNUM",""+_e("CC_ALPHA")+_e("P_Nd")),M(Ne[0],"CG_ALNUM","["+_e("CC_ALNUM")+"]"),M(Ne[0],"CC_WORD",""+_e("CC_ALNUM")+_e("P_Pc")),M(Ne[0],"CG_WORD","["+_e("CC_WORD")+"]"),M(Ne[0],"CG_BLANK","[ \\t]"),M(Ne[0],"CC_EOL","(?=\\n|$)"),M(Ne[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),M(Ne[0],"CC_ALL","[\\s\\S]"),M(Ne[0],"CC_ANY","[^\\n]")}(I[0],I)},Opal.modules.strscan=function(e){var U=e.klass,M=e.def,q=e.truthy,G=e.eqeqeq,u=e.Opal,R=e.return_ivar,we=e.send,I=e.alias,ce=[],m=e.nil;return e.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(Ge,se,Ne){var _e=U(Ge,se,"StringScanner"),ve=[_e].concat(Ne),st=e.$r(ve),Re=_e.$$prototype;return Re.pos=Re.string=Re.working=Re.matched=Re.prev_pos=Re.match=m,_e.$attr_reader("pos","matched"),M(_e,"$initialize",function(Te){var Ke=this;return Ke.string=Te,Ke.pos=0,Ke.matched=m,Ke.working=Te,Ke.match=[]}),_e.$attr_reader("string"),M(_e,"$beginning_of_line?",function(){var Te=this;return Te.pos===0||Te.string.charAt(Te.pos-1)===`
`}),M(_e,"$scan",function(Te){var Ke=this;Te=Ke.$anchor(Te);var it=Te.exec(Ke.working);return it==null?Ke.matched=m:(Ke.prev_pos=Ke.pos,Ke.pos+=it[0].length,Ke.working=Ke.working.substring(it[0].length),Ke.matched=it[0],Ke.match=it,it[0])}),M(_e,"$scan_until",function(Te){var Ke=this;Te=Ke.$anchor(Te);for(var it=Ke.working,b=0;it.length!=b;++b){var We=Te.exec(it.substr(b));if(We!==null){var h=b+We[0].length,Ve=it.substr(0,h);return Ke.matched=We[0],Ke.match=We,Ke.prev_pos=Ke.pos+b,Ke.pos+=h,Ke.working=it.substr(h),Ve}}return Ke.matched=m}),M(_e,"$[]",function(Te){var Ke=this,it=m;if(q(Ke.match["$empty?"]()))return m;G(st("Symbol"),it=Te)?Te=Te.$to_s():G(st("String"),it)||(Te=u["$coerce_to!"](Te,st("Integer"),"to_int"));var b=Ke.match;return Te<0&&(Te+=b.length),Te<0||Te>=b.length||b[Te]==null?m:b[Te]}),M(_e,"$check",function(Te){var Ke=this;Te=Ke.$anchor(Te);var it=Te.exec(Ke.working);return it==null?Ke.matched=m:Ke.matched=it[0]}),M(_e,"$check_until",function(Te){var Ke=this,it=Ke.prev_pos,b=Ke.pos,We=Ke.working,h=Ke.$scan_until(Te);return Ke.prev_pos=it,Ke.pos=b,Ke.working=We,h}),M(_e,"$peek",function(Te){var Ke=this;return Ke.working.substring(0,Te)}),M(_e,"$eos?",function(){var Te=this;return Te.working.length===0}),M(_e,"$exist?",function(Te){var Ke=this,it=Te.exec(Ke.working);return it==null?m:it.index==0?0:it.index+1}),M(_e,"$skip",function(Te){var Ke=this;Te=Ke.$anchor(Te);var it=Te.exec(Ke.working);if(it==null)return Ke.match=[],Ke.matched=m;var b=it[0],We=b.length;return Ke.matched=b,Ke.match=it,Ke.prev_pos=Ke.pos,Ke.pos+=We,Ke.working=Ke.working.substring(We),We}),M(_e,"$skip_until",function(Te){var Ke=this,it=Ke.$scan_until(Te);return it===m?m:(Ke.matched=it.substr(-1),it.length)}),M(_e,"$get_byte",function(){var Te=this,Ke=m;return Te.pos<Te.string.length?(Te.prev_pos=Te.pos,Te.pos+=1,Ke=Te.matched=Te.working.substring(0,1),Te.working=Te.working.substring(1)):Te.matched=m,Ke}),M(_e,"$match?",function(Te){var Ke=this;Te=Ke.$anchor(Te);var it=Te.exec(Ke.working);return it==null?m:(Ke.prev_pos=Ke.pos,it[0].length)}),M(_e,"$pos=",function(Te){var Ke=this;return Te<0&&(Te+=Ke.string.$length()),Ke.pos=Te,Ke.working=Ke.string.slice(Te)}),M(_e,"$matched_size",function(){var Te=this;return Te.matched===m?m:Te.matched.length}),M(_e,"$post_match",function(){var Te=this;return Te.matched===m?m:Te.string.substr(Te.pos)}),M(_e,"$pre_match",function(){var Te=this;return Te.matched===m?m:Te.string.substr(0,Te.prev_pos)}),M(_e,"$reset",function(){var Te=this;return Te.working=Te.string,Te.matched=m,Te.pos=0}),M(_e,"$rest",R("working")),M(_e,"$rest?",function(){var Te=this;return Te.working.length!==0}),M(_e,"$rest_size",function(){var Te=this;return Te.$rest().$size()}),M(_e,"$terminate",function(){var Te,Ke=this;return Ke.match=m,Te=[Ke.string.$length()],we(Ke,"pos=",Te),Te[Te.length-1]}),M(_e,"$unscan",function(){var Te=this;return Te.pos=Te.prev_pos,Te.prev_pos=m,Te.match=m,Te}),I(_e,"bol?","beginning_of_line?"),I(_e,"getch","get_byte"),_e.$private(),M(_e,"$anchor",function(Te){var Ke=Te.toString().match(/\/([^\/]+)$/);return Ke=Ke?Ke[1]:void 0,new RegExp("^(?:"+Te.source+")",Ke)})}(ce[0],null,ce)},Opal.modules["asciidoctor/js"]=function(e){var U=e.top;return e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/opal_ext"),U.$require("asciidoctor/js/rx"),U.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var U=e.klass,M=e.truthy,q=e.alias,G=[],u=e.nil;return e.add_stubs("method_defined?,nil?,empty?"),function(R,we){var I=U(R,we,"NilClass");return M(I["$method_defined?"]("nil_or_empty?"))?u:q(I,"nil_or_empty?","nil?")}(G[0],null),function(R,we){var I=U(R,we,"String");return M(I["$method_defined?"]("nil_or_empty?"))?u:q(I,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var I=U(R,we,"Array");return M(I["$method_defined?"]("nil_or_empty?"))?u:q(I,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var I=U(R,we,"Hash");return M(I["$method_defined?"]("nil_or_empty?"))?u:q(I,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var I=U(R,we,"Numeric");return M(I["$method_defined?"]("nil_or_empty?"))?u:q(I,"nil_or_empty?","nil?")}(G[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){var U=e.eqeq,M=e.send,q=e.slice,G=e.truthy,u=e.rb_lt,R=e.rb_gt,we=e.send2,I=e.find_super,ce=e.def,m=e.top,Ge=[],se=e.$r(Ge),Ne=e.nil;return e.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),U(se("Hash").$instance_method("merge").$arity(),1)?se("Hash").$send("prepend",M(se("Module"),"new",[],function _e(){var ve=_e.$$s==null?this:_e.$$s;return ce(ve,"$merge",function st(Re){var Oe,Te;st.$$p;var Ke=this,it=Ne;return st.$$p=null,Oe=q(arguments),Te=Oe,G(u(it=Te.$length(),1))?Ke.$dup():G(R(it,1))?M(Te,"inject",[Ke],function(We,h){return We==null&&(We=Ne),h==null&&(h=Ne),We.$merge(h)}):we(Ke,I(Ke,"merge",st,!1,!0),"merge",[Te["$[]"](0)],null)},-1)},{$$s:m})):Ne},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var U=e.truthy,M=e.klass,q=e.def,G=[],u=e.$r(G),R=e.nil;return e.add_stubs("method_defined?"),U(u("MatchData")["$method_defined?"]("names"))?R:function(we,I){var ce=M(we,I,"MatchData");return q(ce,"$names",function(){return[]})}(G[0],null)},Opal.modules["asciidoctor/core_ext"]=function(e){var U=e.top;return e.nil,U.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),U.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),U.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(e){var U=e.module,M=e.truthy,q=e.eqeq,G=e.gvars,u=e.def,R=e.send,we=e.neqeq,I=e.const_set,ce=e.hash2,m=e.to_ary,Ge=e.rb_times,se=e.eqeqeq,Ne=e.rb_plus,_e=e.Class,ve=e.Object,st=[],Re=e.nil,Oe=e.$$$;return e.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Te,Ke){var it=U(Te,"Asciidoctor"),b=[it].concat(Ke);return function(We,h){var Ve=U(We,"Helpers"),rt=[Ve].concat(h),z=e.$r(rt);return Ve.$module_function(),u(Ve,"$require_library",function(Ee,O,ue){var ie=this,H=Re;G["!"]==null&&(G["!"]=Re),O==null&&(O=!0),ue==null&&(ue="abort");try{return ie.$require(Ee)}catch(J){if(e.rescue(J,[Oe("LoadError")]))try{if(M(ie["$include?"](z("Logging")))||ie.$include(z("Logging")),M(O))switch(q(O,!0)&&(O=Ee),ue){case"abort":H=q(G["!"].$path(),O)?"":" (reason: "+(M(G["!"].$path())?"cannot load '"+G["!"].$path()+"'":G["!"].$message())+")",ie.$raise(Oe("LoadError"),"asciidoctor: FAILED: required gem '"+O+"' is not available"+H+". Processing aborted.");break;case"warn":H=q(G["!"].$path(),O)?"":" (reason: "+(M(G["!"].$path())?"cannot load '"+G["!"].$path()+"'":G["!"].$message())+")",ie.$logger().$warn("optional gem '"+O+"' is not available"+H+". Functionality disabled.");break;default:}else switch(ue){case"abort":ie.$raise(Oe("LoadError"),"asciidoctor: FAILED: "+G["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":ie.$logger().$warn(""+G["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return Re}finally{e.pop_exception()}else throw J}},-2),u(Ve,"$prepare_source_array",function(Ee,O){var ue=Re,ie=Re,H=Re;return O==null&&(O=!0),M(Ee["$empty?"]())?[]:q(ue=(ie=(H=Ee["$[]"](0)).$unpack("C3")).$slice(0,2),z("BOM_BYTES_UTF_16LE"))?(Ee["$[]="](0,H.$byteslice(2,H.$bytesize())),M(O)?R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$rstrip()}):R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$chomp()})):q(ue,z("BOM_BYTES_UTF_16BE"))?(Ee["$[]="](0,H.$byteslice(2,H.$bytesize())),M(O)?R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$rstrip()}):R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$chomp()})):(q(ie,z("BOM_BYTES_UTF_8"))&&Ee["$[]="](0,H.$byteslice(3,H.$bytesize())),q(H.$encoding(),z("UTF_8"))?M(O)?R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$rstrip()}):R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$chomp()}):M(O)?R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8")).$rstrip()}):R(Ee,"map",[],function(F){return F==null&&(F=Re),F.$encode(z("UTF_8")).$chomp()}))},-2),u(Ve,"$prepare_source_string",function(Ee,O){var ue=Re,ie=Re;return O==null&&(O=!0),M(Ee["$nil_or_empty?"]())?[]:(q(ue=(ie=Ee.$unpack("C3")).$slice(0,2),z("BOM_BYTES_UTF_16LE"))?Ee=Ee.$byteslice(2,Ee.$bytesize()).$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")):q(ue,z("BOM_BYTES_UTF_16BE"))?Ee=Ee.$byteslice(2,Ee.$bytesize()).$encode(z("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")):q(ie,z("BOM_BYTES_UTF_8"))?(Ee=Ee.$byteslice(3,Ee.$bytesize()),q(Ee.$encoding(),z("UTF_8"))||(Ee=Ee.$encode(z("UTF_8")))):we(Ee.$encoding(),z("UTF_8"))&&(Ee=Ee.$encode(z("UTF_8"))),M(O)?R([],"tap",[],function(J){return J==null&&(J=Re),R(Ee,"each_line",[],function(E){return E==null&&(E=Re),J["$<<"](E.$rstrip())})}):R([],"tap",[],function(J){return J==null&&(J=Re),R(Ee,"each_line",[],function(E){return E==null&&(E=Re),J["$<<"](E.$chomp())})}))},-2),q(Oe("RUBY_ENGINE"),"jruby")?u(Ve,"$uriish?",function(Ee){var O=Re,ue=Re;return M(O=M(ue=Ee["$include?"](":"))?Ee["$start_with?"]("uri:classloader:")["$!"]():ue)?z("UriSniffRx")["$match?"](Ee):O}):u(Ve,"$uriish?",function(Ee){var O=Re;return M(O=Ee["$include?"](":"))?z("UriSniffRx")["$match?"](Ee):O}),u(Ve,"$encode_uri_component",function(Ee){return encodeURIComponent(Ee).replace(/%20|[!'()*]/g,function(O){return O==="%20"?"+":"%"+O.charCodeAt(0).toString(16)})}),u(Ve,"$encode_spaces_in_uri",function(Ee){return M(Ee["$include?"](" "))?Ee.$gsub(" ","%20"):Ee}),u(Ve,"$rootname",function(Ee){var O=Re;return M(O=Ee.$rindex("."))?M(Ee.$index("/",O))?Ee:Ee.$slice(0,O):Ee}),u(Ve,"$basename",function(Ee,O){var ue=this;return O==null&&(O=Re),M(O)?Oe("File").$basename(Ee,q(O,!0)?ue.$extname(Ee):O):Oe("File").$basename(Ee)},-2),u(Ve,"$extname?",function(Ee){var O=Re,ue=Re;return M(O=ue=Ee.$rindex("."))?Ee.$index("/",ue)["$!"]():O}),M(Oe(Oe("File"),"ALT_SEPARATOR"))?u(Ve,"$extname",function(Ee,O){var ue=Re;return O==null&&(O=""),M(ue=Ee.$rindex("."))?M(Ee.$index("/",ue))||M(Ee.$index(Oe(Oe("File"),"ALT_SEPARATOR"),ue))?O:Ee.$slice(ue,Ee.$length()):O},-2):u(Ve,"$extname",function(Ee,O){var ue=Re;return O==null&&(O=""),M(ue=Ee.$rindex("."))?M(Ee.$index("/",ue))?O:Ee.$slice(ue,Ee.$length()):O},-2),u(Ve,"$mkdir_p",function(Ee){var O=this,ue=Re;if(M(Oe("File")["$directory?"](Ee)))return Re;q(ue=Oe("File").$dirname(Ee),".")||O.$mkdir_p(ue);try{return Oe("Dir").$mkdir(Ee)}catch(ie){if(e.rescue(ie,[Oe("SystemCallError")]))try{return M(Oe("File")["$directory?"](Ee))?Re:O.$raise()}finally{e.pop_exception()}else throw ie}}),I(rt[0],"ROMAN_NUMERALS",ce(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),Ve.$private_constant("ROMAN_NUMERALS"),u(Ve,"$int_to_roman",function(Ee){return R(z("ROMAN_NUMERALS"),"map",[],function(ue,ie){var H,J,F=Re;return ue==null&&(ue=Re),ie==null&&(ie=Re),J=Ee.$divmod(ie),H=m(J),F=H[0]==null?Re:H[0],Ee=H[1]==null?Re:H[1],Ge(ue,F)}).$join()}),u(Ve,"$nextval",function(Ee){var O=Re;return se(Oe("Integer"),Ee)?Ne(Ee,1):q((O=Ee.$to_i()).$to_s(),Ee.$to_s())?Ne(O,1):Ee.$succ()}),u(Ve,"$resolve_class",function(Ee){var O=this;return se(_e,Ee)?Ee:se(Oe("String"),Ee)?O.$class_for_name(Ee):Re}),u(Ve,"$class_for_name",function(Ee){var O=this,ue=Re;try{return se(_e,ue=ve.$const_get(Ee,!1))||O.$raise(),ue}catch(ie){if(e.rescue(ie,[z("StandardError")]))try{return O.$raise(Oe("NameError"),"Could not resolve class for name: "+Ee)}finally{e.pop_exception()}else throw ie}})}(b[0],b)}(st[0],st)},Opal.modules.logger=function(e){var U=e.klass,M=e.module,q=e.const_set,G=e.send,u=e.def,R=e.eqeqeq,we=e.rb_plus,I=e.truthy,ce=e.rb_le,m=e.rb_lt,Ge=[],se=e.nil,Ne=e.$$$;return e.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(_e,ve,st){var Re=U(_e,ve,"Logger"),Oe=[Re].concat(st),Te=e.$r(Oe),Ke=Re.$$prototype;return Ke.level=Ke.progname=Ke.pipe=Ke.formatter=se,function(it,b){var We=M(it,"Severity"),h=[We].concat(b);return q(h[0],"DEBUG",0),q(h[0],"INFO",1),q(h[0],"WARN",2),q(h[0],"ERROR",3),q(h[0],"FATAL",4),q(h[0],"UNKNOWN",5)}(Oe[0],Oe),Re.$include(Te("Severity")),q(Oe[0],"SEVERITY_LABELS",G(Te("Severity").$constants(),"map",[],function(b){return b==null&&(b=se),[Te("Severity").$const_get(b),b.$to_s()]}).$to_h()),function(it,b,We){var h=U(it,b,"Formatter"),Ve=[h].concat(We),rt=e.$r(Ve);return q(Ve[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),q(Ve[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),u(h,"$call",function(k,Ee,O,ue){var ie=this;return ie.$format(rt("MESSAGE_FORMAT"),k.$chr(),Ee.$strftime(rt("DATE_TIME_FORMAT")),k,O,ie.$message_as_string(ue))}),u(h,"$message_as_string",function(k){var Ee=se,O=se;return R(Ne("String"),Ee=k)?k:R(Ne("Exception"),Ee)?we(""+k.$message()+" ("+k.$class()+`)
`,(I(O=k.$backtrace())?O:[]).$join(`
`)):k.$inspect()})}(Oe[0],null,Oe),Re.$attr_reader("level"),Re.$attr_accessor("progname"),Re.$attr_accessor("formatter"),u(Re,"$initialize",function(b){var We=this;return We.pipe=b,We.level=Te("DEBUG"),We.formatter=Te("Formatter").$new()}),u(Re,"$level=",function(b){var We=this,h=se;return R(Ne("Integer"),b)?We.level=b:I(h=Te("SEVERITY_LABELS").$key(b.$to_s().$upcase()))?We.level=h:We.$raise(Te("ArgumentError"),"invalid log level: "+b)}),u(Re,"$info",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("INFO"),se,b],We.$to_proc())},-1),u(Re,"$debug",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("DEBUG"),se,b],We.$to_proc())},-1),u(Re,"$warn",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("WARN"),se,b],We.$to_proc())},-1),u(Re,"$error",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("ERROR"),se,b],We.$to_proc())},-1),u(Re,"$fatal",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("FATAL"),se,b],We.$to_proc())},-1),u(Re,"$unknown",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Te("UNKNOWN"),se,b],We.$to_proc())},-1),u(Re,"$info?",function(){var b=this;return ce(b.level,Te("INFO"))}),u(Re,"$debug?",function(){var b=this;return ce(b.level,Te("DEBUG"))}),u(Re,"$warn?",function(){var b=this;return ce(b.level,Te("WARN"))}),u(Re,"$error?",function(){var b=this;return ce(b.level,Te("ERROR"))}),u(Re,"$fatal?",function(){var b=this;return ce(b.level,Te("FATAL"))}),u(Re,"$add",function it(b,We,h){var Ve=it.$$p||se,rt=this,z=se;return it.$$p=null,We==null&&(We=se),h==null&&(h=se),I(m(b=I(z=b)?z:Te("UNKNOWN"),rt.level))||(h=I(z=h)?z:rt.progname,I(We)||(Ve!==se?We=e.yieldX(Ve,[]):(We=h,h=rt.progname)),rt.pipe.$write(rt.formatter.$call(I(z=Te("SEVERITY_LABELS")["$[]"](b))?z:"ANY",Ne("Time").$now(),h,We))),!0},-2)}(Ge[0],null,Ge)},Opal.modules["asciidoctor/logging"]=function(e){var U=e.module,M=e.klass,q=e.slice,G=e.send2,u=e.find_super,R=e.to_a,we=e.send,I=e.def,ce=e.truthy,m=e.rb_gt,Ge=e.const_set,se=e.hash2,Ne=e.eqeqeq,_e=e.gvars,ve=e.alias,st=e.defs,Re=e.top,Oe=[],Te=e.nil,Ke=e.$$$;return e.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),Re.$require("logger"),function(it,b){var We=U(it,"Asciidoctor"),h=[We].concat(b);return function(Ve,rt,z){var k=M(Ve,rt,"Logger"),Ee=[k].concat(z),O=e.$r(Ee),ue=k.$$prototype;return ue.max_severity=Te,k.$attr_reader("max_severity"),I(k,"$initialize",function ie(H){var J,F,E,x=ie.$$p||Te,B=this;return ie.$$p=null,J=q(arguments),F=J,G(B,u(B,"initialize",ie,!1,!0),"initialize",R(F),x),B["$progname="]("asciidoctor"),B["$formatter="](O("BasicFormatter").$new()),E=[O("WARN")],we(B,"level=",E),E[E.length-1]},-1),I(k,"$add",function ie(H,J,F){var E=ie.$$p||Te,x=this,B=Te;return ie.$$p=null,J==null&&(J=Te),F==null&&(F=Te),ce(m(H=ce(B=H)?B:O("UNKNOWN"),x.max_severity=ce(B=x.max_severity)?B:H))&&(x.max_severity=H),G(x,u(x,"add",ie,!1,!0),"add",[H,J,F],E)},-2),function(ie,H,J){var F=M(ie,H,"BasicFormatter"),E=[F].concat(J),x=e.$r(E);return Ge(E[0],"SEVERITY_LABEL_SUBSTITUTES",se(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),I(F,"$call",function(D,Y,C,l){var t=Te;return""+C+": "+(ce(t=x("SEVERITY_LABEL_SUBSTITUTES")["$[]"](D))?t:D)+": "+(Ne(Ke("String"),l)?l:l.$inspect())+x("LF")})}(Ee[0],O("Formatter"),Ee),function(ie){var H=U(ie,"AutoFormattingMessage");return I(H,"$inspect",function(){var F=this,E=Te;return ce(E=F["$[]"]("source_location"))?""+E+": "+F["$[]"]("text"):F["$[]"]("text")})}(Ee[0])}(h[0],Ke("Logger"),h),function(Ve,rt,z){var k=M(Ve,rt,"MemoryLogger"),Ee=[k].concat(z),O=e.$r(Ee),ue=k.$$prototype;return ue.messages=Te,Ge(Ee[0],"SEVERITY_SYMBOL_BY_VALUE",we(O("Severity").$constants(!1),"map",[],function(H){return H==null&&(H=Te),[O("Severity").$const_get(H),H]}).$to_h()),k.$attr_reader("messages"),I(k,"$initialize",function(){var H=this;return H["$level="](O("WARN")),H.messages=[]}),I(k,"$add",function ie(H,J,F){var E=ie.$$p||Te,x=this,B=Te;return ie.$$p=null,J==null&&(J=Te),F==null&&(F=Te),J=ce(B=J)?B:E!==Te?e.yieldX(E,[]):F,x.messages["$<<"](se(["severity","message"],{severity:O("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ce(B=H)?B:O("UNKNOWN")),message:J})),!0},-2),I(k,"$clear",function(){var H=this;return H.messages.$clear()}),I(k,"$empty?",function(){var H=this;return H.messages["$empty?"]()}),I(k,"$max_severity",function(){var H=this;return ce(H["$empty?"]())?Te:we(H.messages,"map",[],function(F){return F==null&&(F=Te),O("Severity").$const_get(F["$[]"]("severity"))}).$max()})}(h[0],Ke("Logger"),h),function(Ve,rt,z){var k=M(Ve,rt,"NullLogger"),Ee=[k].concat(z),O=e.$r(Ee),ue=k.$$prototype;return ue.max_severity=Te,k.$attr_reader("max_severity"),I(k,"$initialize",function(){var H,J=this;return H=[O("WARN")],we(J,"level=",H),H[H.length-1]}),I(k,"$add",function(H,J,F){var E=this,x=Te;return ce(m(H=ce(x=H)?x:O("UNKNOWN"),E.max_severity=ce(x=E.max_severity)?x:H))&&(E.max_severity=H),!0},-2)}(h[0],Ke("Logger"),h),function(Ve,rt){var z=U(Ve,"LoggerManager"),k=[z].concat(rt),Ee=e.$r(k);return z.logger_class=Ee("Logger"),function(O,ue){return O.$attr_accessor("logger_class"),I(O,"$logger",function(H){var J=this,F=Te;return J.logger==null&&(J.logger=Te),J.logger_class==null&&(J.logger_class=Te),_e.stderr==null&&(_e.stderr=Te),H==null&&(H=_e.stderr),J.$memoize_logger(),J.logger=ce(F=J.logger)?F:J.logger_class.$new(H)},-1),I(O,"$logger=",function(H){var J=this,F=Te;return J.logger_class==null&&(J.logger_class=Te),_e.stderr==null&&(_e.stderr=Te),J.logger=ce(F=H)?F:J.logger_class.$new(_e.stderr)}),O.$private(),I(O,"$memoize_logger",function(){var H=this;return function(J,F){return ve(J,"logger","logger"),J.$attr_reader("logger")}(e.get_singleton_class(H))})}(e.get_singleton_class(z))}(h[0],h),function(Ve,rt){var z=U(Ve,"Logging"),k=[z].concat(rt),Ee=e.$r(k);return st(z,"$included",function(ue){return ue.$extend(Ee("Logging"))}),z.$private_class_method("included"),I(z,"$logger",function(){return Ee("LoggerManager").$logger()}),I(z,"$message_with_context",function(ue,ie){return ie==null&&(ie=se([],{})),se(["text"],{text:ue}).$merge(ie).$extend(Ke(Ee("Logger"),"AutoFormattingMessage"))},-2)}(h[0],h)}(Oe[0],Oe)},Opal.modules["asciidoctor/rx"]=function(e){var U=e.module,M=e.const_set,q=e.regexp,G=e.hash2,u=e.send,R=e.truthy,we=e.hash,I=[],ce=e.nil,m=e.$$$;return e.add_stubs("join,to_a,new,[]=,empty?,escape"),function(Ge,se){var Ne=U(Ge,"Asciidoctor"),_e=[Ne].concat(se),ve=e.$r(_e);return U(_e[0],"Rx"),M(_e[0],"AuthorInfoLineRx",q(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*)(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),M(_e[0],"AuthorDelimiterRx",/;(?: |$)/),M(_e[0],"RevisionInfoLineRx",q(["^(?:[^\\d{]*(",ve("CC_ANY"),"*?),)? *(?!:)(",ve("CC_ANY"),"*?)(?: *(?!^),?: *(",ve("CC_ANY"),"*))?$"])),M(_e[0],"ManpageTitleVolnumRx",q(["^(",ve("CC_ANY"),"+?) *\\( *(",ve("CC_ANY"),"+?) *\\)$"])),M(_e[0],"ManpageNamePurposeRx",q(["^(",ve("CC_ANY"),"+?) +- +(",ve("CC_ANY"),"+)$"])),M(_e[0],"ConditionalDirectiveRx",q(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",ve("CC_ANY"),"+)?\\]$"])),M(_e[0],"EvalExpressionRx",q(["^(",ve("CC_ANY"),"+?) *([=!><]=|[><]) *(",ve("CC_ANY"),"+)$"])),M(_e[0],"IncludeDirectiveRx",q(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",ve("CC_ANY"),"+)?\\]$"])),M(_e[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),M(_e[0],"AttributeEntryRx",q(["^:(!?",ve("CG_WORD"),"[^:]*):(?:[ \\t]+(",ve("CC_ANY"),"*))?$"])),M(_e[0],"InvalidAttributeNameCharsRx",q(["[^",ve("CC_WORD"),"-]"])),M(_e[0],"AttributeEntryPassMacroRx",q(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*)\\]$"])),M(_e[0],"AttributeReferenceRx",q(["(\\\\)?\\{(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*|(set|counter2?):",ve("CC_ANY"),"+?)(\\\\)?\\}"])),M(_e[0],"BlockAnchorRx",q(["^\\[\\[(?:|([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?)\\]\\]$"])),M(_e[0],"BlockAttributeListRx",q(["^\\[(|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*)\\]$"])),M(_e[0],"BlockAttributeLineRx",q(["^\\[(?:|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*|\\[(?:|[",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*(?:, *",ve("CC_ANY"),"+)?)\\])\\]$"])),M(_e[0],"BlockTitleRx",q(["^\\.(\\.?[^ \\t.]",ve("CC_ANY"),"*)$"])),M(_e[0],"AdmonitionParagraphRx",q(["^(",ve("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),M(_e[0],"LiteralParagraphRx",q(["^([ \\t]+",ve("CC_ANY"),"*)$"])),M(_e[0],"AtxSectionTitleRx",q(["^(=={0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),M(_e[0],"ExtAtxSectionTitleRx",q(["^(=={0,5}|#\\#{0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),M(_e[0],"SetextSectionTitleRx",q(["^((?!\\.)",ve("CC_ANY"),"*?",ve("CG_ALNUM"),ve("CC_ANY"),"*)$"])),M(_e[0],"InlineSectionAnchorRx",q([" (\\\\)?\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?\\]\\]$"])),M(_e[0],"InvalidSectionIdCharsRx",q(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",ve("CC_WORD"),"\\-.]+?"])),M(_e[0],"SectionLevelStyleRx",/^sect\d$/),M(_e[0],"AnyListRx",q(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",ve("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),M(_e[0],"UnorderedListRx",q(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",ve("CC_ANY"),"*)$"])),M(_e[0],"OrderedListRx",q(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",ve("CC_ANY"),"*)$"])),M(_e[0],"OrderedListMarkerRxMap",G(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),M(_e[0],"DescriptionListRx",q(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])),M(_e[0],"DescriptionListSiblingRx",G(["::",":::","::::",";;"],{"::":q(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),":::":q(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),"::::":q(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),";;":q(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])})),M(_e[0],"CalloutListRx",q(["^<(\\d+|\\.)>[ \\t]+(",ve("CC_ANY"),"*)$"])),M(_e[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),M(_e[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),M(_e[0],"CalloutExtractRxMap",u(m("Hash"),"new",[],function(Re,Oe){var Te;return Re==null&&(Re=ce),Oe==null&&(Oe=ce),Te=[Oe,q(["(",R(Oe["$empty?"]())?"":""+m("Regexp").$escape(Oe)+" ?",")?",ve("CalloutExtractRxt")])],u(Re,"[]=",Te),Te[Te.length-1]})),M(_e[0],"CalloutScanRx",q(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",ve("CC_EOL"),")"])),M(_e[0],"CalloutSourceRx",q(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",ve("CC_EOL"),")"])),M(_e[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+ve("CC_EOL")+")"),M(_e[0],"CalloutSourceRxMap",u(m("Hash"),"new",[],function(Re,Oe){var Te;return Re==null&&(Re=ce),Oe==null&&(Oe=ce),Te=[Oe,q(["(",R(Oe["$empty?"]())?"":""+m("Regexp").$escape(Oe)+" ?",")?",ve("CalloutSourceRxt")])],u(Re,"[]=",Te),Te[Te.length-1]})),M(_e[0],"ListRxMap",G(["ulist","olist","dlist","colist"],{ulist:ve("UnorderedListRx"),olist:ve("OrderedListRx"),dlist:ve("DescriptionListRx"),colist:ve("CalloutListRx")})),M(_e[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),M(_e[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),M(_e[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),M(_e[0],"CustomBlockMacroRx",q(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*)::(|\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),M(_e[0],"BlockMediaMacroRx",q(["^(image|video|audio)::(\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),M(_e[0],"BlockTocMacroRx",q(["^toc::\\[(",ve("CC_ANY"),"+)?\\]$"])),M(_e[0],"InlineAnchorRx",q(["(\\\\)?(?:\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\]))"])),M(_e[0],"InlineAnchorScanRx",q(["(?:^|[^\\\\\\[])\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\])"])),M(_e[0],"LeadingInlineAnchorRx",q(["^\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]"])),M(_e[0],"InlineBiblioAnchorRx",q(["^\\[\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]\\]"])),M(_e[0],"InlineEmailRx",q(["([\\\\>:/])?",ve("CG_WORD"),"(?:&amp;|[",ve("CC_WORD"),"\\-.%+])*@",ve("CG_ALNUM"),"[",ve("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),M(_e[0],"InlineFootnoteMacroRx",q(["\\\\?footnote(?:(ref):|:([",ve("CC_WORD"),"-]+)?)\\[(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),M(_e[0],"InlineImageMacroRx",q(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),M(_e[0],"InlineIndextermMacroRx",q(["\\\\?(?:(indexterm2?):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",ve("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),M(_e[0],"InlineKbdBtnMacroRx",q(["(\\\\)?(kbd|btn):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),M(_e[0],"InlineLinkRx",q(["(^|link:|",ve("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,ve("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),M(_e[0],"InlineLinkMacroRx",q(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),M(_e[0],"MacroNameRx",q(["^",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*$"])),M(_e[0],"InlineStemMacroRx",q(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),M(_e[0],"InlineMenuMacroRx",q(["\\\\?menu:(",ve("CG_WORD"),"|[",ve("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\]"],"m")),M(_e[0],"InlineMenuRx",q(['\\\\?"([',ve("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),M(_e[0],"InlinePassRx",we(!1,["+","-]",q(["((?:^|[^",ve("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",ve("CC_ALL"),"*?\\S)\\7)(?!",ve("CG_WORD"),")"],"m")],!0,["`",ce,q(["(^|[^`",ve("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",ve("CC_ALL"),"*?\\S)\\7)(?![`",ve("CC_WORD"),"])"],"m")])),M(_e[0],"InlinePassMacroRx",q(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",ve("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",ve("CC_ALL"),"*?[^\\\\])\\])"],"m")),M(_e[0],"InlineXrefMacroRx",q(["\\\\?(?:&lt;&lt;([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)&gt;&gt;|xref:([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)\\[(?:\\]|(",ve("CC_ALL"),"*?[^\\\\])\\]))"],"m")),M(_e[0],"HardLineBreakRx",q(["^(",ve("CC_ANY"),"*) \\+$"],"m")),M(_e[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),M(_e[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),M(_e[0],"BlankLineRx",/\n{2,}/),M(_e[0],"EscapedSpaceRx",/\\([ \t\n])/),M(_e[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),M(_e[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),M(_e[0],"SubModifierSniffRx",/[+-]/),M(_e[0],"TrailingDigitsRx",/\d+$/),M(_e[0],"UriSniffRx",q(["^",ve("CG_ALPHA"),"[",ve("CC_ALNUM"),".+-]+:/{0,2}"])),M(_e[0],"XmlSanitizeRx",/<[^>]+>/)}(I[0],I)},Opal.modules["asciidoctor/substitutors"]=function(e){var U=e.module,M=e.const_set,q=e.hash2,G=e.hash,u=e.rb_plus,R=e.regexp,we=e.not,I=e.truthy,ce=e.send,m=e.def,Ge=e.alias,se=e.gvars,Ne=e.eqeq,_e=e.to_ary,ve=e.neqeq,st=e.to_a,Re=e.eqeqeq,Oe=e.rb_gt,Te=e.slice,Ke=e.rb_minus,it=e.rb_lt,b=e.rb_times,We=[],h=e.nil,Ve=e.$$$;return e.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(rt,z){var k=U(rt,"Asciidoctor"),Ee=[k].concat(z);return function(O,ue){var ie=U(O,"Substitutors"),H=[ie].concat(ue),J=e.$r(H);return M(H[0],"SpecialCharsRx",/[<&>]/),M(H[0],"SpecialCharsTr",q([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),M(H[0],"QuotedTextSniffRx",G(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),M(H[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),M(H[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),M(H[0],"NO_SUBS",[]).$freeze(),M(H[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),M(H[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),M(H[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),M(H[0],"SUB_GROUPS",q(["none","normal","verbatim","specialchars"],{none:J("NO_SUBS"),normal:J("NORMAL_SUBS"),verbatim:J("VERBATIM_SUBS"),specialchars:J("BASIC_SUBS")})),M(H[0],"SUB_HINTS",q(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),M(H[0],"SUB_OPTIONS",q(["block","inline"],{block:u(u(J("SUB_GROUPS").$keys(),J("NORMAL_SUBS")),["callouts"]),inline:u(J("SUB_GROUPS").$keys(),J("NORMAL_SUBS"))})),M(H[0],"CAN",""),M(H[0],"DEL",""),M(H[0],"PASS_START",""),M(H[0],"PASS_END",""),M(H[0],"PassSlotRx",R([J("PASS_START"),"(\\d+)",J("PASS_END")])),M(H[0],"HighlightedPassSlotRx",R(["<span\\b[^>]*>",J("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",J("PASS_END"),"</span>"])),M(H[0],"RS","\\"),M(H[0],"R_SB","]"),M(H[0],"ESC_R_SB","\\]"),M(H[0],"PLUS","+"),m(ie,"$apply_subs",function(E,x){var B=this,D=h,Y=h,C=h,l=h;return B.passthroughs==null&&(B.passthroughs=h),B.passthroughs_locked==null&&(B.passthroughs_locked=h),x==null&&(x=J("NORMAL_SUBS")),I(E["$empty?"]())||we(x)?E:(I(D=Ve("Array")["$==="](E))&&(E=I(E["$[]"](1))?E.$join(J("LF")):E["$[]"](0)),I(x["$include?"]("macros"))&&(E=B.$extract_passthroughs(E),I(B.passthroughs["$empty?"]())||(Y=B.passthroughs,B.passthroughs_locked=I(C=B.passthroughs_locked)?C:l=!0)),ce(x,"each",[],function t(a){var v=t.$$s==null?this:t.$$s;switch(a==null&&(a=h),a){case"specialcharacters":return E=v.$sub_specialchars(E);case"quotes":return E=v.$sub_quotes(E);case"attributes":return I(E["$include?"](J("ATTR_REF_HEAD")))?E=v.$sub_attributes(E):h;case"replacements":return E=v.$sub_replacements(E);case"macros":return E=v.$sub_macros(E);case"highlight":return E=v.$highlight_source(E,x["$include?"]("callouts"));case"callouts":return I(x["$include?"]("highlight"))?h:E=v.$sub_callouts(E);case"post_replacements":return E=v.$sub_post_replacements(E);default:return v.$logger().$warn("unknown substitution type "+a)}},{$$s:B}),I(Y)&&(E=B.$restore_passthroughs(E),I(l)&&(Y.$clear(),B.passthroughs_locked=h)),I(D)?E.$split(J("LF"),-1):E)},-2),m(ie,"$apply_normal_subs",function(E){var x=this;return x.$apply_subs(E,J("NORMAL_SUBS"))}),m(ie,"$apply_header_subs",function(E){var x=this;return x.$apply_subs(E,J("HEADER_SUBS"))}),Ge(ie,"apply_title_subs","apply_subs"),m(ie,"$apply_reftext_subs",function(E){var x=this;return x.$apply_subs(E,J("REFTEXT_SUBS"))}),m(ie,"$sub_specialchars",function(E){return I(E["$include?"](">"))||I(E["$include?"]("&"))||I(E["$include?"]("<"))?E.$gsub(J("SpecialCharsRx"),J("SpecialCharsTr")):E}),Ge(ie,"sub_specialcharacters","sub_specialchars"),m(ie,"$sub_quotes",function(E){var x=this,B=h;return x.document==null&&(x.document=h),I(J("QuotedTextSniffRx")["$[]"](B=x.document.$compat_mode())["$match?"](E))&&ce(J("QUOTE_SUBS")["$[]"](B),"each",[],function D(Y,C,l){var t=D.$$s==null?this:D.$$s;return Y==null&&(Y=h),C==null&&(C=h),l==null&&(l=h),E=ce(E,"gsub",[l],function a(){var v=a.$$s==null?this:a.$$s;return se["~"]==null&&(se["~"]=h),v.$convert_quoted_text(se["~"],Y,C)},{$$s:t})},{$$s:x}),E}),m(ie,"$sub_attributes",function(E,x){var B=this,D=h,Y=h,C=h,l=h,t=h,a=h,v=h,_=h;return B.document==null&&(B.document=h),x==null&&(x=q([],{})),D=B.document.$attributes(),Y=C=l=t=a=v=h,E=ce(E,"gsub",[J("AttributeReferenceRx")],function c(){var A,S,K=c.$$s==null?this:c.$$s,j=h,ee=h,he=h,Be=h,Ze=h,$t=h;if(K.document==null&&(K.document=h),Ne((A=se["~"])===h?h:A["$[]"](1),J("RS"))||Ne((A=se["~"])===h?h:A["$[]"](4),J("RS")))return"{"+((A=se["~"])===h?h:A["$[]"](2))+"}";if(I((A=se["~"])===h?h:A["$[]"](3)))switch((j=((A=se["~"])===h?h:A["$[]"](2)).$split(":",3)).$shift()){case"set":return S=J("Parser").$store_attribute(j["$[]"](0),I(ee=j["$[]"](1))?ee:"",K.document),A=_e(S),A[0]==null||A[0],he=A[1]==null?h:A[1],I(he)||ve(a=I(ee=a)?ee:I(Be=D["$[]"]("attribute-undefined"))?Be:J("Compliance").$attribute_undefined(),"drop-line")?Y=t=J("DEL"):Y=C=J("CAN");case"counter2":return ce(K.document,"counter",st(j)),Y=t=J("DEL");default:return ce(K.document,"counter",st(j))}else{if(I(D["$key?"](Ze=((A=se["~"])===h?h:A["$[]"](2)).$downcase())))return D["$[]"](Ze);if(I(he=J("INTRINSIC_ATTRIBUTES")["$[]"](Ze)))return he;switch(v=I(ee=v)?ee:I(Be=I($t=x["$[]"]("attribute_missing"))?$t:D["$[]"]("attribute-missing"))?Be:J("Compliance").$attribute_missing()){case"drop":return Y=t=J("DEL");case"drop-line":return Ne(l=I(ee=l)?ee:I(Be=x["$[]"]("drop_line_severity"))?Be:"info","info")&&ce(K.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+Ze}),Y=C=J("CAN");case"warn":return K.$logger().$warn("skipping reference to missing attribute: "+Ze),(A=se["~"])===h?h:A["$[]"](0);default:return(A=se["~"])===h?h:A["$[]"](0)}}},{$$s:B}),I(Y)?I(t)?(_=E.$squeeze(J("DEL")).$split(J("LF"),-1),I(C)?ce(_,"reject",[],function(A){var S=h,K=h,j=h;return A==null&&(A=h),I(S=I(K=I(j=A["$=="](J("DEL")))?j:A["$=="](J("CAN")))?K:A["$start_with?"](J("CAN")))?S:A["$include?"](J("CAN"))}).$join(J("LF")).$delete(J("DEL")):ce(_,"reject",[],function(A){return A==null&&(A=h),A["$=="](J("DEL"))}).$join(J("LF")).$delete(J("DEL"))):I(E["$include?"](J("LF")))?ce(E.$split(J("LF"),-1),"reject",[],function(A){var S=h,K=h;return A==null&&(A=h),I(S=I(K=A["$=="](J("CAN")))?K:A["$start_with?"](J("CAN")))?S:A["$include?"](J("CAN"))}).$join(J("LF")):"":E},-2),m(ie,"$sub_replacements",function(E){var x=this;return I(J("ReplaceableTextRx")["$match?"](E))&&ce(J("REPLACEMENTS"),"each",[],function B(D,Y,C){var l=B.$$s==null?this:B.$$s;return D==null&&(D=h),Y==null&&(Y=h),C==null&&(C=h),E=ce(E,"gsub",[D],function t(){var a=t.$$s==null?this:t.$$s;return se["~"]==null&&(se["~"]=h),a.$do_replacement(se["~"],Y,C)},{$$s:l})},{$$s:x}),E}),m(ie,"$sub_macros",function(E){var x=this,B=h,D=h,Y=h,C=h,l=h,t=h,a=h,v=h;return x.document==null&&(x.document=h),x.parent==null&&(x.parent=h),x.context==null&&(x.context=h),B=E["$include?"]("["),D=E["$include?"](":"),Y=I(C=B)?D:C,l=I(C=Y)?E["$include?"](":["):C,t=(a=x.document).$attributes(),I(v=a.$extensions())&&I(v["$inline_macros?"]())&&ce(v.$inline_macros(),"each",[],function _(c){var A=_.$$s==null?this:_.$$s;return c==null&&(c=h),E=ce(E,"gsub",[c.$instance().$regexp()],function S(){var K,j,ee=S.$$s==null?this:S.$$s,he=h,Be=h,Ze=h,$t=h,et=h,at=h,ct=h,ft=h,ut=h;return se["~"]==null&&(se["~"]=h),I((he=(K=se["~"])===h?h:K["$[]"](0))["$start_with?"](J("RS")))?((K=se["~"])===h?h:K["$[]"](0)).$slice(1,((K=se["~"])===h?h:K["$[]"](0)).$length()):(I(se["~"].$names()["$empty?"]())?(K=[(j=se["~"])===h?h:j["$[]"](1),(j=se["~"])===h?h:j["$[]"](2)],Be=K[0],Ze=K[1]):(K=[function(){try{return se["~"]["$[]"]("target")}catch(ht){if(e.rescue(ht,[J("StandardError")]))try{return h}finally{e.pop_exception()}else throw ht}}(),function(){try{return se["~"]["$[]"]("content")}catch(ht){if(e.rescue(ht,[J("StandardError")]))try{return h}finally{e.pop_exception()}else throw ht}}()],Be=K[0],Ze=K[1]),$t=I(et=(at=c.$config())["$[]"]("default_attrs"))?et.$merge():q([],{}),I(Ze)&&(I(Ze["$empty?"]())?Ne(at["$[]"]("content_model"),"attributes")||$t["$[]="]("text",Ze):(Ze=ee.$normalize_text(Ze,!0,!0),Ne(at["$[]"]("content_model"),"attributes")?ee.$parse_attributes(Ze,I(C=I(ct=at["$[]"]("positional_attrs"))?ct:at["$[]"]("pos_attrs"))?C:[],q(["into"],{into:$t})):$t["$[]="]("text",Ze)),Be=I(C=Be)?C:Ne(at["$[]"]("format"),"short")?Ze:Be),Re(J("Inline"),ft=c.$process_method()["$[]"](ee,Be,$t))?(I(ut=ft.$attributes().$delete("subs"))&&I(ut=ee.$expand_subs(ut,"custom inline macro"))&&ft["$text="](ee.$apply_subs(ft.$text(),ut)),ft.$convert()):I(ft)?(ce(ee.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+ft.$class()+": "+he}),ft):"")},{$$s:A})},{$$s:x}),I(t["$key?"]("experimental"))&&(I(l)&&(I(E["$include?"]("kbd:"))||I(E["$include?"]("btn:")))&&(E=ce(E,"gsub",[J("InlineKbdBtnMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h;return I((c=se["~"])===h?h:c["$[]"](1))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):Ne((c=se["~"])===h?h:c["$[]"](2),"kbd")?(I((S=((c=se["~"])===h?h:c["$[]"](3)).$strip())["$include?"](J("R_SB")))&&(S=S.$gsub(J("ESC_R_SB"),J("R_SB"))),I(Oe(S.$length(),1))&&I(K=I(K=S.$index(",",1))?[K,S.$index("+",1)].$compact().$min():S.$index("+",1))?(j=S.$slice(K,1),I(S["$end_with?"](j))?(S=ce(S.$chop().$split(j,-1),"map",[],function(he){return he==null&&(he=h),he.$strip()}),S["$[]="](-1,u(S["$[]"](-1),j))):S=ce(S.$split(j),"map",[],function(he){return he==null&&(he=h),he.$strip()})):S=[S],J("Inline").$new(A,"kbd",h,q(["attributes"],{attributes:q(["keys"],{keys:S})})).$convert()):J("Inline").$new(A,"button",A.$normalize_text((c=se["~"])===h?h:c["$[]"](3),!0,!0)).$convert()},{$$s:x})),I(Y)&&I(E["$include?"]("menu:"))&&(E=ce(E,"gsub",[J("InlineMenuMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h,ee=h,he=h;return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(S=(c=se["~"])===h?h:c["$[]"](1),I(K=(c=se["~"])===h?h:c["$[]"](2))?(I(K["$include?"](J("R_SB")))&&(K=K.$gsub(J("ESC_R_SB"),J("R_SB"))),I(j=I(K["$include?"]("&gt;"))?"&gt;":I(K["$include?"](","))?",":h)?(ee=ce(K.$split(j),"map",[],function(Ze){return Ze==null&&(Ze=h),Ze.$strip()}),he=ee.$pop()):(c=[[],K.$rstrip()],ee=c[0],he=c[1])):(c=[[],h],ee=c[0],he=c[1]),J("Inline").$new(A,"menu",h,q(["attributes"],{attributes:q(["menu","submenus","menuitem"],{menu:S,submenus:ee,menuitem:he})})).$convert())},{$$s:x})),I(E["$include?"]('"'))&&I(E["$include?"]("&gt;"))&&(E=ce(E,"gsub",[J("InlineMenuRx")],function _(){var c,A,S,K=_.$$s==null?this:_.$$s,j=h,ee=h,he=h;return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(A=ce(((S=se["~"])===h?h:S["$[]"](1)).$split("&gt;"),"map",[],function(Ze){return Ze==null&&(Ze=h),Ze.$strip()}),c=_e(A),j=c[0]==null?h:c[0],ee=Te(c,1),he=ee.$pop(),J("Inline").$new(K,"menu",h,q(["attributes"],{attributes:q(["menu","submenus","menuitem"],{menu:j,submenus:ee,menuitem:he})})).$convert())},{$$s:x}))),I(Y)&&(I(E["$include?"]("image:"))||I(E["$include?"]("icon:")))&&(E=ce(E,"gsub",[J("InlineImageMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h,ee=h;return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"]("icon:"))?(c=["icon",["size"]],S=c[0],K=c[1]):(c=["image",["alt","width","height"]],S=c[0],K=c[1]),j=(c=se["~"])===h?h:c["$[]"](1),ee=A.$parse_attributes((c=se["~"])===h?h:c["$[]"](2),K,q(["unescape_input"],{unescape_input:!0})),Ne(S,"icon")||(a.$register("images",j),ee["$[]="]("imagesdir",t["$[]"]("imagesdir"))),I(C=ee["$[]"]("alt"))||ee["$[]="]("alt",(c=["default-alt",J("Helpers").$basename(j,!0).$tr("_-"," ")],ce(ee,"[]=",c),c[c.length-1])),J("Inline").$new(A,"image",h,q(["type","target","attributes"],{type:S,target:j,attributes:ee})).$convert())},{$$s:x})),(I(E["$include?"]("(("))&&I(E["$include?"]("))"))||I(l)&&I(E["$include?"]("dexterm")))&&(E=ce(E,"gsub",[J("InlineIndextermMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Be=h,Ze=h,$t=h,et=h,at=h,ct=h,ft=h,ut=h,ht=h,dt=h;switch((c=se["~"])===h?h:c["$[]"](1)){case"indexterm":return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(I((K=S.$normalize_text((c=se["~"])===h?h:c["$[]"](2),!0,!0))["$include?"]("="))?I(j=(ee=J("AttributeList").$new(K,S).$parse())["$[]"](1))?(ee["$[]="]("terms",[j]),I(he=ee["$[]"]("see-also"))&&ee["$[]="]("see-also",I(he["$include?"](","))?ce(he.$split(","),"map",[],function(yt){return yt==null&&(yt=h),yt.$lstrip()}):[he])):ee=q(["terms"],{terms:K}):ee=q(["terms"],{terms:S.$split_simple_csv(K)}),J("Inline").$new(S,"indexterm",h,q(["attributes"],{attributes:ee})).$convert());case"indexterm2":return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(I((Be=S.$normalize_text((c=se["~"])===h?h:c["$[]"](2),!0,!0))["$include?"]("="))&&(Be=I(Ze=I($t=(ee=J("AttributeList").$new(Be,S).$parse())["$[]"](1))?$t:ee=h)?Ze:Be,I(ee)&&I(he=ee["$[]"]("see-also"))&&ee["$[]="]("see-also",I(he["$include?"](","))?ce(he.$split(","),"map",[],function(yt){return yt==null&&(yt=h),yt.$lstrip()}):[he])),J("Inline").$new(S,"indexterm",Be,q(["attributes","type"],{attributes:ee,type:"visible"})).$convert());default:if(et=(c=se["~"])===h?h:c["$[]"](3),I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS"))))if(I(et["$start_with?"]("("))&&I(et["$end_with?"](")")))et=et.$slice(1,Ke(et.$length(),2)),c=[!0,"(",")"],at=c[0],ct=c[1],ft=c[2];else return((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length());else at=!0,I(et["$start_with?"]("("))?I(et["$end_with?"](")"))?(c=[et.$slice(1,Ke(et.$length(),2)),!1],et=c[0],at=c[1]):(c=[et.$slice(1,et.$length()),"(",""],et=c[0],ct=c[1],ft=c[2]):I(et["$end_with?"](")"))&&(c=[et.$chop(),"",")"],et=c[0],ct=c[1],ft=c[2]);return I(at)?(I((Be=S.$normalize_text(et,!0))["$include?"](";&"))&&(I(Be["$include?"](" &gt;&gt; "))?(A=Be.$partition(" &gt;&gt; "),c=_e(A),Be=c[0]==null?h:c[0],c[1]==null||c[1],ut=c[2]==null?h:c[2],ee=q(["see"],{see:ut})):I(Be["$include?"](" &amp;&gt; "))&&(A=Be.$split(" &amp;&gt; "),c=_e(A),Be=c[0]==null?h:c[0],he=Te(c,1),ee=q(["see-also"],{"see-also":he}))),ht=J("Inline").$new(S,"indexterm",Be,q(["attributes","type"],{attributes:ee,type:"visible"})).$convert()):(ee=q([],{}),I((dt=S.$normalize_text(et,!0))["$include?"](";&"))&&(I(dt["$include?"](" &gt;&gt; "))?(A=dt.$partition(" &gt;&gt; "),c=_e(A),dt=c[0]==null?h:c[0],c[1]==null||c[1],ut=c[2]==null?h:c[2],ee["$[]="]("see",ut)):I(dt["$include?"](" &amp;&gt; "))&&(A=dt.$split(" &amp;&gt; "),c=_e(A),dt=c[0]==null?h:c[0],he=Te(c,1),ee["$[]="]("see-also",he))),ee["$[]="]("terms",S.$split_simple_csv(dt)),ht=J("Inline").$new(S,"indexterm",h,q(["attributes"],{attributes:ee})).$convert()),I(ct)?""+ct+ht+ft:ht}},{$$s:x})),I(D)&&I(E["$include?"]("://"))&&(E=ce(E,"gsub",[J("InlineLinkRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Be=h,Ze=h,$t=h,et=h,at=h;if(I((K=u((c=se["~"])===h?h:c["$[]"](2),I(C=(c=se["~"])===h?h:c["$[]"](3))?C:(c=se["~"])===h?h:c["$[]"](5)))["$start_with?"](J("RS"))))return u(((c=se["~"])===h?h:c["$[]"](0)).$slice(0,j=((c=se["~"])===h?h:c["$[]"](1)).$length()),((c=se["~"])===h?h:c["$[]"](0)).$slice(u(j,1),((c=se["~"])===h?h:c["$[]"](0)).$length()));if(c=[(A=se["~"])===h?h:A["$[]"](1),""],ee=c[0],he=c[1],I((c=se["~"])===h?h:c["$[]"](4)))Ne(ee,"link:")&&(ee=""),I((Be=(c=se["~"])===h?h:c["$[]"](4))["$empty?"]())&&(Be=h);else{switch(ee){case"link:":case'"':case"'":return(c=se["~"])===h?h:c["$[]"](0)}switch((c=se["~"])===h?h:c["$[]"](6)){case";":if(I(ee["$start_with?"]("&lt;"))&&I(K["$end_with?"]("&gt;"))?(ee=ee.$slice(4,ee.$length()),K=K.$slice(0,Ke(K.$length(),4))):I((K=K.$chop())["$end_with?"](")"))?(K=K.$chop(),he=");"):he=";",I(K["$end_with?"]("://")))return(c=se["~"])===h?h:c["$[]"](0);break;case":":if(I((K=K.$chop())["$end_with?"](")"))?(K=K.$chop(),he="):"):he=":",I(K["$end_with?"]("://")))return(c=se["~"])===h?h:c["$[]"](0);break}}return c=[h,q(["type"],{type:"link"})],Ze=c[0],$t=c[1],I(Be)?(I(Be["$include?"](J("R_SB")))&&(et=Be=Be.$gsub(J("ESC_R_SB"),J("R_SB"))),we(a.$compat_mode())&&I(Be["$include?"]("="))&&(A=S.$extract_attributes_from_text(Be,""),c=_e(A),Be=c[0]==null?h:c[0],Ze=c[1]==null?h:c[1],et=Be,$t["$[]="]("id",Ze["$[]"]("id"))),I(Be["$end_with?"]("^"))&&(et=Be=Be.$chop(),I(Ze)?I(C=Ze["$[]"]("window"))||Ze["$[]="]("window","_blank"):Ze=q(["window"],{window:"_blank"})),I(et)&&I(et["$empty?"]())&&(Be=I(t["$key?"]("hide-uri-scheme"))?K.$sub(J("UriSniffRx"),""):K,at=!0)):(Be=I(t["$key?"]("hide-uri-scheme"))?K.$sub(J("UriSniffRx"),""):K,at=!0),I(at)&&(I(Ze)?Ze["$[]="]("role",I(Ze["$key?"]("role"))?"bare "+Ze["$[]"]("role"):"bare"):Ze=q(["role"],{role:"bare"})),a.$register("links",(c=["target",K],ce($t,"[]=",c),c[c.length-1])),I(Ze)&&$t["$[]="]("attributes",Ze),""+ee+J("Inline").$new(S,"anchor",Be,$t).$convert()+he},{$$s:x})),I(Y)&&(I(E["$include?"]("link:"))||I(E["$include?"]("ilto:")))&&(E=ce(E,"gsub",[J("InlineLinkMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Be=h,Ze=h;return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(I(K=(c=se["~"])===h?h:c["$[]"](1))?j=u("mailto:",ee=(c=se["~"])===h?h:c["$[]"](2)):j=(c=se["~"])===h?h:c["$[]"](2),c=[h,q(["type"],{type:"link"})],he=c[0],Be=c[1],I((Ze=(c=se["~"])===h?h:c["$[]"](3))["$empty?"]())||(I(Ze["$include?"](J("R_SB")))&&(Ze=Ze.$gsub(J("ESC_R_SB"),J("R_SB"))),I(K)?we(a.$compat_mode())&&I(Ze["$include?"](","))&&(A=S.$extract_attributes_from_text(Ze,""),c=_e(A),Ze=c[0]==null?h:c[0],he=c[1]==null?h:c[1],Be["$[]="]("id",he["$[]"]("id")),I(he["$key?"](2))&&(I(he["$key?"](3))?j=""+j+"?subject="+J("Helpers").$encode_uri_component(he["$[]"](2))+"&amp;body="+J("Helpers").$encode_uri_component(he["$[]"](3)):j=""+j+"?subject="+J("Helpers").$encode_uri_component(he["$[]"](2)))):we(a.$compat_mode())&&I(Ze["$include?"]("="))&&(A=S.$extract_attributes_from_text(Ze,""),c=_e(A),Ze=c[0]==null?h:c[0],he=c[1]==null?h:c[1],Be["$[]="]("id",he["$[]"]("id"))),I(Ze["$end_with?"]("^"))&&(Ze=Ze.$chop(),I(he)?I(C=he["$[]"]("window"))||he["$[]="]("window","_blank"):he=q(["window"],{window:"_blank"}))),I(Ze["$empty?"]())&&(I(K)?Ze=ee:(I(t["$key?"]("hide-uri-scheme"))?I((Ze=j.$sub(J("UriSniffRx"),""))["$empty?"]())&&(Ze=j):Ze=j,I(he)?he["$[]="]("role",I(he["$key?"]("role"))?"bare "+he["$[]"]("role"):"bare"):he=q(["role"],{role:"bare"}))),a.$register("links",(c=["target",j],ce(Be,"[]=",c),c[c.length-1])),I(he)&&Be["$[]="]("attributes",he),J("Inline").$new(S,"anchor",Ze,Be).$convert())},{$$s:x})),I(E["$include?"]("@"))&&(E=ce(E,"gsub",[J("InlineEmailRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h;return I((c=se["~"])===h?h:c["$[]"](1))?Ne((c=se["~"])===h?h:c["$[]"](1),J("RS"))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(c=se["~"])===h?h:c["$[]"](0):(S=u("mailto:",K=(c=se["~"])===h?h:c["$[]"](0)),a.$register("links",S),J("Inline").$new(A,"anchor",K,q(["type","target"],{type:"link",target:S})).$convert())},{$$s:x})),I(B)&&Ne(x.context,"list_item")&&Ne(x.parent.$style(),"bibliography")&&(E=ce(E,"sub",[J("InlineBiblioAnchorRx")],function _(){var c,A=_.$$s==null?this:_.$$s;return J("Inline").$new(A,"anchor",(c=se["~"])===h?h:c["$[]"](2),q(["type","id"],{type:"bibref",id:(c=se["~"])===h?h:c["$[]"](1)})).$convert()},{$$s:x})),(I(B)&&I(E["$include?"]("[["))||I(Y)&&I(E["$include?"]("or:")))&&(E=ce(E,"gsub",[J("InlineAnchorRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h;return I((c=se["~"])===h?h:c["$[]"](1))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(I(S=(c=se["~"])===h?h:c["$[]"](2))?K=(c=se["~"])===h?h:c["$[]"](3):(S=(c=se["~"])===h?h:c["$[]"](4),I(K=(c=se["~"])===h?h:c["$[]"](5))&&I(K["$include?"](J("R_SB")))&&(K=K.$gsub(J("ESC_R_SB"),J("R_SB")))),J("Inline").$new(A,"anchor",K,q(["type","id"],{type:"ref",id:S})).$convert())},{$$s:x})),(I(E["$include?"]("&"))&&I(E["$include?"](";&l"))||I(Y)&&I(E["$include?"]("xref:")))&&(E=ce(E,"gsub",[J("InlineXrefMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Be=h,Ze=h,$t=h,et=h,at=h,ct=h;return I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(K=q([],{}),I(j=(c=se["~"])===h?h:c["$[]"](1))?I(j["$include?"](","))&&(A=j.$partition(","),c=_e(A),j=c[0]==null?h:c[0],c[1]==null||c[1],ee=c[2]==null?h:c[2],I((ee=ee.$lstrip())["$empty?"]())&&(ee=h)):(he=!0,j=(c=se["~"])===h?h:c["$[]"](2),I(ee=(c=se["~"])===h?h:c["$[]"](3))&&(I(ee["$include?"](J("R_SB")))&&(ee=ee.$gsub(J("ESC_R_SB"),J("R_SB"))),we(a.$compat_mode())&&I(ee["$include?"]("="))&&(A=S.$extract_attributes_from_text(ee),c=_e(A),ee=c[0]==null?h:c[0],K=c[1]==null?h:c[1]))),I(a.$compat_mode())?Be=j:I(Ze=j.$index("#"))&&ve(j["$[]"](Ke(Ze,1)),"&")?I(Oe(Ze,0))?(I(Oe($t=Ke(Ke(j.$length(),1),Ze),0))?(c=[j.$slice(0,Ze),j.$slice(u(Ze,1),$t)],et=c[0],Be=c[1]):et=j.$chop(),I(he)?I(et["$end_with?"](".adoc"))?at=et=et.$slice(0,Ke(et.$length(),5)):we(J("Helpers")["$extname?"](et))&&(at=et):I(ce(et,"end_with?",st(J("ASCIIDOC_EXTENSIONS").$keys())))?at=et=et.$slice(0,et.$rindex(".")):at=et):(c=[j,j.$slice(1,j.$length())],ct=c[0],Be=c[1]):I(he)?I(j["$end_with?"](".adoc"))?at=et=j.$slice(0,Ke(j.$length(),5)):I(J("Helpers")["$extname?"](j))?et=j:Be=j:Be=j,I(ct)?(j=Be,I(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):I(et)?I(at)&&(Ne(a.$attributes()["$[]"]("docname"),et)||I(a.$catalog()["$[]"]("includes")["$[]"](et)))?I(Be)?(c=[Be,h,"#"+Be],j=c[0],et=c[1],ct=c[2],I(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):(c=[h,h,"#"],j=c[0],et=c[1],ct=c[2]):(c=[et,""+(I(C=a.$attributes()["$[]"]("relfileprefix"))?C:"")+et+(I(at)?a.$attributes().$fetch("relfilesuffix",a.$outfilesuffix()):"")],j=c[0],et=c[1],I(Be)?(c=[""+j+"#"+Be,""+et+"#"+Be],j=c[0],ct=c[1]):ct=et):I(a.$compat_mode())||we(J("Compliance").$natural_xrefs())?(c=[Be,"#"+Be],j=c[0],ct=c[1],I(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):I(a.$catalog()["$[]"]("refs")["$[]"](Be))?(c=[Be,"#"+Be],j=c[0],ct=c[1]):(I(Be["$include?"](" "))||ve(Be.$downcase(),Be))&&I(j=a.$resolve_id(Be))?(c=[j,"#"+j],Be=c[0],ct=c[1]):(c=[Be,"#"+Be],j=c[0],ct=c[1],I(S.$logger()["$info?"]())&&S.$logger().$info("possible invalid reference: "+j)),K["$[]="]("path",et),K["$[]="]("fragment",Be),K["$[]="]("refid",j),J("Inline").$new(S,"anchor",ee,q(["type","target","attributes"],{type:"xref",target:ct,attributes:K})).$convert())},{$$s:x})),I(Y)&&I(E["$include?"]("tnote"))&&(E=ce(E,"gsub",[J("InlineFootnoteMacroRx")],function _(){var c,A,S,K=_.$$s==null?this:_.$$s,j=h,ee=h,he=h,Be=h,Ze=h,$t=h;if(I(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](J("RS"))))return((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length());if(I((c=se["~"])===h?h:c["$[]"](1)))if(I((c=se["~"])===h?h:c["$[]"](3)))A=((S=se["~"])===h?h:S["$[]"](3)).$split(",",2),c=_e(A),j=c[0]==null?h:c[0],ee=c[1]==null?h:c[1],I(a.$compat_mode())||K.$logger().$warn("found deprecated footnoteref macro: "+((c=se["~"])===h?h:c["$[]"](0))+"; use footnote macro with target instead");else return(c=se["~"])===h?h:c["$[]"](0);else j=(c=se["~"])===h?h:c["$[]"](2),ee=(c=se["~"])===h?h:c["$[]"](3);if(I(j))I(he=ce(a.$footnotes(),"find",[],function(at){return at==null&&(at=h),at.$id()["$=="](j)}))?(c=[he.$index(),he.$text()],Be=c[0],ee=c[1],c=["xref",j,h],Ze=c[0],$t=c[1],j=c[2]):I(ee)?(ee=K.$restore_passthroughs(K.$normalize_text(ee,!0,!0)),Be=a.$counter("footnote-number"),a.$register("footnotes",Ve(J("Document"),"Footnote").$new(Be,j,ee)),c=["ref",h],Ze=c[0],$t=c[1]):(K.$logger().$warn("invalid footnote reference: "+j),c=["xref",j,j,h],Ze=c[0],$t=c[1],ee=c[2],j=c[3]);else if(I(ee))ee=K.$restore_passthroughs(K.$normalize_text(ee,!0,!0)),Be=a.$counter("footnote-number"),a.$register("footnotes",Ve(J("Document"),"Footnote").$new(Be,j,ee)),Ze=$t=h;else return(c=se["~"])===h?h:c["$[]"](0);return J("Inline").$new(K,"footnote",ee,q(["attributes","id","target","type"],{attributes:q(["index"],{index:Be}),id:j,target:$t,type:Ze})).$convert()},{$$s:x})),E}),m(ie,"$sub_post_replacements",function(E){var x=this,B=h,D=h;return x.document==null&&(x.document=h),x.attributes==null&&(x.attributes=h),I(x.attributes["$[]"]("hardbreaks-option"))||I(x.document.$attributes()["$[]"]("hardbreaks-option"))?(B=E.$split(J("LF"),-1),I(it(B.$size(),2))?E:(D=B.$pop(),ce(B,"map",[],function Y(C){var l=Y.$$s==null?this:Y.$$s;return C==null&&(C=h),J("Inline").$new(l,"break",I(C["$end_with?"](J("HARD_LINE_BREAK")))?C.$slice(0,Ke(C.$length(),2)):C,q(["type"],{type:"line"})).$convert()},{$$s:x})["$<<"](D).$join(J("LF")))):I(E["$include?"](J("PLUS")))&&I(E["$include?"](J("HARD_LINE_BREAK")))?ce(E,"gsub",[J("HardLineBreakRx")],function Y(){var C,l=Y.$$s==null?this:Y.$$s;return J("Inline").$new(l,"break",(C=se["~"])===h?h:C["$[]"](1),q(["type"],{type:"line"})).$convert()},{$$s:x}):E}),m(ie,"$sub_source",function(E,x){var B=this;return I(x)?B.$sub_callouts(B.$sub_specialchars(E)):B.$sub_specialchars(E)}),m(ie,"$sub_callouts",function(E){var x=this,B=h,D=h;return B=I(x["$attr?"]("line-comment"))?J("CalloutSourceRxMap")["$[]"](x.$attr("line-comment")):J("CalloutSourceRx"),D=0,ce(E,"gsub",[B],function Y(){var C,l=Y.$$s==null?this:Y.$$s,t=h;return l.document==null&&(l.document=h),I((C=se["~"])===h?h:C["$[]"](2))?((C=se["~"])===h?h:C["$[]"](0)).$sub(J("RS"),""):J("Inline").$new(l,"callout",Ne((C=se["~"])===h?h:C["$[]"](4),".")?(D=u(D,1)).$to_s():(C=se["~"])===h?h:C["$[]"](4),q(["id","attributes"],{id:l.document.$callouts().$read_next_id(),attributes:q(["guard"],{guard:I(t=(C=se["~"])===h?h:C["$[]"](1))?t:Ne((C=se["~"])===h?h:C["$[]"](3),"--")?["<!--","-->"]:h})})).$convert()},{$$s:x})}),m(ie,"$highlight_source",function(E,x){var B,D,Y=this,C=h,l=h,t=h,a=h,v=h,_=h,c=h,A=h,S=h,K=h;return Y.document==null&&(Y.document=h),Y.passthroughs==null&&(Y.passthroughs=h),I(C=Y.document.$syntax_highlighter())&&I(C["$highlight?"]())?(I(x)&&(D=Y.$extract_callouts(E),B=_e(D),E=B[0]==null?h:B[0],l=B[1]==null?h:B[1]),t=Y.document.$attributes(),a=C.$name(),I(_=I(Y["$attr?"]("linenums"))?(I(c=t["$[]"](""+a+"-linenums-mode"))?c:"table").$to_sym():h)&&I(it(v=Y.$attr("start",1).$to_i(),1))&&(v=1),I(Y["$attr?"]("highlight"))&&(A=Y.$resolve_lines_to_highlight(E,Y.$attr("highlight"),v)),D=C.$highlight(Y,E,Y.$attr("language"),q(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:l,css_mode:(I(c=t["$[]"](""+a+"-css"))?c:"class").$to_sym(),highlight_lines:A,number_lines:_,start_line_number:v,style:t["$[]"](""+a+"-style")})),B=_e(D),S=B[0]==null?h:B[0],K=B[1]==null?h:B[1],I(Y.passthroughs["$empty?"]())||(S=S.$gsub(J("HighlightedPassSlotRx"),""+J("PASS_START")+"\\1"+J("PASS_END"))),I(l["$nil_or_empty?"]())?S:Y.$restore_callouts(S,l,K)):Y.$sub_source(E,x)}),m(ie,"$resolve_lines_to_highlight",function(E,x,B){var D=h,Y=h;return B==null&&(B=h),D=[],I(x["$include?"](" "))&&(x=x.$delete(" ")),ce(I(x["$include?"](","))?x.$split(","):x.$split(";"),"map",[],function(l){var t,a,v=h,_=h,c=h,A=h,S=h;return l==null&&(l=h),I(l["$start_with?"]("!"))&&(l=l.$slice(1,l.$length()),v=!0),I(_=I(l["$include?"](".."))?"..":I(l["$include?"]("-"))?"-":h)?(a=l.$partition(_),t=_e(a),c=t[0]==null?h:t[0],t[1]==null||t[1],A=t[2]==null?h:t[2],(I(A["$empty?"]())||I(it(A=A.$to_i(),0)))&&(A=u(E.$count(J("LF")),1)),I(v)?D=Ke(D,e.Range.$new(c.$to_i(),A,!1).$to_a()):D=D["$|"](e.Range.$new(c.$to_i(),A,!1).$to_a())):I(v)?D.$delete(l.$to_i()):we(D["$include?"](S=l.$to_i()))?D["$<<"](S):h}),Ne(Y=I(B)?Ke(B,1):0,0)||(D=ce(D,"map",[],function(l){return l==null&&(l=h),Ke(l,Y)})),D.$sort()},-3),m(ie,"$extract_passthroughs",function(E){var x,B,D=this,Y=h,C=h,l=h,t=h,a=h;return D.document==null&&(D.document=h),D.passthroughs==null&&(D.passthroughs=h),Y=D.document.$compat_mode(),C=D.passthroughs,(I(E["$include?"]("++"))||I(E["$include?"]("$$"))||I(E["$include?"]("ss:")))&&(E=ce(E,"gsub",[J("InlinePassMacroRx")],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h,ee=h,he=h,Be=h,Ze=h,$t=h;if(I(A=(_=se["~"])===h?h:_["$[]"](4))){if(I(Y)&&Ne(A,"++"))return(I((_=se["~"])===h?h:_["$[]"](2))?""+((_=se["~"])===h?h:_["$[]"](1))+"["+((_=se["~"])===h?h:_["$[]"](2))+"]"+((_=se["~"])===h?h:_["$[]"](3)):""+((_=se["~"])===h?h:_["$[]"](1))+((_=se["~"])===h?h:_["$[]"](3)))+"++"+c.$extract_passthroughs((_=se["~"])===h?h:_["$[]"](5))+"++";if(I(S=(_=se["~"])===h?h:_["$[]"](2))){if(I(Oe(K=((_=se["~"])===h?h:_["$[]"](3)).$length(),0)))return""+((_=se["~"])===h?h:_["$[]"](1))+"["+S+"]"+b(J("RS"),Ke(K,1))+A+((_=se["~"])===h?h:_["$[]"](5))+A;Ne((_=se["~"])===h?h:_["$[]"](1),J("RS"))?j="["+S+"]":Ne(A,"++")?Ne(S,"x-")?(ee=!0,he=q([],{})):I(S["$end_with?"](" x-"))?(ee=!0,he=c.$parse_quoted_text_attributes(S.$slice(0,Ke(S.$length(),3)))):he=c.$parse_quoted_text_attributes(S):he=c.$parse_quoted_text_attributes(S)}else if(I(Oe(K=((_=se["~"])===h?h:_["$[]"](3)).$length(),0)))return""+b(J("RS"),Ke(K,1))+A+((_=se["~"])===h?h:_["$[]"](5))+A;Be=Ne(A,"+++")?[]:J("BASIC_SUBS"),I(he)?I(ee)?C["$[]="](Ze=C.$size(),q(["text","subs","type","attributes"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:J("NORMAL_SUBS"),type:"monospaced",attributes:he})):C["$[]="](Ze=C.$size(),q(["text","subs","type","attributes"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:Be,type:"unquoted",attributes:he})):C["$[]="](Ze=C.$size(),q(["text","subs"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:Be}))}else{if(Ne((_=se["~"])===h?h:_["$[]"](6),J("RS")))return((_=se["~"])===h?h:_["$[]"](0)).$slice(1,((_=se["~"])===h?h:_["$[]"](0)).$length());I(Be=(_=se["~"])===h?h:_["$[]"](7))?C["$[]="](Ze=C.$size(),q(["text","subs"],{text:c.$normalize_text((_=se["~"])===h?h:_["$[]"](8),h,!0),subs:c.$resolve_pass_subs(Be)})):C["$[]="](Ze=C.$size(),q(["text"],{text:c.$normalize_text((_=se["~"])===h?h:_["$[]"](8),h,!0)}))}return""+(I($t=j)?$t:"")+J("PASS_START")+Ze+J("PASS_END")},{$$s:D})),B=J("InlinePassRx")["$[]"](Y),x=_e(B),l=x[0]==null?h:x[0],t=x[1]==null?h:x[1],a=x[2]==null?h:x[2],(I(E["$include?"](l))||I(t)&&I(E["$include?"](t)))&&(E=ce(E,"gsub",[a],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h,ee=h,he=h,Be=h,Ze=h,$t=h,et=h,at=h,ct=h;if(A=(_=se["~"])===h?h:_["$[]"](1),S=I(K=(_=se["~"])===h?h:_["$[]"](4))?K:(_=se["~"])===h?h:_["$[]"](3),I((_=se["~"])===h?h:_["$[]"](5))&&(j=!0),ee=(_=se["~"])===h?h:_["$[]"](6),he=(_=se["~"])===h?h:_["$[]"](7),Be=(_=se["~"])===h?h:_["$[]"](8),I(Y)?Ze=!0:I(S)&&(Ne(S,"x-")||I(S["$end_with?"](" x-")))&&(Ze=$t=!0),I(S)){if(I(j))return""+A+"["+S+"]"+ee.$slice(1,ee.$length());if(Ne(A,J("RS"))){if(I($t)&&Ne(he,"`"))return""+A+"["+S+"]"+ee;A="["+S+"]"}else I($t)?et=Ne(S,"x-")?q([],{}):c.$parse_quoted_text_attributes(S.$slice(0,Ke(S.$length(),3))):et=c.$parse_quoted_text_attributes(S)}else{if(I(j))return""+A+ee.$slice(1,ee.$length());if(I(Y)&&Ne(A,J("RS")))return ee}return I(Y)?C["$[]="](at=C.$size(),q(["text","subs","attributes","type"],{text:Be,subs:J("BASIC_SUBS"),attributes:et,type:"monospaced"})):I(et)?I(Ze)?(ct=Ne(he,"`")?J("BASIC_SUBS"):J("NORMAL_SUBS"),C["$[]="](at=C.$size(),q(["text","subs","attributes","type"],{text:Be,subs:ct,attributes:et,type:"monospaced"}))):C["$[]="](at=C.$size(),q(["text","subs","attributes","type"],{text:Be,subs:J("BASIC_SUBS"),attributes:et,type:"unquoted"})):C["$[]="](at=C.$size(),q(["text","subs"],{text:Be,subs:J("BASIC_SUBS")})),""+A+J("PASS_START")+at+J("PASS_END")},{$$s:D})),I(E["$include?"](":"))&&(I(E["$include?"]("stem:"))||I(E["$include?"]("math:")))&&(E=ce(E,"gsub",[J("InlineStemMacroRx")],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h;return c.document==null&&(c.document=h),I(((_=se["~"])===h?h:_["$[]"](0))["$start_with?"](J("RS")))?((_=se["~"])===h?h:_["$[]"](0)).$slice(1,((_=se["~"])===h?h:_["$[]"](0)).$length()):(Ne(A=((_=se["~"])===h?h:_["$[]"](1)).$to_sym(),"stem")&&(A=J("STEM_TYPE_ALIASES")["$[]"](c.document.$attributes()["$[]"]("stem")).$to_sym()),S=(_=se["~"])===h?h:_["$[]"](2),K=c.$normalize_text((_=se["~"])===h?h:_["$[]"](3),h,!0),Ne(A,"latexmath")&&I(K["$start_with?"]("$"))&&I(K["$end_with?"]("$"))&&(K=K.$slice(1,Ke(K.$length(),2))),S=I(S)?c.$resolve_pass_subs(S):I(c.document["$basebackend?"]("html"))?J("BASIC_SUBS"):h,C["$[]="](j=C.$size(),q(["text","subs","type"],{text:K,subs:S,type:A})),""+J("PASS_START")+j+J("PASS_END"))},{$$s:D})),E}),m(ie,"$restore_passthroughs",function(E){var x=this,B=h;return x.passthroughs==null&&(x.passthroughs=h),B=x.passthroughs,ce(E,"gsub",[J("PassSlotRx")],function D(){var Y,C=D.$$s==null?this:D.$$s,l=h,t=h,a=h,v=h,_=h;return I(l=B["$[]"](((Y=se["~"])===h?h:Y["$[]"](1)).$to_i()))?(t=C.$apply_subs(l["$[]"]("text"),l["$[]"]("subs")),I(a=l["$[]"]("type"))&&(I(v=l["$[]"]("attributes"))&&(_=v["$[]"]("id")),t=J("Inline").$new(C,"quoted",t,q(["type","id","attributes"],{type:a,id:_,attributes:v})).$convert()),I(t["$include?"](J("PASS_START")))?C.$restore_passthroughs(t):t):(C.$logger().$error("unresolved passthrough detected: "+E),"??pass??")},{$$s:x})}),m(ie,"$resolve_subs",function(E,x,B,D){var Y=this,C=h,l=h,t=h,a=h;return x==null&&(x="block"),B==null&&(B=h),D==null&&(D=h),I(E["$nil_or_empty?"]())||(C=h,I(E["$include?"](" "))&&(E=E.$delete(" ")),l=J("SubModifierSniffRx")["$match?"](E),ce(E.$split(","),"each",[],function(_){var c=h,A=h,S=h,K=h,j=h,ee=h;if(_==null&&(_=h),c=h,I(l)&&(Ne(A=_.$chr(),"+")?(c="append",_=_.$slice(1,_.$length())):Ne(A,"-")?(c="remove",_=_.$slice(1,_.$length())):I(_["$end_with?"]("+"))&&(c="prepend",_=_.$chop())),_=_.$to_sym(),Ne(x,"inline")&&(Ne(_,"verbatim")||Ne(_,"v"))?S=J("BASIC_SUBS"):I(J("SUB_GROUPS")["$key?"](_))?S=J("SUB_GROUPS")["$[]"](_):Ne(x,"inline")&&Ne(_.$length(),1)&&I(J("SUB_HINTS")["$key?"](_))?(K=J("SUB_HINTS")["$[]"](_),I(j=J("SUB_GROUPS")["$[]"](K))?S=j:S=[K]):S=[_],I(c))switch(C=I(ee=C)?ee:I(B)?B.$drop(0):[],c){case"append":return C=u(C,S);case"prepend":return C=u(S,C);case"remove":return C=Ke(C,S);default:return h}else return C=I(ee=C)?ee:[],C=u(C,S)}),!I(C))?h:(t=C["$&"](J("SUB_OPTIONS")["$[]"](x)),I(Ke(C,t)["$empty?"]())||(a=Ke(C,t),Y.$logger().$warn("invalid substitution type"+(I(Oe(a.$size(),1))?"s":"")+(I(D)?" for ":"")+D+": "+a.$join(", "))),t)},-2),m(ie,"$resolve_block_subs",function(E,x,B){var D=this;return D.$resolve_subs(E,"block",x,B)}),m(ie,"$resolve_pass_subs",function(E){var x=this;return x.$resolve_subs(E,"inline",h,"passthrough macro")}),m(ie,"$expand_subs",function(E,x){var B=this,D=h,Y=h,C=h;return x==null&&(x=h),Re(Ve("Symbol"),D=E)?Ne(E,"none")?h:I(Y=J("SUB_GROUPS")["$[]"](E))?Y:[E]:Re(Ve("Array"),D)?(C=[],ce(E,"each",[],function(t){var a=h;return t==null&&(t=h),Ne(t,"none")?h:I(a=J("SUB_GROUPS")["$[]"](t))?C=u(C,a):C["$<<"](t)}),I(C["$empty?"]())?h:C):B.$resolve_subs(E,"inline",h,x)},-2),m(ie,"$commit_subs",function(){var E=this,x=h,B=h,D=h,Y=h,C=h;if(E.default_subs==null&&(E.default_subs=h),E.content_model==null&&(E.content_model=h),E.context==null&&(E.context=h),E.subs==null&&(E.subs=h),E.attributes==null&&(E.attributes=h),E.document==null&&(E.document=h),E.style==null&&(E.style=h),!I(x=E.default_subs))switch(E.content_model){case"simple":x=J("NORMAL_SUBS");break;case"verbatim":x=Ne(E.context,"verse")?J("NORMAL_SUBS"):J("VERBATIM_SUBS");break;case"raw":x=Ne(E.context,"stem")?J("BASIC_SUBS"):J("NO_SUBS");break;default:return E.subs}return I(B=E.attributes["$[]"]("subs"))?E.subs=I(D=E.$resolve_block_subs(B,x,E.context))?D:[]:E.subs=x.$drop(0),Ne(E.context,"listing")&&Ne(E.style,"source")&&I(C=E.document.$syntax_highlighter())&&I(C["$highlight?"]())&&I(Y=E.subs.$index("specialcharacters"))&&E.subs["$[]="](Y,"highlight"),h}),m(ie,"$parse_attributes",function(E,x,B){var D=this,Y=h,C=h;return D.document==null&&(D.document=h),x==null&&(x=[]),B==null&&(B=q([],{})),I(I(E)?E["$empty?"]():!0)?q([],{}):(I(B["$[]"]("unescape_input"))&&(E=D.$normalize_text(E,!0,!0)),I(B["$[]"]("sub_input"))&&I(E["$include?"](J("ATTR_REF_HEAD")))&&(E=D.document.$sub_attributes(E)),I(B["$[]"]("sub_result"))&&(Y=D),I(C=B["$[]"]("into"))?J("AttributeList").$new(E,Y).$parse_into(C,x):J("AttributeList").$new(E,Y).$parse(x))},-2),ie.$private(),m(ie,"$extract_attributes_from_text",function(E,x){var B=this,D=h,Y=h,C=h;return x==null&&(x=h),D=I(E["$include?"](J("LF")))?E.$tr(J("LF")," "):E,I(Y=(C=J("AttributeList").$new(D,B).$parse())["$[]"](1))?Ne(Y,D)?[E,C.$clear()]:[Y,C]:[x,C]},-2),m(ie,"$extract_callouts",function(E){var x=this,B=h,D=h,Y=h,C=h,l=h;return B=q([],{}),D=Y=0,C=h,l=I(x["$attr?"]("line-comment"))?J("CalloutExtractRxMap")["$[]"](x.$attr("line-comment")):J("CalloutExtractRx"),E=ce(E.$split(J("LF"),-1),"map",[],function(a){return a==null&&(a=h),Y=u(Y,1),ce(a,"gsub",[l],function(){var _,c=h;return I((_=se["~"])===h?h:_["$[]"](2))?((_=se["~"])===h?h:_["$[]"](0)).$sub(J("RS"),""):((I(c=B["$[]"](Y))?c:(_=[Y,[]],ce(B,"[]=",_),_[_.length-1]))["$<<"]([I(c=(_=se["~"])===h?h:_["$[]"](1))?c:Ne((_=se["~"])===h?h:_["$[]"](3),"--")?["<!--","-->"]:h,Ne((_=se["~"])===h?h:_["$[]"](4),".")?(D=u(D,1)).$to_s():(_=se["~"])===h?h:_["$[]"](4)]),C=Y,"")})}).$join(J("LF")),I(C)?Ne(C,Y)&&(E=""+E+J("LF")):B=h,[E,B]}),m(ie,"$restore_callouts",function(E,x,B){var D=this,Y=h,C=h;return B==null&&(B=h),I(B)?(Y=E.$slice(0,B),E=E.$slice(B,E.$length())):Y="",C=0,u(Y,ce(E.$split(J("LF"),-1),"map",[],function l(t){var a,v,_=l.$$s==null?this:l.$$s,c=h,A=h,S=h;return _.document==null&&(_.document=h),t==null&&(t=h),I(c=x.$delete(C=u(C,1)))?Ne(c.$size(),1)?(v=c["$[]"](0),a=_e(v),A=a[0]==null?h:a[0],S=a[1]==null?h:a[1],""+t+J("Inline").$new(_,"callout",S,q(["id","attributes"],{id:_.document.$callouts().$read_next_id(),attributes:q(["guard"],{guard:A})})).$convert()):""+t+ce(c,"map",[],function K(j,ee){var he=K.$$s==null?this:K.$$s;return he.document==null&&(he.document=h),j==null&&(j=h),ee==null&&(ee=h),J("Inline").$new(he,"callout",ee,q(["id","attributes"],{id:he.document.$callouts().$read_next_id(),attributes:q(["guard"],{guard:j})})).$convert()},{$$s:_}).$join(" "):t},{$$s:D}).$join(J("LF")))},-3),m(ie,"$convert_quoted_text",function(E,x,B){var D=this,Y=h,C=h,l=h,t=h,a=h;if(I(E["$[]"](0)["$start_with?"](J("RS"))))if(Ne(B,"constrained")&&I(Y=E["$[]"](2)))C="["+Y+"]";else return E["$[]"](0).$slice(1,E["$[]"](0).$length());return Ne(B,"constrained")?I(C)?""+C+J("Inline").$new(D,"quoted",E["$[]"](3),q(["type"],{type:x})).$convert():(I(l=E["$[]"](2))&&(t=(a=D.$parse_quoted_text_attributes(l))["$[]"]("id"),Ne(x,"mark")&&(x="unquoted")),""+E["$[]"](1)+J("Inline").$new(D,"quoted",E["$[]"](3),q(["type","id","attributes"],{type:x,id:t,attributes:a})).$convert()):(I(l=E["$[]"](1))&&(t=(a=D.$parse_quoted_text_attributes(l))["$[]"]("id"),Ne(x,"mark")&&(x="unquoted")),J("Inline").$new(D,"quoted",E["$[]"](2),q(["type","id","attributes"],{type:x,id:t,attributes:a})).$convert())}),m(ie,"$do_replacement",function(E,x,B){var D=h;if(I((D=E["$[]"](0))["$include?"](J("RS"))))return D.$sub(J("RS"),"");switch(B){case"none":return x;case"bounding":return u(u(E["$[]"](1),x),E["$[]"](2));default:return u(E["$[]"](1),x)}}),m(ie,"$parse_quoted_text_attributes",function(E){var x,B,D=this,Y=h,C=h,l=h,t=h,a=h;return I(E["$include?"](J("ATTR_REF_HEAD")))&&(E=D.$sub_attributes(E)),I(E["$include?"](","))&&(E=E.$slice(0,E.$index(","))),I((E=E.$strip())["$empty?"]())?q([],{}):I(E["$start_with?"](".","#"))&&I(J("Compliance").$shorthand_property_syntax())?(B=E.$partition("#"),x=_e(B),Y=x[0]==null?h:x[0],x[1]==null||x[1],C=x[2]==null?h:x[2],l=q([],{}),I(C["$empty?"]())?I(Oe(Y.$length(),1))&&l["$[]="]("role",Y.$tr("."," ").$lstrip()):(B=C.$partition("."),x=_e(B),t=x[0]==null?h:x[0],x[1]==null||x[1],a=x[2]==null?h:x[2],I(t["$empty?"]())||l["$[]="]("id",t),I(a["$empty?"]())?I(Oe(Y.$length(),1))&&l["$[]="]("role",Y.$tr("."," ").$lstrip()):I(Oe(Y.$length(),1))?l["$[]="]("role",u(u(Y,"."),a).$tr("."," ").$lstrip()):l["$[]="]("role",a.$tr("."," "))),l):q(["role"],{role:E})}),m(ie,"$normalize_text",function(E,x,B){return x==null&&(x=h),B==null&&(B=h),I(E["$empty?"]())||(I(x)&&(E=E.$strip().$tr(J("LF")," ")),I(B)&&I(E["$include?"](J("R_SB")))&&(E=E.$gsub(J("ESC_R_SB"),J("R_SB")))),E},-2),m(ie,"$split_simple_csv",function(E){var x=h,B=h,D=h;return I(E["$empty?"]())?[]:I(E["$include?"]('"'))?(x=[],B="",D=h,ce(E,"each_char",[],function(C){switch(C==null&&(C=h),C){case",":return I(D)?B=u(B,C):(x["$<<"](B.$strip()),B="");case'"':return D=D["$!"]();default:return B=u(B,C)}}),x["$<<"](B.$strip())):ce(E.$split(","),"map",[],function(C){return C==null&&(C=h),C.$strip()})})}(Ee[0],Ee)}(We[0],We)},Opal.modules["asciidoctor/version"]=function(e){var U=e.module,M=e.const_set,q=[];return e.nil,function(G,u){var R=U(G,"Asciidoctor"),we=[R].concat(u);return M(we[0],"VERSION","2.0.20")}(q[0],q)},Opal.modules["asciidoctor/abstract_node"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.eqeq,u=e.truthy,R=e.def,we=e.send,I=e.rb_minus,ce=e.eqeqeq,m=e.rb_lt,Ge=e.not,se=e.to_ary,Ne=[],_e=e.nil,ve=e.$$$;return e.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(st,Re){var Oe=U(st,"Asciidoctor"),Te=[Oe].concat(Re);return function(Ke,it,b){var We=M(Ke,it,"AbstractNode"),h=[We].concat(b),Ve=e.$r(h),rt=We.$$prototype;return rt.document=rt.attributes=rt.parent=_e,We.$include(Ve("Logging")),We.$include(Ve("Substitutors")),We.$attr_reader("attributes"),We.$attr_reader("context"),We.$attr_reader("document"),We.$attr_accessor("id"),We.$attr_reader("node_name"),We.$attr_reader("parent"),R(We,"$initialize",function(k,Ee,O){var ue=this,ie=_e;return O==null&&(O=q([],{})),G(Ee,"document")?ue.document=ue:u(k)&&(ue.document=(ue.parent=k).$document()),ue.node_name=(ue.context=Ee).$to_s(),ue.attributes=u(ie=O["$[]"]("attributes"))?ie.$merge():q([],{}),ue.passthroughs=[]},-3),R(We,"$block?",function(){var k=this;return k.$raise(ve("NotImplementedError"))}),R(We,"$inline?",function(){var k=this;return k.$raise(ve("NotImplementedError"))}),R(We,"$converter",function(){var k=this;return k.document.$converter()}),R(We,"$parent=",function(k){var Ee,O=this;return Ee=[k,k.$document()],O.parent=Ee[0],O.document=Ee[1],Ee}),R(We,"$attr",function(k,Ee,O){var ue=this,ie=_e,H=_e,J=_e,F=_e;return Ee==null&&(Ee=_e),O==null&&(O=_e),u(ie=ue.attributes["$[]"](k.$to_s()))?ie:u(H=u(J=u(F=O)?ue.parent:F)?ue.document.$attributes()["$[]"]((G(O,!0)?k:O).$to_s()):J)?H:Ee},-2),R(We,"$attr?",function(k,Ee,O){var ue=this,ie=_e;return Ee==null&&(Ee=_e),O==null&&(O=_e),u(Ee)?Ee["$=="](u(ie=ue.attributes["$[]"](k.$to_s()))?ie:u(O)&&u(ue.parent)?ue.document.$attributes()["$[]"]((G(O,!0)?k:O).$to_s()):_e):u(ie=ue.attributes["$key?"](k.$to_s()))?ie:u(O)&&u(ue.parent)?ue.document.$attributes()["$key?"]((G(O,!0)?k:O).$to_s()):!1},-2),R(We,"$set_attr",function(k,Ee,O){var ue=this;return Ee==null&&(Ee=""),O==null&&(O=!0),G(O,!1)&&u(ue.attributes["$key?"](k))?!1:(ue.attributes["$[]="](k,Ee),!0)},-2),R(We,"$remove_attr",function(k){var Ee=this;return Ee.attributes.$delete(k)}),R(We,"$option?",function(k){var Ee=this;return!!u(Ee.attributes["$[]"](""+k+"-option"))}),R(We,"$set_option",function(k){var Ee=this;return Ee.attributes["$[]="](""+k+"-option",""),_e}),R(We,"$enabled_options",function(){var k=this;return we(ve("Set").$new(),"tap",[],function Ee(O){var ue=Ee.$$s==null?this:Ee.$$s;return ue.attributes==null&&(ue.attributes=_e),O==null&&(O=_e),we(ue.attributes,"each_key",[],function(H){return H==null&&(H=_e),u(H.$to_s()["$end_with?"]("-option"))?O["$<<"](H.$slice(0,I(H.$length(),7))):_e})},{$$s:k})}),R(We,"$update_attributes",function(k){var Ee=this;return Ee.attributes.$update(k)}),R(We,"$role",function(){var k=this;return k.attributes["$[]"]("role")}),R(We,"$roles",function(){var k=this,Ee=_e;return u(Ee=k.attributes["$[]"]("role"))?Ee.$split():[]}),R(We,"$role?",function(k){var Ee=this;return k==null&&(k=_e),u(k)?k["$=="](Ee.attributes["$[]"]("role")):Ee.attributes["$key?"]("role")},-1),R(We,"$has_role?",function(k){var Ee=this,O=_e;return u(O=Ee.attributes["$[]"]("role"))?(" "+O+" ")["$include?"](" "+k+" "):!1}),R(We,"$role=",function(k){var Ee,O=this;return Ee=["role",ce(ve("Array"),k)?k.$join(" "):k],we(O.attributes,"[]=",Ee),Ee[Ee.length-1]}),R(We,"$add_role",function(k){var Ee=this,O=_e;return u(O=Ee.attributes["$[]"]("role"))?u((" "+O+" ")["$include?"](" "+k+" "))?!1:(Ee.attributes["$[]="]("role",""+O+" "+k),!0):(Ee.attributes["$[]="]("role",k),!0)}),R(We,"$remove_role",function(k){var Ee=this,O=_e;return u(O=Ee.attributes["$[]"]("role"))&&u((O=O.$split()).$delete(k))?(u(O["$empty?"]())?Ee.attributes.$delete("role"):Ee.attributes["$[]="]("role",O.$join(" ")),!0):!1}),R(We,"$reftext",function(){var k=this,Ee=_e;return u(Ee=k.attributes["$[]"]("reftext"))?k.$apply_reftext_subs(Ee):_e}),R(We,"$reftext?",function(){var k=this;return k.attributes["$key?"]("reftext")}),R(We,"$icon_uri",function(k){var Ee=this,O=_e;return u(Ee["$attr?"]("icon"))?(O=Ee.$attr("icon"),u(Ve("Helpers")["$extname?"](O))||(O=""+O+"."+Ee.document.$attr("icontype","png"))):O=""+k+"."+Ee.document.$attr("icontype","png"),Ee.$image_uri(O,"iconsdir")}),R(We,"$image_uri",function(k,Ee){var O=this,ue=_e,ie=_e;return Ee==null&&(Ee="imagesdir"),u(m((ue=O.document).$safe(),ve(Ve("SafeMode"),"SECURE")))&&u(ue["$attr?"]("data-uri"))?u(Ve("Helpers")["$uriish?"](k))&&u(k=Ve("Helpers").$encode_spaces_in_uri(k))||u(Ee)&&u(ie=ue.$attr(Ee))&&u(Ve("Helpers")["$uriish?"](ie))&&u(k=O.$normalize_web_path(k,ie,!1))?u(ue["$attr?"]("allow-uri-read"))?O.$generate_data_uri_from_uri(k,ue["$attr?"]("cache-uri")):k:O.$generate_data_uri(k,Ee):O.$normalize_web_path(k,u(Ee)?ue.$attr(Ee):_e)},-2),R(We,"$media_uri",function(k,Ee){var O=this;return Ee==null&&(Ee="imagesdir"),O.$normalize_web_path(k,u(Ee)?O.document.$attr(Ee):_e)},-2),R(We,"$generate_data_uri",function(k,Ee){var O=this,ue=_e,ie=_e,H=_e;return Ee==null&&(Ee=_e),u(ue=Ve("Helpers").$extname(k,_e))?ie=G(ue,".svg")?"image/svg+xml":"image/"+ue.$slice(1,ue.$length()):ie="application/octet-stream",u(Ee)?H=O.$normalize_system_path(k,O.document.$attr(Ee),_e,q(["target_name"],{target_name:"image"})):H=O.$normalize_system_path(k),u(ve("File")["$readable?"](H))?"data:"+ie+";base64,"+ve("Base64").$strict_encode64(ve("File").$binread(H)):(O.$logger().$warn("image to embed not found or not readable: "+H),"data:"+ie+";base64,")},-2),R(We,"$generate_data_uri_from_uri",function(k,Ee){var O,ue,ie=this,H=_e,J=_e;Ee==null&&(Ee=!1),u(Ee)?Ve("Helpers").$require_library("open-uri/cached","open-uri-cached"):Ge(Ve("RUBY_ENGINE_OPAL"))&&ve("OpenURI");try{return ue=we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=_e),[E.$content_type(),E.$read()]}),O=se(ue),H=O[0]==null?_e:O[0],J=O[1]==null?_e:O[1],"data:"+H+";base64,"+ve("Base64").$strict_encode64(J)}catch(F){if(e.rescue(F,[Ve("StandardError")]))try{return ie.$logger().$warn("could not retrieve image data from URI: "+k),k}finally{e.pop_exception()}else throw F}},-2),R(We,"$normalize_asset_path",function(k,Ee,O){var ue=this;return Ee==null&&(Ee="path"),O==null&&(O=!0),ue.$normalize_system_path(k,ue.document.$base_dir(),_e,q(["target_name","recover"],{target_name:Ee,recover:O}))},-2),R(We,"$normalize_system_path",function(k,Ee,O,ue){var ie=this,H=_e,J=_e;return Ee==null&&(Ee=_e),O==null&&(O=_e),ue==null&&(ue=q([],{})),u(m((H=ie.document).$safe(),ve(Ve("SafeMode"),"SAFE")))?u(Ee)?u(H.$path_resolver()["$root?"](Ee))||(Ee=ve("File").$join(H.$base_dir(),Ee)):Ee=H.$base_dir():(Ee=u(J=Ee)?J:H.$base_dir(),O=u(J=O)?J:H.$base_dir()),H.$path_resolver().$system_path(k,Ee,O,ue)},-2),R(We,"$normalize_web_path",function(k,Ee,O){var ue=this;return Ee==null&&(Ee=_e),O==null&&(O=!0),u(O)&&u(Ve("Helpers")["$uriish?"](k))?Ve("Helpers").$encode_spaces_in_uri(k):ue.document.$path_resolver().$web_path(k,Ee)},-2),R(We,"$read_asset",function(k,Ee){var O=this,ue=_e;return Ee==null&&(Ee=q([],{})),ce(ve("Hash"),Ee)||(Ee=q(["warn_on_failure"],{warn_on_failure:Ee["$!="](!1)})),u(ve("File")["$readable?"](k))?u(Ee["$[]"]("normalize"))?Ve("Helpers").$prepare_source_string(ve("File").$read(k,q(["mode"],{mode:Ve("FILE_READ_MODE")}))).$join(Ve("LF")):ve("File").$read(k,q(["mode"],{mode:Ve("FILE_READ_MODE")})):(u(Ee["$[]"]("warn_on_failure"))&&O.$logger().$warn(""+(u(ue=O.$attr("docfile"))?ue:"<stdin>")+": "+(u(ue=Ee["$[]"]("label"))?ue:"file")+" does not exist or cannot be read: "+k),_e)},-2),R(We,"$read_contents",function(k,Ee){var O=this,ue=_e,ie=_e,H=_e,J=_e;if(Ee==null&&(Ee=q([],{})),ue=O.document,u(Ve("Helpers")["$uriish?"](k))||u(ie=Ee["$[]"]("start"))&&u(Ve("Helpers")["$uriish?"](ie))&&u(k=ue.$path_resolver().$web_path(k,ie)))if(u(ue["$attr?"]("allow-uri-read"))){u(ue["$attr?"]("cache-uri"))&&Ve("Helpers").$require_library("open-uri/cached","open-uri-cached");try{u(Ee["$[]"]("normalize"))?H=Ve("Helpers").$prepare_source_string(we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=_e),E.$read()})).$join(Ve("LF")):H=we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=_e),E.$read()})}catch(F){if(e.rescue(F,[Ve("StandardError")]))try{u(Ee.$fetch("warn_on_failure",!0))&&O.$logger().$warn("could not retrieve contents of "+(u(J=Ee["$[]"]("label"))?J:"asset")+" at URI: "+k)}finally{e.pop_exception()}else throw F}}else u(Ee.$fetch("warn_on_failure",!0))&&O.$logger().$warn("cannot retrieve contents of "+(u(J=Ee["$[]"]("label"))?J:"asset")+" at URI: "+k+" (allow-uri-read attribute not enabled)");else k=O.$normalize_system_path(k,Ee["$[]"]("start"),_e,q(["target_name"],{target_name:u(J=Ee["$[]"]("label"))?J:"asset"})),H=O.$read_asset(k,q(["normalize","warn_on_failure","label"],{normalize:Ee["$[]"]("normalize"),warn_on_failure:Ee.$fetch("warn_on_failure",!0),label:Ee["$[]"]("label")}));return u(H)&&u(Ee["$[]"]("warn_if_empty"))&&u(H["$empty?"]())&&O.$logger().$warn("contents of "+(u(J=Ee["$[]"]("label"))?J:"asset")+" is empty: "+k),H},-2),R(We,"$is_uri?",function(k){return Ve("Helpers")["$uriish?"](k)})}(Te[0],null,Te)}(Ne[0],Ne)},Opal.modules["asciidoctor/abstract_block"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.send2,u=e.find_super,R=e.eqeq,we=e.eqeqeq,I=e.def,ce=e.return_val,m=e.truthy,Ge=e.alias,se=e.send,Ne=e.rb_plus,_e=e.not,ve=e.neqeq,st=[],Re=e.nil,Oe=e.$$$;return e.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Te,Ke){var it=U(Te,"Asciidoctor"),b=[it].concat(Ke),We=e.$r(b);return function(h,Ve,rt){var z=M(h,Ve,"AbstractBlock"),k=[z].concat(rt),Ee=e.$r(k),O=z.$$prototype;return O.source_location=O.document=O.attributes=O.blocks=O.numeral=O.context=O.parent=O.caption=O.style=O.converted_title=O.title=O.subs=O.next_section_index=O.next_section_ordinal=O.id=O.header=Re,z.$attr_reader("blocks"),z.$attr_writer("caption"),z.$attr_accessor("content_model"),z.$attr_accessor("level"),z.$attr_accessor("numeral"),z.$attr_accessor("source_location"),z.$attr_accessor("style"),z.$attr_reader("subs"),I(z,"$initialize",function ue(ie,H,J){var F=ue.$$p||Re,E=this;return ue.$$p=null,J==null&&(J=q([],{})),G(E,u(E,"initialize",ue,!1,!0),"initialize",[ie,H,J],F),E.content_model="compound",E.blocks=[],E.subs=[],E.id=E.title=E.caption=E.numeral=E.style=E.default_subs=E.source_location=Re,R(H,"document")||R(H,"section")?(E.level=E.next_section_index=0,E.next_section_ordinal=1):we(Ee("AbstractBlock"),ie)?E.level=ie.$level():E.level=Re},-3),I(z,"$block?",ce(!0)),I(z,"$inline?",ce(!1)),I(z,"$file",function(){var ie=this,H=Re;return m(H=ie.source_location)?ie.source_location.$file():H}),I(z,"$lineno",function(){var ie=this,H=Re;return m(H=ie.source_location)?ie.source_location.$lineno():H}),I(z,"$convert",function(){var ie=this;return ie.document.$playback_attributes(ie.attributes),ie.$converter().$convert(ie)}),Ge(z,"render","convert"),I(z,"$content",function(){var ie=this;return se(ie.blocks,"map",[],function(J){return J==null&&(J=Re),J.$convert()}).$join(Ee("LF"))}),I(z,"$context=",function(ie){var H=this;return H.node_name=(H.context=ie).$to_s()}),I(z,"$<<",function(ie){var H=this;return R(ie.$parent(),H)||ie["$parent="](H),H.blocks["$<<"](ie),H}),Ge(z,"append","<<"),I(z,"$blocks?",function(){var ie=this;return!m(ie.blocks["$empty?"]())}),I(z,"$sections?",ce(!1)),I(z,"$number",function(){var ie=this;try{return ie.$Integer(ie.numeral)}catch(H){if(e.rescue(H,[Ee("StandardError")]))try{return ie.numeral}finally{e.pop_exception()}else throw H}}),I(z,"$number=",function(ie){var H=this;return H.numeral=ie.$to_s()}),I(z,"$find_by",function ue(ie){var H=ue.$$p||Re,J=this,F=Re;ue.$$p=null,ie==null&&(ie=q([],{}));try{return se(J,"find_by_internal",[ie,F=[]],H.$to_proc())}catch(E){if(e.rescue(E,[Oe("StopIteration")]))try{return F}finally{e.pop_exception()}else throw E}},-1),Ge(z,"query","find_by"),I(z,"$next_adjacent_block",function(){var ie=this,H=Re,J=Re;return R(ie.context,"document")?Re:R((H=ie.parent).$context(),"dlist")&&R(ie.context,"list_item")?m(J=H.$items()["$[]"](Ne(se(H.$items(),"find_index",[],function F(E,x){var B=F.$$s==null?this:F.$$s,D=Re;return E==null&&(E=Re),x==null&&(x=Re),m(D=E["$include?"](B))?D:x["$=="](B)},{$$s:ie}),1)))?J:H.$next_adjacent_block():m(J=H.$blocks()["$[]"](Ne(H.$blocks().$find_index(ie),1)))?J:H.$next_adjacent_block()}),I(z,"$sections",function(){var ie=this;return se(ie.blocks,"select",[],function(J){return J==null&&(J=Re),J.$context()["$=="]("section")})}),I(z,"$alt",function(){var ie=this,H=Re;return m(H=ie.attributes["$[]"]("alt"))?R(H,ie.attributes["$[]"]("default-alt"))?ie.$sub_specialchars(H):(H=ie.$sub_specialchars(H),m(Ee("ReplaceableTextRx")["$match?"](H))?ie.$sub_replacements(H):H):""}),I(z,"$caption",function(){var ie=this;return R(ie.context,"admonition")?ie.attributes["$[]"]("textlabel"):ie.caption}),I(z,"$captioned_title",function(){var ie=this;return""+ie.caption+ie.$title()}),I(z,"$list_marker_keyword",function(ie){var H=this,J=Re;return ie==null&&(ie=Re),Ee("ORDERED_LIST_KEYWORDS")["$[]"](m(J=ie)?J:H.style)},-1),I(z,"$title",function(){var ie=this,H=Re,J=Re;return ie.converted_title=m(H=ie.converted_title)?H:m(J=ie.title)?ie.$apply_title_subs(ie.title):J}),I(z,"$title?",function(){var ie=this;return!!m(ie.title)}),I(z,"$title=",function(ie){var H=this;return H.converted_title=Re,H.title=ie}),I(z,"$sub?",function(ie){var H=this;return H.subs["$include?"](ie)}),I(z,"$remove_sub",function(ie){var H=this;return H.subs.$delete(ie),Re}),I(z,"$xreftext",function(ie){var H=this,J=Re,F=Re,E=Re,x=Re;if(ie==null&&(ie=Re),m(J=H.$reftext())&&_e(J["$empty?"]()))return J;if(m(ie)&&m(H.title)&&_e(H.caption["$nil_or_empty?"]()))switch(ie){case"full":return F=H.$sub_placeholder(H.$sub_quotes(m(H.document.$compat_mode())?"``%s''":'"`%s`"'),H.$title()),m(H.numeral)&&m(x=Ee("CAPTION_ATTRIBUTE_NAMES")["$[]"](H.context))&&m(E=H.document.$attributes()["$[]"](x))?""+E+" "+H.numeral+", "+F:""+H.caption.$chomp(". ")+", "+F;case"short":return m(H.numeral)&&m(x=Ee("CAPTION_ATTRIBUTE_NAMES")["$[]"](H.context))&&m(E=H.document.$attributes()["$[]"](x))?""+E+" "+H.numeral:H.caption.$chomp(". ");default:return H.$title()}else return H.$title()},-1),I(z,"$assign_caption",function(ie,H){var J=this,F=Re,E=Re,x=Re;return H==null&&(H=J.context),m(J.caption)||_e(J.title)||m(J.caption=m(F=ie)?F:J.document.$attributes()["$[]"]("caption"))||m(x=Ee("CAPTION_ATTRIBUTE_NAMES")["$[]"](H))&&m(E=J.document.$attributes()["$[]"](x))&&(J.caption=""+E+" "+(J.numeral=J.document.$increment_and_store_counter(""+H+"-number",J))+". "),Re},-2),I(z,"$assign_numeral",function(ie){var H,J=this,F=Re,E=Re,x=Re;return J.next_section_index=Ne((H=[J.next_section_index],se(ie,"index=",H),H[H.length-1]),1),m(F=ie.$numbered())&&(R(E=ie.$sectname(),"appendix")?(ie["$numeral="](J.document.$counter("appendix-number","A")),ie["$caption="](m(x=J.document.$attributes()["$[]"]("appendix-caption"))?""+x+" "+ie.$numeral()+": ":""+ie.$numeral()+". ")):R(E,"chapter")||R(F,"chapter")?ie["$numeral="](J.document.$counter("chapter-number",1).$to_s()):(ie["$numeral="](R(E,"part")?Ee("Helpers").$int_to_roman(J.next_section_ordinal):J.next_section_ordinal.$to_s()),J.next_section_ordinal=Ne(J.next_section_ordinal,1))),Re}),I(z,"$reindex_sections",function(){var ie=this;return ie.next_section_index=0,ie.next_section_ordinal=1,se(ie.blocks,"each",[],function H(J){var F=H.$$s==null?this:H.$$s;return J==null&&(J=Re),R(J.$context(),"section")?(F.$assign_numeral(J),J.$reindex_sections()):Re},{$$s:ie})}),z.$protected(),I(z,"$find_by_internal",function ue(ie,H){var J=ue.$$p||Re,F=this,E=Re,x=Re,B=Re,D=Re,Y=Re,C=Re;if(ue.$$p=null,ie==null&&(ie=q([],{})),H==null&&(H=[]),(m(D=m(Y=ie["$[]"]("context"))?Re:!0)||R(Y,F.context))&&(_e(B=ie["$[]"]("style"))||R(B,F.style))&&(_e(x=ie["$[]"]("role"))||m(F["$has_role?"](x)))&&(_e(E=ie["$[]"]("id"))||R(E,F.id)))if(J!==Re)if(m(C=e.yield1(J,F)))switch(C){case"prune":return H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration")),H;case"reject":return m(E)&&F.$raise(Oe("StopIteration")),H;case"stop":F.$raise(Oe("StopIteration"));break;default:H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration"))}else m(E)&&F.$raise(Oe("StopIteration"));else H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration"));switch(F.context){case"document":R(Y,"document")||(m(F["$header?"]())&&(m(D)||R(Y,"section"))&&se(F.header,"find_by_internal",[ie,H],J.$to_proc()),se(F.blocks,"each",[],function(t){return t==null&&(t=Re),R(Y,"section")&&ve(t.$context(),"section")?Re:se(t,"find_by_internal",[ie,H],J.$to_proc())}));break;case"dlist":(m(D)||ve(Y,"section"))&&se(F.blocks.$flatten(),"each",[],function(t){return t==null&&(t=Re),m(t)?se(t,"find_by_internal",[ie,H],J.$to_proc()):Re});break;case"table":m(ie["$[]"]("traverse_documents"))?(se(F.$rows().$head(),"each",[],function(t){return t==null&&(t=Re),se(t,"each",[],function(v){return v==null&&(v=Re),se(v,"find_by_internal",[ie,H],J.$to_proc())})}),R(Y,"inner_document")&&(ie=ie.$merge(q(["context"],{context:"document"}))),se(Ne(F.$rows().$body(),F.$rows().$foot()),"each",[],function(t){return t==null&&(t=Re),se(t,"each",[],function(v){return v==null&&(v=Re),se(v,"find_by_internal",[ie,H],J.$to_proc()),R(v.$style(),"asciidoc")?se(v.$inner_document(),"find_by_internal",[ie,H],J.$to_proc()):Re})})):se(Ne(Ne(F.$rows().$head(),F.$rows().$body()),F.$rows().$foot()),"each",[],function(t){return t==null&&(t=Re),se(t,"each",[],function(v){return v==null&&(v=Re),se(v,"find_by_internal",[ie,H],J.$to_proc())})});break;default:se(F.blocks,"each",[],function(t){return t==null&&(t=Re),R(Y,"section")&&ve(t.$context(),"section")?Re:se(t,"find_by_internal",[ie,H],J.$to_proc())})}return H},-1)}(b[0],We("AbstractNode"),b)}(st[0],st)},Opal.modules["asciidoctor/attribute_list"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.hash,u=e.regexp,R=e.hash2,we=e.def,I=e.truthy,ce=e.rb_plus,m=e.send,Ge=e.defs,se=e.eqeqeq,Ne=e.eqeq,_e=e.rb_times,ve=[],st=e.nil,Re=e.$$$;return e.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(Oe,Te){var Ke=U(Oe,"Asciidoctor"),it=[Ke].concat(Te);return function(b,We,h){var Ve=M(b,We,"AttributeList"),rt=[Ve].concat(h),z=e.$r(rt),k=Ve.$$prototype;return k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=st,q(rt[0],"APOS","'"),q(rt[0],"BACKSLASH","\\"),q(rt[0],"QUOT",'"'),q(rt[0],"BoundaryRx",G(z("QUOT"),/.*?[^\\](?=")/,z("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),q(rt[0],"EscapedQuotes",G(z("QUOT"),'\\"',z("APOS"),"\\'")),q(rt[0],"NameRx",u([z("CG_WORD"),"[",z("CC_WORD"),"\\-.]*"])),q(rt[0],"BlankRx",/[ \t]+/),q(rt[0],"SkipRx",R([","],{",":/[ \t]*(,|$)/})),we(Ve,"$initialize",function(O,ue,ie){var H=this;return ue==null&&(ue=st),ie==null&&(ie=","),H.scanner=Re("StringScanner").$new(O),H.block=ue,H.delimiter=ie,H.delimiter_skip_pattern=z("SkipRx")["$[]"](ie),H.delimiter_boundary_pattern=z("BoundaryRx")["$[]"](ie),H.attributes=st},-2),we(Ve,"$parse_into",function(O,ue){var ie=this;return ue==null&&(ue=[]),O.$update(ie.$parse(ue))},-2),we(Ve,"$parse",function(O){var ue=this,ie=st;if(O==null&&(O=[]),I(ue.attributes))return ue.attributes;for(ue.attributes=R([],{}),ie=0;I(ue.$parse_attribute(ie,O))&&!I(ue.scanner["$eos?"]());)ue.$skip_delimiter(),ie=ce(ie,1);return ue.attributes},-1),we(Ve,"$rekey",function(O){var ue=this;return z("AttributeList").$rekey(ue.attributes,O)}),Ge(Ve,"$rekey",function(O,ue){return m(ue,"each_with_index",[],function(H,J){var F,E=st;return H==null&&(H=st),J==null&&(J=st),I(H)&&I(E=O["$[]"](ce(J,1)))?(F=[H,E],m(O,"[]=",F),F[F.length-1]):st}),O}),Ve.$private(),we(Ve,"$parse_attribute",function(O,ue){var ie=this,H=st,J=st,F=st,E=st,x=st,B=st,D=st,Y=st,C=st,l=st;if(H=!0,ie.$skip_blank(),se(z("QUOT"),J=ie.scanner.$peek(1)))F=ie.$parse_attribute_value(ie.scanner.$get_byte());else if(se(z("APOS"),J))F=ie.$parse_attribute_value(ie.scanner.$get_byte()),I(F["$start_with?"](z("APOS")))||(E=!0);else if(x=I(B=I(D=F=ie.$scan_name())?ie.$skip_blank():D)?B:0,I(ie.scanner["$eos?"]())){if(!(I(F)||I(ie.scanner.$string().$rstrip()["$end_with?"](ie.delimiter))))return st;H=st}else if(Ne(Y=ie.scanner.$get_byte(),ie.delimiter))ie.scanner.$unscan();else if(I(F))if(Ne(Y,"=")){if(ie.$skip_blank(),se(z("QUOT"),B=Y=ie.scanner.$get_byte()))C=ie.$parse_attribute_value(Y);else if(se(z("APOS"),B))C=ie.$parse_attribute_value(Y),I(C["$start_with?"](z("APOS")))||(E=!0);else if(se(ie.delimiter,B))C="",ie.scanner.$unscan();else if(se(st,B))C="";else if(C=""+Y+ie.$scan_to_delimiter(),Ne(C,"None"))return!0}else F=""+F+_e(" ",x)+Y+ie.$scan_to_delimiter();else F=""+Y+ie.$scan_to_delimiter();if(I(C))switch(F){case"options":case"opts":I(C["$include?"](","))?(I(C["$include?"](" "))&&(C=C.$delete(" ")),m(C.$split(","),"each",[],function t(a){var v,_=t.$$s==null?this:t.$$s;return _.attributes==null&&(_.attributes=st),a==null&&(a=st),I(a["$empty?"]())?st:(v=[""+a+"-option",""],m(_.attributes,"[]=",v),v[v.length-1])},{$$s:ie})):I(C["$empty?"]())||ie.attributes["$[]="](""+C+"-option","");break;default:if(I(E)&&I(ie.block))switch(F){case"title":case"reftext":ie.attributes["$[]="](F,C);break;default:ie.attributes["$[]="](F,ie.block.$apply_subs(C))}else ie.attributes["$[]="](F,C)}else I(E)&&I(ie.block)&&(F=ie.block.$apply_subs(F)),I(l=ue["$[]"](O))&&I(F)&&ie.attributes["$[]="](l,F),ie.attributes["$[]="](ce(O,1),F);return H}),we(Ve,"$parse_attribute_value",function(O){var ue=this,ie=st;return Ne(ue.scanner.$peek(1),O)?(ue.scanner.$get_byte(),""):I(ie=ue.$scan_to_quote(O))?(ue.scanner.$get_byte(),I(ie["$include?"](z("BACKSLASH")))?ie.$gsub(z("EscapedQuotes")["$[]"](O),O):ie):""+O+ue.$scan_to_delimiter()}),we(Ve,"$skip_blank",function(){var O=this;return O.scanner.$skip(z("BlankRx"))}),we(Ve,"$skip_delimiter",function(){var O=this;return O.scanner.$skip(O.delimiter_skip_pattern)}),we(Ve,"$scan_name",function(){var O=this;return O.scanner.$scan(z("NameRx"))}),we(Ve,"$scan_to_delimiter",function(){var O=this;return O.scanner.$scan(O.delimiter_boundary_pattern)}),we(Ve,"$scan_to_quote",function(O){var ue=this;return ue.scanner.$scan(z("BoundaryRx")["$[]"](O))})}(it[0],null,it)}(ve[0],ve)},Opal.modules["asciidoctor/block"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.hash2,u=e.alias,R=e.send2,we=e.find_super,I=e.truthy,ce=e.eqeqeq,m=e.def,Ge=e.rb_lt,se=e.eqeq,Ne=[],_e=e.nil,ve=e.$$$;return e.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(st,Re){var Oe=U(st,"Asciidoctor"),Te=[Oe].concat(Re),Ke=e.$r(Te);return function(it,b,We){var h=M(it,b,"Block"),Ve=[h].concat(We),rt=e.$r(Ve),z=h.$$prototype;return z.attributes=z.content_model=z.lines=z.subs=z.blocks=z.context=z.style=_e,q(Ve[0],"DEFAULT_CONTENT_MODEL",G(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),u(h,"blockname","context"),h.$attr_accessor("lines"),m(h,"$initialize",function k(Ee,O,ue){var ie=k.$$p||_e,H=this,J=_e,F=_e,E=_e;return k.$$p=null,ue==null&&(ue=G([],{})),R(H,we(H,"initialize",k,!1,!0),"initialize",[Ee,O,ue],ie),H.content_model=I(J=ue["$[]"]("content_model"))?J:rt("DEFAULT_CONTENT_MODEL")["$[]"](O),I(ue["$key?"]("subs"))?I(F=ue["$[]"]("subs"))?(ce("default",J=F)?H.default_subs=ue["$[]"]("default_subs"):ce(ve("Array"),J)?(H.default_subs=F.$drop(0),H.attributes.$delete("subs")):(H.default_subs=_e,H.attributes["$[]="]("subs",F.$to_s())),H.$commit_subs()):(H.default_subs=[],H.attributes.$delete("subs")):H.default_subs=_e,I((E=ue["$[]"]("source"))["$nil_or_empty?"]())?H.lines=[]:ce(ve("String"),E)?H.lines=rt("Helpers").$prepare_source_string(E):H.lines=E.$drop(0)},-3),m(h,"$content",function k(){var Ee=k.$$p||_e,O=this,ue=_e,ie=_e,H=_e,J=_e;switch(k.$$p=null,O.content_model){case"compound":return R(O,we(O,"content",k,!1,!0),"content",[],Ee);case"simple":return O.$apply_subs(O.lines.$join(rt("LF")),O.subs);case"verbatim":case"raw":if(ue=O.$apply_subs(O.lines,O.subs),I(Ge(ue.$size(),2)))return I(ie=ue["$[]"](0))?ie:"";for(;I(I(ie=H=ue["$[]"](0))?H.$rstrip()["$empty?"]():ie);)ue.$shift();for(;I(I(ie=J=ue["$[]"](-1))?J.$rstrip()["$empty?"]():ie);)ue.$pop();return ue.$join(rt("LF"));default:return se(O.content_model,"empty")||O.$logger().$warn("unknown content model '"+O.content_model+"' for block: "+O),_e}}),m(h,"$source",function(){var Ee=this;return Ee.lines.$join(rt("LF"))}),m(h,"$to_s",function(){var Ee=this,O=_e;return O=se(Ee.content_model,"compound")?"blocks: "+Ee.blocks.$size():"lines: "+Ee.lines.$size(),"#<"+Ee.$class()+"@"+Ee.$object_id()+" {context: "+Ee.context.$inspect()+", content_model: "+Ee.content_model.$inspect()+", style: "+Ee.style.$inspect()+", "+O+"}>"})}(Te[0],Ke("AbstractBlock"),Te)}(Ne[0],Ne)},Opal.modules["asciidoctor/callouts"]=function(e){var U=e.module,M=e.klass,q=e.def,G=e.hash2,u=e.rb_plus,R=e.truthy,we=e.rb_le,I=e.rb_minus,ce=e.send,m=e.eqeq,Ge=e.rb_lt,se=[],Ne=e.nil;return e.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(_e,ve){var st=U(_e,"Asciidoctor"),Re=[st].concat(ve);return function(Oe,Te){var Ke=M(Oe,Te,"Callouts"),it=Ke.$$prototype;return it.co_index=it.lists=it.list_index=Ne,q(Ke,"$initialize",function(){var We=this;return We.lists=[],We.list_index=0,We.$next_list()}),q(Ke,"$register",function(We){var h=this,Ve=Ne;return h.$current_list()["$<<"](G(["ordinal","id"],{ordinal:We.$to_i(),id:Ve=h.$generate_next_callout_id()})),h.co_index=u(h.co_index,1),Ve}),q(Ke,"$read_next_id",function(){var We=this,h=Ne,Ve=Ne;return h=Ne,Ve=We.$current_list(),R(we(We.co_index,Ve.$size()))&&(h=Ve["$[]"](I(We.co_index,1))["$[]"]("id")),We.co_index=u(We.co_index,1),h}),q(Ke,"$callout_ids",function(We){var h=this;return ce(h.$current_list(),"map",[],function(rt){return rt==null&&(rt=Ne),m(rt["$[]"]("ordinal"),We)?""+rt["$[]"]("id")+" ":""}).$join().$chop()}),q(Ke,"$current_list",function(){var We=this;return We.lists["$[]"](I(We.list_index,1))}),q(Ke,"$next_list",function(){var We=this;return We.list_index=u(We.list_index,1),R(Ge(We.lists.$size(),We.list_index))&&We.lists["$<<"]([]),We.co_index=1,Ne}),q(Ke,"$rewind",function(){var We=this;return We.list_index=1,We.co_index=1,Ne}),Ke.$private(),q(Ke,"$generate_next_callout_id",function(){var We=this;return We.$generate_callout_id(We.list_index,We.co_index)}),q(Ke,"$generate_callout_id",function(We,h){return"CO"+We+"-"+h})}(Re[0],null)}(se[0],se)},Opal.modules["asciidoctor/converter/composite"]=function(e){var U=e.module,M=e.klass,q=e.slice,G=e.extract_kwargs,u=e.ensure_kwargs,R=e.send,we=e.truthy,I=e.def,ce=e.thrower,m=[],Ge=e.nil,se=e.$$$;return e.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Ne,_e){var ve=U(Ne,"Asciidoctor"),st=[ve].concat(_e),Re=e.$r(st);return function(Oe,Te){var Ke=M(Oe,Te,"CompositeConverter"),it=Ke.$$prototype;return it.converter_cache=it.converters=Ge,Ke.$attr_reader("converters"),I(Ke,"$initialize",function(We,h,Ve){var rt,z,k,Ee,O=this;return rt=q(arguments,1),z=G(rt),z=u(z),k=rt,Ee=z.$$smap.backend_traits_source,Ee==null&&(Ee=Ge),O.backend=We,R(O.converters=k,"each",[],function ue(ie){var H=ue.$$s==null?this:ue.$$s;return ie==null&&(ie=Ge),we(ie["$respond_to?"]("composed"))?ie.$composed(H):Ge},{$$s:O}),we(Ee)&&O.$init_backend_traits(Ee.$backend_traits()),O.converter_cache=R(se("Hash"),"new",[],function ue(ie,H){var J,F=ue.$$s==null?this:ue.$$s;return ie==null&&(ie=Ge),H==null&&(H=Ge),J=[H,F.$find_converter(H)],R(ie,"[]=",J),J[J.length-1]},{$$s:O})},-2),I(Ke,"$convert",function(We,h,Ve){var rt=this,z=Ge;return h==null&&(h=Ge),Ve==null&&(Ve=Ge),rt.$converter_for(h=we(z=h)?z:We.$node_name()).$convert(We,h,Ve)},-2),I(Ke,"$converter_for",function(We){var h=this;return h.converter_cache["$[]"](We)}),I(Ke,"$find_converter",function(We){try{var h=ce("return"),Ve=this;return R(Ve.converters,"each",[],function(z){if(z==null&&(z=Ge),we(z["$handles?"](We)))h.$throw(z);else return Ge},{$$ret:h}),Ve.$raise("Could not find a converter to handle transform: "+We)}catch(rt){if(rt===h)return rt.$v;throw rt}})}(Re("Converter"),se(Re("Converter"),"Base"))}(m[0],m)},Opal.modules["asciidoctor/converter"]=function(e){var U=e.module,M=e.hash2,q=e.def,G=e.return_val,u=e.truthy,R=e.eqeq,we=e.defs,I=e.send,ce=e.alias,m=e.slice,Ge=e.to_a,se=e.extract_kwargs,Ne=e.ensure_kwargs,_e=e.eqeqeq,ve=e.Class,st=e.klass,Re=e.class_variable_set,Oe=e.class_variable_get,Te=e.rb_plus,Ke=e.gvars,it=[],b=e.nil,We=e.$$$;return e.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(h,Ve){var rt=U(h,"Asciidoctor"),z=[rt].concat(Ve);return function(k,Ee){var O=U(k,"Converter"),ue=[O].concat(Ee),ie=e.$r(ue);return O.$autoload("CompositeConverter","asciidoctor/converter/composite"),O.$attr_reader("backend"),q(O,"$initialize",function(J,F){var E=this;return F==null&&(F=M([],{})),E.backend=J},-2),q(O,"$convert",function(J,F,E){var x=this;return x.backend==null&&(x.backend=b),x.$raise(We("NotImplementedError"),""+x.$class()+" (backend: "+x.backend+") must implement the #convert method")},-2),q(O,"$handles?",G(!0)),we(O,"$derive_backend_traits",function(J,F){var E=b,x=b,B=b;return F==null&&(F=b),u(J)?(u(E=ie("DEFAULT_EXTENSIONS")["$[]"](F=u(x=F)?x:J.$sub(ie("TrailingDigitsRx"),"")))?B=E.$slice(1,E.$length()):E="."+(B=F),R(B,"html")?M(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:F,filetype:B,htmlsyntax:"html",outfilesuffix:E}):M(["basebackend","filetype","outfilesuffix"],{basebackend:F,filetype:B,outfilesuffix:E})):M([],{})},-2),function(H,J){var F=U(H,"BackendTraits"),E=[F].concat(J),x=e.$r(E);return q(F,"$basebackend",function(D){var Y,C=this;return D==null&&(D=b),u(D)?(Y=["basebackend",D],I(C.$backend_traits(D),"[]=",Y),Y[Y.length-1]):C.$backend_traits()["$[]"]("basebackend")},-1),q(F,"$filetype",function(D){var Y,C=this;return D==null&&(D=b),u(D)?(Y=["filetype",D],I(C.$backend_traits(),"[]=",Y),Y[Y.length-1]):C.$backend_traits()["$[]"]("filetype")},-1),q(F,"$htmlsyntax",function(D){var Y,C=this;return D==null&&(D=b),u(D)?(Y=["htmlsyntax",D],I(C.$backend_traits(),"[]=",Y),Y[Y.length-1]):C.$backend_traits()["$[]"]("htmlsyntax")},-1),q(F,"$outfilesuffix",function(D){var Y,C=this;return D==null&&(D=b),u(D)?(Y=["outfilesuffix",D],I(C.$backend_traits(),"[]=",Y),Y[Y.length-1]):C.$backend_traits()["$[]"]("outfilesuffix")},-1),q(F,"$supports_templates",function(D){var Y,C=this;return D==null&&(D=!0),Y=["supports_templates",D],I(C.$backend_traits(),"[]=",Y),Y[Y.length-1]},-1),q(F,"$supports_templates?",function(){var D=this;return D.$backend_traits()["$[]"]("supports_templates")}),q(F,"$init_backend_traits",function(D){var Y=this,C=b;return D==null&&(D=b),Y.backend_traits=u(C=D)?C:M([],{})},-1),q(F,"$backend_traits",function(D){var Y=this,C=b;return Y.backend_traits==null&&(Y.backend_traits=b),Y.backend==null&&(Y.backend=b),D==null&&(D=b),Y.backend_traits=u(C=Y.backend_traits)?C:x("Converter").$derive_backend_traits(Y.backend,D)},-1),ce(F,"backend_info","backend_traits"),we(F,"$derive_backend_traits",function(D,Y){return Y==null&&(Y=b),x("Converter").$derive_backend_traits(D,Y)},-2)}(ue[0],ue),function(H,J){var F=U(H,"Config"),E=[F].concat(J),x=e.$r(E);return q(F,"$register_for",function(D){var Y,C,l=this;return Y=m(arguments),C=Y,I(x("Converter"),"register",[l].concat(Ge(I(C,"map",[],function(a){return a==null&&(a=b),a.$to_s()}))))},-1)}(ue[0],ue),function(H,J){var F=U(H,"Factory"),E=[F].concat(J),x=e.$r(E);return we(F,"$new",function(D,Y){var C,l,t,a;return C=m(arguments),l=se(C),l=Ne(l),C.length>0&&(t=C.shift()),t==null&&(t=b),a=l.$$smap.proxy_default,a==null&&(a=!0),u(a)?x("DefaultFactoryProxy").$new(t):x("CustomFactory").$new(t)},-1),we(F,"$default",function(D){return m(arguments),x("Converter")},-1),we(F,"$create",function(D,Y){var C=this;return Y==null&&(Y=M([],{})),C.$default().$create(D,Y)},-2),q(F,"$register",function(D,Y){var C,l,t=this;return C=m(arguments,1),l=C,I(l,"each",[],function a(v){var _,c=a.$$s==null?this:a.$$s;return v==null&&(v=b),R(v,"*")?(_=[D],I(c.$registry(),"default=",_),_[_.length-1]):(_=[v,D],I(c.$registry(),"[]=",_),_[_.length-1])},{$$s:t})},-2),q(F,"$for",function(D){var Y=this;return Y.$registry()["$[]"](D)}),q(F,"$create",function(D,Y){var C=this,l=b,t=b,a=b;return Y==null&&(Y=M([],{})),u(l=C.$for(D))?(_e(ve,l)&&(l=l.$new(D,Y)),u(t=Y["$[]"]("template_dirs"))&&_e(x("BackendTraits"),l)&&u(l["$supports_templates?"]())?x("CompositeConverter").$new(D,x("TemplateConverter").$new(D,t,Y),l,M(["backend_traits_source"],{backend_traits_source:l})):l):u(t=Y["$[]"]("template_dirs"))?u(a=Y["$[]"]("delegate_backend"))&&u(l=C.$for(a))?(_e(ve,l)&&(l=l.$new(a,Y)),x("CompositeConverter").$new(D,x("TemplateConverter").$new(D,t,Y),l,M(["backend_traits_source"],{backend_traits_source:l}))):x("TemplateConverter").$new(D,t,Y):b},-2),q(F,"$converters",function(){var D=this;return D.$registry().$merge()}),F.$private(),q(F,"$registry",function(){var D=this;return D.$raise(We("NotImplementedError"),""+x("Factory")+" subclass "+D.$class()+" must implement the #registry method")})}(ue[0],ue),function(H,J,F){var E=st(H,J,"CustomFactory"),x=[E].concat(F),B=e.$r(x);return E.$include(B("Factory")),q(E,"$initialize",function(Y){var C=this;return Y==null&&(Y=b),u(Y)?(Y["$default="](Y.$delete("*")),C.registry=Y):C.registry=M([],{})},-1),q(E,"$unregister_all",function(){var Y,C=this;return Y=[b],I(C.$registry().$clear(),"default=",Y),Y[Y.length-1]}),E.$private(),E.$attr_reader("registry")}(ue[0],null,ue),function(H,J){var F=U(H,"DefaultFactory"),E=[F].concat(J),x=e.$r(E);return F.$include(x("Factory")),F.$private(),Re(E[0],"@@registry",M([],{})),q(F,"$registry",function(){return Oe(E[0],"@@registry",!1)}),b}(ue[0],ue),function(H,J,F){var E=st(H,J,"DefaultFactoryProxy"),x=[E].concat(F),B=e.$r(x);return E.$include(B("DefaultFactory")),b}(ue[0],ie("CustomFactory"),ue),we(O,"$included",function(J){return J.$send("include",ie("BackendTraits")),J.$extend(ie("Config"))}),O.$private_class_method("included"),function(H,J,F){var E=st(H,J,"Base"),x=[E].concat(F),B=e.$r(x),D=E.$$prototype;return D.backend=b,E.$include(B("Logging")),E.$include(B("Converter")),q(E,"$convert",function(C,l,t){var a=this,v=b;Ke["!"]==null&&(Ke["!"]=b),l==null&&(l=C.$node_name()),t==null&&(t=b);try{return u(t)?a.$send(Te("convert_",l),C,t):a.$send(Te("convert_",l),C)}catch(_){if(e.rescue(_,[B("StandardError")]))try{return _e(We("NoMethodError"),v=Ke["!"])&&R(v.$receiver(),a)&&R(v.$name().$to_s(),l)||a.$raise(),a.$logger().$warn("missing convert handler for "+v.$name()+" node in "+a.backend+" backend ("+a.$class()+")"),b}finally{e.pop_exception()}else throw _}},-2),q(E,"$handles?",function(C){var l=this;return l["$respond_to?"]("convert_"+C)}),q(E,"$content_only",function(C){return C.$content()}),q(E,"$skip",G(b))}(ue[0],null,ue),O.$extend(ie("DefaultFactory"))}(z[0],z)}(it[0],it)},Opal.modules["asciidoctor/document"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.send,u=e.alias,R=e.truthy,we=e.def,I=e.hash2,ce=e.not,m=e.to_ary,Ge=e.return_ivar,se=e.send2,Ne=e.find_super,_e=e.rb_minus,ve=e.eqeq,st=e.eqeqeq,Re=e.hash,Oe=e.rb_ge,Te=e.rb_plus,Ke=e.neqeq,it=e.thrower,b=e.rb_gt,We=e.rb_lt,h=e.gvars,Ve=e.to_a,rt=[],z=e.nil,k=e.$$$;return e.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(Ee,O){var ue=U(Ee,"Asciidoctor"),ie=[ue].concat(O),H=e.$r(ie);return function(J,F,E){var x=M(J,F,"Document"),B=[x].concat(E),D=e.$r(B),Y=x.$$prototype;return Y.attributes=Y.safe=Y.sourcemap=Y.reader=Y.base_dir=Y.parsed=Y.parent_document=Y.extensions=Y.options=Y.counters=Y.catalog=Y.reftexts=Y.next_section_index=Y.header=Y.blocks=Y.header_attributes=Y.attributes_modified=Y.backend=Y.attribute_overrides=Y.timings=Y.converter=Y.outfilesuffix=Y.docinfo_processor_extensions=Y.document=Y.max_attribute_value_size=Y.id=Y.doctype=z,q(B[0],"ImageReference",G(k("Struct"),"new",["target","imagesdir"],function C(){var l=C.$$s==null?this:C.$$s;return u(l,"to_s","target")},{$$s:x})),q(B[0],"Footnote",k("Struct").$new("index","id","text")),function(C,l){var t=M(C,l,"AttributeEntry");return t.$attr_reader("name","value","negate"),we(t,"$initialize",function(v,_,c){var A=this;return c==null&&(c=z),A.name=v,A.value=_,A.negate=R(c["$nil?"]())?_["$nil?"]():c},-3),we(t,"$save_to",function(v){var _,c=this,A=z;return(R(A=v["$[]"]("attribute_entries"))?A:(_=["attribute_entries",[]],G(v,"[]=",_),_[_.length-1]))["$<<"](c),c})}(B[0],null),function(C,l,t){var a=M(C,l,"Title"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.subtitle=z,a.$attr_reader("main"),u(a,"title","main"),a.$attr_reader("subtitle"),a.$attr_reader("combined"),we(a,"$initialize",function(S,K){var j,ee,he=this,Be=z,Ze=z;return K==null&&(K=I([],{})),R(he.sanitized=K["$[]"]("sanitize"))&&R(S["$include?"]("<"))&&(S=S.$gsub(_("XmlSanitizeRx"),"").$squeeze(" ").$strip()),R((Be=R(Ze=K["$[]"]("separator"))?Ze:":")["$empty?"]())||ce(S["$include?"](Be=""+Be+" "))?(he.main=S,he.subtitle=z):(ee=S.$rpartition(Be),j=m(ee),he.main=j[0]==null?z:j[0],j[1]==null||j[1],he.subtitle=j[2]==null?z:j[2]),he.combined=S},-2),we(a,"$sanitized?",Ge("sanitized")),we(a,"$subtitle?",function(){var S=this;return!!R(S.subtitle)}),we(a,"$to_s",Ge("combined"))}(B[0],null,B),q(B[0],"Author",k("Struct").$new("name","firstname","middlename","lastname","initials","email")),x.$attr_reader("safe"),x.$attr_reader("compat_mode"),x.$attr_reader("backend"),x.$attr_reader("doctype"),x.$attr_accessor("sourcemap"),x.$attr_reader("catalog"),u(x,"references","catalog"),x.$attr_reader("counters"),x.$attr_reader("header"),x.$attr_reader("base_dir"),x.$attr_reader("options"),x.$attr_reader("outfilesuffix"),x.$attr_reader("parent_document"),x.$attr_reader("reader"),x.$attr_reader("path_resolver"),x.$attr_reader("converter"),x.$attr_reader("syntax_highlighter"),x.$attr_reader("extensions"),we(x,"$initialize",function C(l,t){var a,v,_,c;C.$$p;var A=this,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z,$t=z,et=z,at=z,ct=z,ft=z,ut=z,ht=z,dt=z,At=z,yt=z,It=z;return C.$$p=null,l==null&&(l=z),t==null&&(t=I([],{})),se(A,Ne(A,"initialize",C,!1,!0),"initialize",[A,"document"],null),R(S=t.$delete("parent"))?(A.parent_document=S,R(K=t["$[]"]("base_dir"))||t["$[]="]("base_dir",S.$base_dir()),R(S.$options()["$[]"]("catalog_assets"))&&t["$[]="]("catalog_assets",!0),R(S.$options()["$[]"]("to_dir"))&&t["$[]="]("to_dir",S.$options()["$[]"]("to_dir")),A.catalog=S.$catalog().$merge(I(["footnotes"],{footnotes:[]})),A.attribute_overrides=j=S.$instance_variable_get("@attribute_overrides").$merge(S.$attributes()),j.$delete("compat-mode"),ee=j.$delete("doctype"),j.$delete("notitle"),j.$delete("showtitle"),j.$delete("toc"),A.attributes["$[]="]("toc-placement",R(K=j.$delete("toc-placement"))?K:"auto"),j.$delete("toc-position"),A.safe=S.$safe(),R(A.compat_mode=S.$compat_mode())&&A.attributes["$[]="]("compat-mode",""),A.outfilesuffix=S.$outfilesuffix(),A.sourcemap=S.$sourcemap(),A.timings=z,A.path_resolver=S.$path_resolver(),A.converter=S.$converter(),he=z,A.extensions=S.$extensions(),A.syntax_highlighter=S.$syntax_highlighter()):(A.parent_document=z,A.catalog=I(["ids","refs","footnotes","links","images","callouts","includes"],{ids:I([],{}),refs:I([],{}),footnotes:[],links:[],images:[],callouts:D("Callouts").$new(),includes:I([],{})}),A.attribute_overrides=j=I([],{}),G(R(K=t["$[]"]("attributes"))?K:I([],{}),"each",[],function(wt,Et){var Ct;return wt==null&&(wt=z),Et==null&&(Et=z),R(wt["$end_with?"]("@"))?R(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,_e(wt.$length(),2)),!1],wt=Ct[0],Et=Ct[1]):R(wt["$end_with?"]("!@"))?(Ct=[wt.$slice(0,_e(wt.$length(),2)),!1],wt=Ct[0],Et=Ct[1]):(Ct=[wt.$chop(),""+Et+"@"],wt=Ct[0],Et=Ct[1]):R(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,wt.$length()),ve(Et,"@")?!1:z],wt=Ct[0],Et=Ct[1]):R(wt["$end_with?"]("!"))&&(Ct=[wt.$chop(),ve(Et,"@")?!1:z],wt=Ct[0],Et=Ct[1]),Ct=[wt.$downcase(),Et],G(j,"[]=",Ct),Ct[Ct.length-1]}),st(k("String"),Be=t["$[]"]("to_file"))&&j["$[]="]("outfilesuffix",D("Helpers").$extname(Be)),ce(Ze=t["$[]"]("safe"))?A.safe=k(D("SafeMode"),"SECURE"):st(k("Integer"),Ze)?A.safe=Ze:A.safe=function(){try{return D("SafeMode").$value_for_name(Ze)}catch(St){if(e.rescue(St,[D("StandardError")]))try{return k(D("SafeMode"),"SECURE")}finally{e.pop_exception()}else throw St}}(),$t=t.$delete("input_mtime"),A.compat_mode=j["$key?"]("compat-mode"),A.sourcemap=t["$[]"]("sourcemap"),A.timings=t.$delete("timings"),A.path_resolver=D("PathResolver").$new(),he=R((a=k("::","Asciidoctor","skip_raise"))&&k(a,"Extensions","skip_raise")?"constant":z)||R(t["$key?"]("extensions"))?k(k("Asciidoctor"),"Extensions"):z,A.extensions=z,R(t["$key?"]("header_footer"))&&ce(t["$key?"]("standalone"))&&t["$[]="]("standalone",t["$[]"]("header_footer"))),A.parsed=A.reftexts=A.header=A.header_attributes=z,A.counters=I([],{}),A.attributes_modified=k("Set").$new(),A.docinfo_processor_extensions=I([],{}),et=t["$[]"]("standalone"),(A.options=t).$freeze(),at=A.attributes,R(S)||(at["$[]="]("attribute-undefined",D("Compliance").$attribute_undefined()),at["$[]="]("attribute-missing",D("Compliance").$attribute_missing()),at.$update(D("DEFAULT_ATTRIBUTES"))),R(et)?(j["$[]="]("embedded",z),at["$[]="]("copycss",""),at["$[]="]("iconfont-remote",""),at["$[]="]("stylesheet",""),at["$[]="]("webfonts","")):(j["$[]="]("embedded",""),R(j["$key?"]("showtitle"))&&ve(j.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?j["$[]="]("notitle",Re(z,"",!1,"@","@",!1)["$[]"](j["$[]"]("showtitle"))):R(j["$key?"]("notitle"))?j["$[]="]("showtitle",Re(z,"",!1,"@","@",!1)["$[]"](j["$[]"]("notitle"))):at["$[]="]("notitle","")),j["$[]="]("asciidoctor",""),j["$[]="]("asciidoctor-version",k(k("Asciidoctor"),"VERSION")),j["$[]="]("safe-mode-name",ct=D("SafeMode").$name_for_value(A.safe)),j["$[]="]("safe-mode-"+ct,""),j["$[]="]("safe-mode-level",A.safe),R(K=j["$[]"]("max-include-depth"))||j["$[]="]("max-include-depth",64),R(K=j["$[]"]("allow-uri-read"))||j["$[]="]("allow-uri-read",z),R(j["$key?"]("numbered"))&&j["$[]="]("sectnums",j.$delete("numbered")),R(j["$key?"]("hardbreaks"))&&j["$[]="]("hardbreaks-option",j.$delete("hardbreaks")),R(ft=t["$[]"]("base_dir"))?A.base_dir=(v=["docdir",k("File").$expand_path(ft)],G(j,"[]=",v),v[v.length-1]):R(j["$[]"]("docdir"))?A.base_dir=j["$[]"]("docdir"):A.base_dir=(v=["docdir",k("Dir").$pwd()],G(j,"[]=",v),v[v.length-1]),R(ut=t["$[]"]("backend"))&&j["$[]="]("backend",ut.$to_s()),R(ht=t["$[]"]("doctype"))&&j["$[]="]("doctype",ht.$to_s()),R(Oe(A.safe,k(D("SafeMode"),"SERVER")))?(R(K=j["$[]"]("copycss"))||j["$[]="]("copycss",z),R(K=j["$[]"]("source-highlighter"))||j["$[]="]("source-highlighter",z),R(K=j["$[]"]("backend"))||j["$[]="]("backend",D("DEFAULT_BACKEND")),ce(S)&&R(j["$key?"]("docfile"))&&j["$[]="]("docfile",j["$[]"]("docfile")["$[]"](e.Range.$new(Te(j["$[]"]("docdir").$length(),1),-1,!1))),j["$[]="]("docdir",""),R(K=j["$[]"]("user-home"))||j["$[]="]("user-home","."),R(Oe(A.safe,k(D("SafeMode"),"SECURE")))&&(R(j["$key?"]("max-attribute-value-size"))||j["$[]="]("max-attribute-value-size",4096),R(j["$key?"]("linkcss"))||j["$[]="]("linkcss",""),R(K=j["$[]"]("icons"))||j["$[]="]("icons",z))):R(K=j["$[]"]("user-home"))||j["$[]="]("user-home",D("USER_HOME")),A.max_attribute_value_size=R(dt=R(K=j["$[]"]("max-attribute-value-size"))?K:(v=["max-attribute-value-size",z],G(j,"[]=",v),v[v.length-1]))?dt.$to_i().$abs():z,G(j,"delete_if",[],function(wt,Et){var Ct,Tt=z;return wt==null&&(wt=z),Et==null&&(Et=z),R(Et)?(st(k("String"),Et)&&R(Et["$end_with?"]("@"))&&(Ct=[Et.$chop(),!0],Et=Ct[0],Tt=Ct[1]),at["$[]="](wt,Et)):(at.$delete(wt),Tt=Et["$=="](!1)),Tt}),R(S)?(A.backend=at["$[]"]("backend"),ve(A.doctype=(v=["doctype",ee],G(at,"[]=",v),v[v.length-1]),D("DEFAULT_DOCTYPE"))||A.$update_doctype_attributes(D("DEFAULT_DOCTYPE")),A.reader=D("Reader").$new(l,t["$[]"]("cursor")),R(A.sourcemap)&&(A.source_location=A.reader.$cursor()),D("Parser").$parse(A.reader,A),A.$restore_attributes(),A.parsed=!0):(A.backend=z,ve(At=R(K=at["$[]"]("backend"))?K:D("DEFAULT_BACKEND"),"manpage")?A.doctype=(v=["doctype",(_=["doctype","manpage"],G(j,"[]=",_),_[_.length-1])],G(at,"[]=",v),v[v.length-1]):A.doctype=R(K=at["$[]"]("doctype"))?K:(v=["doctype",D("DEFAULT_DOCTYPE")],G(at,"[]=",v),v[v.length-1]),A.$update_backend_attributes(At,!0),R(K=at["$[]"]("stylesdir"))||at["$[]="]("stylesdir","."),R(K=at["$[]"]("iconsdir"))||at["$[]="]("iconsdir",""+at.$fetch("imagesdir","./images")+"/icons"),A.$fill_datetime_attributes(at,$t),R(he)&&(R(yt=t["$[]"]("extension_registry"))?(st(k(D("Extensions"),"Registry"),yt)||R((c=k("::","AsciidoctorJ","skip_raise"))&&(_=k(c,"Extensions","skip_raise"))&&(v=k(_,"ExtensionRegistry","skip_raise"))?"constant":z)&&st(k(k(k("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),yt))&&(A.extensions=yt.$activate(A)):R((It=t["$[]"]("extensions"))["$nil?"]())?R(D("Extensions").$groups()["$empty?"]())||(A.extensions=k(D("Extensions"),"Registry").$new().$activate(A)):st(k("Proc"),It)&&(A.extensions=G(D("Extensions"),"create",[],It.$to_proc()).$activate(A))),A.reader=D("PreprocessorReader").$new(A,l,k(D("Reader"),"Cursor").$new(at["$[]"]("docfile"),A.base_dir),I(["normalize"],{normalize:!0})),R(A.sourcemap)?A.source_location=A.reader.$cursor():z)},-1),we(x,"$parse",function(l){var t=this,a=z,v=z;return l==null&&(l=z),R(t.parsed)?t:(a=t,R(l)&&(t.reader=D("PreprocessorReader").$new(a,l,k(D("Reader"),"Cursor").$new(t.attributes["$[]"]("docfile"),t.base_dir),I(["normalize"],{normalize:!0})),R(t.sourcemap)&&(t.source_location=t.reader.$cursor())),R(v=R(t.parent_document)?z:t.extensions)&&R(v["$preprocessors?"]())&&G(v.$preprocessors(),"each",[],function _(c){var A=_.$$s==null?this:_.$$s,S=z;return A.reader==null&&(A.reader=z),c==null&&(c=z),A.reader=R(S=c.$process_method()["$[]"](a,A.reader))?S:A.reader},{$$s:t}),D("Parser").$parse(t.reader,a,I(["header_only"],{header_only:t.options["$[]"]("parse_header_only")})),t.$restore_attributes(),R(v)&&R(v["$tree_processors?"]())&&G(v.$tree_processors(),"each",[],function(c){var A=z;return c==null&&(c=z),R(A=c.$process_method()["$[]"](a))&&st(D("Document"),A)&&Ke(A,a)?a=A:z}),t.parsed=!0,a)},-1),we(x,"$parsed?",Ge("parsed")),we(x,"$counter",function(l,t){var a,v=this,_=z,c=z,A=z;return t==null&&(t=z),R(v.parent_document)?v.parent_document.$counter(l,t):(R(c=v["$attribute_locked?"](l))&&R(_=v.counters["$[]"](l))||ce((_=v.attributes["$[]"](l))["$nil_or_empty?"]())?A=(a=[l,D("Helpers").$nextval(_)],G(v.counters,"[]=",a),a[a.length-1]):R(t)?A=(a=[l,ve(t,t.$to_i().$to_s())?t.$to_i():t],G(v.counters,"[]=",a),a[a.length-1]):A=(a=[l,1],G(v.counters,"[]=",a),a[a.length-1]),R(c)||v.attributes["$[]="](l,A),A)},-2),we(x,"$increment_and_store_counter",function(l,t){var a=this;return D("AttributeEntry").$new(l,a.$counter(l)).$save_to(t.$attributes()).$value()}),u(x,"counter_increment","increment_and_store_counter"),we(x,"$register",function(l,t){var a=this,v=z,_=z,c=z;switch(l){case"ids":return a.$register("refs",[v=t["$[]"](0),D("Inline").$new(a,"anchor",t["$[]"](1),I(["type","id"],{type:"ref",id:v}))]);case"refs":return _=a.catalog["$[]"]("refs"),R(_["$[]"](t["$[]"](0)))||_["$[]="](t["$[]"](0),c=t["$[]"](1)),c;case"footnotes":return a.catalog["$[]"](l)["$<<"](t);default:return R(a.options["$[]"]("catalog_assets"))?a.catalog["$[]"](l)["$<<"](ve(l,"images")?D("ImageReference").$new(t,a.attributes["$[]"]("imagesdir")):t):z}}),we(x,"$resolve_id",function(l){var t=this,a=z,v=z;return R(t.reftexts)?t.reftexts["$[]"](l):R(t.parsed)?G(t.reftexts=I([],{}),"tap",[],function _(c){var A=_.$$s==null?this:_.$$s;return A.catalog==null&&(A.catalog=z),c==null&&(c=z),G(A.catalog["$[]"]("refs"),"each",[],function(K,j){var ee,he=z;return K==null&&(K=z),j==null&&(j=z),R(he=c["$[]"](j.$xreftext()))?he:(ee=[j.$xreftext(),K],G(c,"[]=",ee),ee[ee.length-1])})},{$$s:t})["$[]"](l):(a=z,t.reftexts=v=I([],{}),function(){try{var _=it("break");return G(t.catalog["$[]"]("refs"),"each",[],function(A,S){var K,j=z,ee=z;return A==null&&(A=z),S==null&&(S=z),ve(j=S.$xreftext(),l)&&(a=A,_.$throw()),R(ee=v["$[]"](j))?ee:(K=[j,A],G(v,"[]=",K),K[K.length-1])})}catch(c){if(c===_)return c.$v;throw c}}(),t.reftexts=z,a)}),we(x,"$sections?",function(){var l=this;return b(l.next_section_index,0)}),we(x,"$footnotes?",function(){var l=this;return!R(l.catalog["$[]"]("footnotes")["$empty?"]())}),we(x,"$footnotes",function(){var l=this;return l.catalog["$[]"]("footnotes")}),we(x,"$callouts",function(){var l=this;return l.catalog["$[]"]("callouts")}),we(x,"$nested?",function(){var l=this;return!!R(l.parent_document)}),we(x,"$embedded?",function(){var l=this;return l.attributes["$key?"]("embedded")}),we(x,"$extensions?",function(){var l=this;return!!R(l.extensions)}),we(x,"$source",function(){var l=this;return R(l.reader)?l.reader.$source():z}),we(x,"$source_lines",function(){var l=this;return R(l.reader)?l.reader.$source_lines():z}),we(x,"$basebackend?",function(l){var t=this;return t.attributes["$[]"]("basebackend")["$=="](l)}),we(x,"$title",function(){var l=this;return l.$doctitle()}),we(x,"$title=",function(l){var t,a=this,v=z;return R(v=a.header)||(v=a.header=D("Section").$new(a,0))["$sectname="]("header"),t=[l],G(v,"title=",t),t[t.length-1]}),we(x,"$doctitle",function(l){var t=this,a=z,v=z,_=z,c=z;if(l==null&&(l=I([],{})),!R(a=t.attributes["$[]"]("title"))){if(R(v=t.$first_section()))a=v.$title();else if(ce(R(_=l["$[]"]("use_fallback"))?a=t.attributes["$[]"]("untitled-label"):_))return z}return R(c=l["$[]"]("partition"))?D("Title").$new(a,l.$merge(I(["separator"],{separator:ve(c,!0)?t.attributes["$[]"]("title-separator"):c}))):R(l["$[]"]("sanitize"))&&R(a["$include?"]("<"))?a.$gsub(D("XmlSanitizeRx"),"").$squeeze(" ").$strip():a},-1),u(x,"name","doctitle"),we(x,"$xreftext",function(l){var t=this,a=z;return R(a=t.$reftext())&&ce(a["$empty?"]())?a:t.$title()},-1),we(x,"$author",function(){var l=this;return l.attributes["$[]"]("author")}),we(x,"$authors",function(){var l=this,t=z,a=z,v=z,_=z,c=z;if(R((t=l.attributes)["$key?"]("author"))){if(a=[D("Author").$new(t["$[]"]("author"),t["$[]"]("firstname"),t["$[]"]("middlename"),t["$[]"]("lastname"),t["$[]"]("authorinitials"),t["$[]"]("email"))],R(b(v=R(_=t["$[]"]("authorcount"))?_:0,1)))for(c=1;R(We(c,v));)c=Te(c,1),a["$<<"](D("Author").$new(t["$[]"]("author_"+c),t["$[]"]("firstname_"+c),t["$[]"]("middlename_"+c),t["$[]"]("lastname_"+c),t["$[]"]("authorinitials_"+c),t["$[]"]("email_"+c)));return a}else return[]}),we(x,"$revdate",function(){var l=this;return l.attributes["$[]"]("revdate")}),we(x,"$notitle",function(){var l=this;return l.attributes["$key?"]("notitle")}),we(x,"$noheader",function(){var l=this;return l.attributes["$key?"]("noheader")}),we(x,"$nofooter",function(){var l=this;return l.attributes["$key?"]("nofooter")}),we(x,"$first_section",function(){var l=this,t=z;return R(t=l.header)?t:G(l.blocks,"find",[],function(v){return v==null&&(v=z),v.$context()["$=="]("section")})}),we(x,"$header?",function(){var l=this;return!!R(l.header)}),u(x,"has_header?","header?"),we(x,"$<<",function C(l){var t=C.$$p||z,a=this;return C.$$p=null,ve(l.$context(),"section")&&a.$assign_numeral(l),se(a,Ne(a,"<<",C,!1,!0),"<<",[l],t)}),we(x,"$finalize_header",function(l,t){var a=this;return t==null&&(t=!0),a.$clear_playback_attributes(l),a.$save_attributes(),R(t)||l["$[]="]("invalid-header",!0),l},-2),we(x,"$playback_attributes",function(l){var t=this;return R(l["$key?"]("attribute_entries"))?G(l["$[]"]("attribute_entries"),"each",[],function a(v){var _=a.$$s==null?this:a.$$s,c=z;return _.attributes==null&&(_.attributes=z),v==null&&(v=z),c=v.$name(),R(v.$negate())?(_.attributes.$delete(c),ve(c,"compat-mode")?_.compat_mode=!1:z):(_.attributes["$[]="](c,v.$value()),ve(c,"compat-mode")?_.compat_mode=!0:z)},{$$s:t}):z}),we(x,"$restore_attributes",function(){var l=this;return R(l.parent_document)||l.catalog["$[]"]("callouts").$rewind(),l.attributes.$replace(l.header_attributes)}),we(x,"$set_attribute",function(l,t){var a=this,v=z;if(t==null&&(t=""),R(a["$attribute_locked?"](l)))return z;if(R(t["$empty?"]())||(t=a.$apply_attribute_value_subs(t)),R(a.header_attributes))a.attributes["$[]="](l,t);else{switch(l){case"backend":a.$update_backend_attributes(t,R(v=a.attributes_modified["$delete?"]("htmlsyntax"))?t["$=="](a.backend):v);break;case"doctype":a.$update_doctype_attributes(t);break;default:a.attributes["$[]="](l,t)}a.attributes_modified["$<<"](l)}return t},-2),we(x,"$delete_attribute",function(l){var t=this;return R(t["$attribute_locked?"](l))?!1:(t.attributes.$delete(l),t.attributes_modified["$<<"](l),!0)}),we(x,"$attribute_locked?",function(l){var t=this;return t.attribute_overrides["$key?"](l)}),we(x,"$set_header_attribute",function(l,t,a){var v=this,_=z,c=z;return t==null&&(t=""),a==null&&(a=!0),_=R(c=v.header_attributes)?c:v.attributes,ve(a,!1)&&R(_["$key?"](l))?!1:(_["$[]="](l,t),!0)},-2),we(x,"$convert",function(l){var t,a=this,v=z,_=z,c=z,A=z,S=z;return l==null&&(l=I([],{})),R(a.timings)&&a.timings.$start("convert"),R(a.parsed)||a.$parse(),R(Oe(a.safe,k(D("SafeMode"),"SERVER")))||R(l["$empty?"]())||(R((t=["outfile",l["$[]"]("outfile")],G(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outfile"),R((t=["outdir",l["$[]"]("outdir")],G(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outdir")),ve(a.$doctype(),"inline")?R(v=R(_=a.blocks["$[]"](0))?_:a.header)&&(ve(v.$content_model(),"compound")||ve(v.$content_model(),"empty")?a.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):c=v.$content()):(R(l["$key?"]("standalone"))?A=R(l["$[]"]("standalone"))?"document":"embedded":R(l["$key?"]("header_footer"))?A=R(l["$[]"]("header_footer"))?"document":"embedded":A=R(a.options["$[]"]("standalone"))?"document":"embedded",c=a.converter.$convert(a,A)),R(a.parent_document)||R(S=a.extensions)&&R(S["$postprocessors?"]())&&G(S.$postprocessors(),"each",[],function K(j){var ee=K.$$s==null?this:K.$$s;return j==null&&(j=z),c=j.$process_method()["$[]"](ee,c)},{$$s:a}),R(a.timings)&&a.timings.$record("convert"),c},-1),u(x,"render","convert"),we(x,"$write",function(l,t){var a=this;return R(a.timings)&&a.timings.$start("write"),st(D("Writer"),a.converter)?a.converter.$write(l,t):(R(t["$respond_to?"]("write"))?R(l["$nil_or_empty?"]())||(t.$write(l.$chomp()),t.$write(D("LF"))):k("File").$write(t,l,I(["mode"],{mode:D("FILE_WRITE_MODE")})),ve(a.backend,"manpage")&&st(k("String"),t)&&R(a.converter.$class()["$respond_to?"]("write_alternate_pages"))&&a.converter.$class().$write_alternate_pages(a.attributes["$[]"]("mannames"),a.attributes["$[]"]("manvolnum"),t)),R(a.timings)&&a.timings.$record("write"),z}),we(x,"$content",function C(){var l=C.$$p||z,t=this;return C.$$p=null,t.attributes.$delete("title"),se(t,Ne(t,"content",C,!1,!0),"content",[],l)}),we(x,"$docinfo",function(l,t){var a,v=this,_=z,c=z,A=z,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z;return l==null&&(l="head"),t==null&&(t=z),R(We(v.$safe(),k(D("SafeMode"),"SECURE")))&&(ve(l,"head")||(_="-"+l),t=R(c=t)?c:v.outfilesuffix,R((A=v.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?R(v.attributes["$key?"]("docinfo2"))?A=["private","shared"]:R(v.attributes["$key?"]("docinfo1"))?A=["shared"]:A=R(A)?["private"]:z:A=G(A.$split(","),"map",[],function(et){return et==null&&(et=z),et.$strip()}),R(A)&&(S=[],a=["docinfo"+_+t,v.attributes["$[]"]("docinfodir"),v.$resolve_docinfo_subs()],K=a[0],j=a[1],ee=a[2],R(A["$&"](["shared","shared-"+l])["$empty?"]())||(he=v.$normalize_system_path(K,j),R(Be=v.$read_asset(he,I(["normalize"],{normalize:!0})))&&S["$<<"](v.$apply_subs(Be,ee))),R(v.attributes["$[]"]("docname")["$nil_or_empty?"]())||R(A["$&"](["private","private-"+l])["$empty?"]())||(he=v.$normalize_system_path(""+v.attributes["$[]"]("docname")+"-"+K,j),R(Ze=v.$read_asset(he,I(["normalize"],{normalize:!0})))&&S["$<<"](v.$apply_subs(Ze,ee))))),R(v.extensions)&&R(v["$docinfo_processors?"](l))?(R(c=S)?c:[]).$concat(G(v.docinfo_processor_extensions["$[]"](l),"map",[],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=z),et.$process_method()["$[]"](at)},{$$s:v}).$compact()).$join(D("LF")):R(S)?S.$join(D("LF")):""},-1),we(x,"$docinfo_processors?",function(l){var t,a=this;return l==null&&(l="head"),R(a.docinfo_processor_extensions["$key?"](l))?a.docinfo_processor_extensions["$[]"](l)["$!="](!1):R(a.extensions)&&R(a.document.$extensions()["$docinfo_processors?"](l))?(t=[l,a.document.$extensions().$docinfo_processors(l)],G(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])["$!"]()["$!"]():(t=[l,!1],G(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])},-1),we(x,"$to_s",function(){var l=this,t=z;return"#<"+l.$class()+"@"+l.$object_id()+" {doctype: "+l.$doctype().$inspect()+", doctitle: "+(R(t=l.header)?l.header.$title():t).$inspect()+", blocks: "+l.blocks.$size()+"}>"}),x.$private(),we(x,"$apply_attribute_value_subs",function(l){var t,a=this;return R(D("AttributeEntryPassMacroRx")["$=~"](l))?(l=(t=h["~"])===z?z:t["$[]"](2),R((t=h["~"])===z?z:t["$[]"](1))&&(l=a.$apply_subs(l,a.$resolve_pass_subs((t=h["~"])===z?z:t["$[]"](1))))):l=a.$apply_header_subs(l),R(a.max_attribute_value_size)?a.$limit_bytesize(l,a.max_attribute_value_size):l}),we(x,"$limit_bytesize",function(l,t){if(R(b(l.$bytesize(),t)))for(;!R((l=l.$byteslice(0,t))["$valid_encoding?"]());)t=_e(t,1);return l}),we(x,"$resolve_docinfo_subs",function(){var l=this;return R(l.attributes["$key?"]("docinfosubs"))?l.$resolve_subs(l.attributes["$[]"]("docinfosubs"),"block",z,"docinfo"):["attributes"]}),we(x,"$create_converter",function(l,t){var a=this,v=z,_=z,c=z,A=z,S=z;return v=I(["document","htmlsyntax"],{document:a,htmlsyntax:a.attributes["$[]"]("htmlsyntax")}),R(_=R(c=(A=a.options)["$[]"]("template_dirs"))?c:A["$[]"]("template_dir"))&&(v["$[]="]("template_dirs",[].concat(Ve(_))),v["$[]="]("template_cache",A.$fetch("template_cache",!0)),v["$[]="]("template_engine",A["$[]"]("template_engine")),v["$[]="]("template_engine_options",A["$[]"]("template_engine_options")),v["$[]="]("eruby",A["$[]"]("eruby")),v["$[]="]("safe",a.safe),R(t)&&v["$[]="]("delegate_backend",t)),R(S=A["$[]"]("converter"))?k(D("Converter"),"CustomFactory").$new(Re(l,S)).$create(l,v):A.$fetch("converter_factory",D("Converter")).$create(l,v)}),we(x,"$clear_playback_attributes",function(l){return l.$delete("attribute_entries")}),we(x,"$save_attributes",function(){var l=this,t=z,a=z,v=z,_=z,c=z,A=z,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z,$t=z;if(R((a=l.attributes)["$key?"]("doctitle"))||ce(t=l.$doctitle())||a["$[]="]("doctitle",t),l.id=R(v=l.id)?v:a["$[]"]("css-signature"),R(_=R(a.$delete("toc2"))?"left":a["$[]"]("toc"))&&(c=R(A=a.$fetch("toc-placement","macro"))&&Ke(A,"auto")?A:a["$[]"]("toc-position"),!(R(_["$empty?"]())&&R(c["$nil_or_empty?"]())))){switch(S="left",K="toc2",j=R(c["$nil_or_empty?"]())?R(_["$empty?"]())?S:_:c,a["$[]="]("toc",""),a["$[]="]("toc-placement","auto"),j){case"left":case"<":case"&lt;":a["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":a["$[]="]("toc-position","right");break;case"top":case"^":a["$[]="]("toc-position","top");break;case"bottom":case"v":a["$[]="]("toc-position","bottom");break;case"preamble":case"macro":a["$[]="]("toc-position","content"),a["$[]="]("toc-placement",j),K=z;break;default:a.$delete("toc-position"),K=z}R(K)&&(R(v=a["$[]"]("toc-class"))||a["$[]="]("toc-class",K))}if(R(ee=a["$[]"]("icons"))&&ce(a["$key?"]("icontype")))switch(ee){case"":case"font":break;default:a["$[]="]("icons",""),ve(ee,"image")||a["$[]="]("icontype",ee)}return R(l.compat_mode=a["$key?"]("compat-mode"))&&R(a["$key?"]("language"))&&a["$[]="]("source-language",a["$[]"]("language")),R(l.parent_document)||(ve(he=a["$[]"]("basebackend"),"html")?R(Be=a["$[]"]("source-highlighter"))&&ce(a["$[]"](""+Be+"-unavailable"))&&(R(Ze=l.options["$[]"]("syntax_highlighter_factory"))?l.syntax_highlighter=Ze.$create(Be,l.backend,I(["document"],{document:l})):R($t=l.options["$[]"]("syntax_highlighters"))?l.syntax_highlighter=k(D("SyntaxHighlighter"),"DefaultFactoryProxy").$new($t).$create(Be,l.backend,I(["document"],{document:l})):l.syntax_highlighter=D("SyntaxHighlighter").$create(Be,l.backend,I(["document"],{document:l}))):ve(he,"docbook")&&(R(l["$attribute_locked?"]("toc"))||R(l.attributes_modified["$include?"]("toc"))||a["$[]="]("toc",""),R(l["$attribute_locked?"]("sectnums"))||R(l.attributes_modified["$include?"]("sectnums"))||a["$[]="]("sectnums","")),l.outfilesuffix=a["$[]"]("outfilesuffix"),G(D("FLEXIBLE_ATTRIBUTES"),"each",[],function et(at){var ct=et.$$s==null?this:et.$$s;return ct.attribute_overrides==null&&(ct.attribute_overrides=z),at==null&&(at=z),R(ct.attribute_overrides["$key?"](at))&&R(ct.attribute_overrides["$[]"](at))?ct.attribute_overrides.$delete(at):z},{$$s:l})),l.header_attributes=a.$merge()}),we(x,"$fill_datetime_attributes",function(l,t){var a,v=this,_=z,c=z,A=z,S=z,K=z,j=z,ee=z,he=z;return _=R(k("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?c=k("Time").$at(v.$Integer(k("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():k("Time").$now(),R(A=l["$[]"]("localdate"))?R(S=l["$[]"]("localyear"))||l["$[]="]("localyear",ve(A.$index("-"),4)?A.$slice(0,4):z):(A=(a=["localdate",_.$strftime("%F")],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("localyear"))||l["$[]="]("localyear",_.$year().$to_s())),K=R(S=l["$[]"]("localtime"))?S:(a=["localtime",_.$strftime("%T "+(ve(_.$utc_offset(),0)?"UTC":"%z"))],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("localdatetime"))||l["$[]="]("localdatetime",""+A+" "+K),t=R(S=R(j=c)?j:t)?S:_,R(ee=l["$[]"]("docdate"))?R(S=l["$[]"]("docyear"))||l["$[]="]("docyear",ve(ee.$index("-"),4)?ee.$slice(0,4):z):(ee=(a=["docdate",t.$strftime("%F")],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("docyear"))||l["$[]="]("docyear",t.$year().$to_s())),he=R(S=l["$[]"]("doctime"))?S:(a=["doctime",t.$strftime("%T "+(ve(t.$utc_offset(),0)?"UTC":"%z"))],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("docdatetime"))||l["$[]="]("docdatetime",""+ee+" "+he),z}),we(x,"$update_backend_attributes",function(l,t){var a,v,_=this,c=z,A=z,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z,$t=z,et=z,at=z,ct=z,ft=z;return t==null&&(t=z),R(t)||Ke(l,_.backend)?(c=_.backend,A=(S=_.attributes)["$[]"]("basebackend"),K=_.doctype,R(l["$include?"](":"))&&(v=l.$partition(":"),a=m(v),j=a[0]==null?z:a[0],a[1]==null||a[1],l=a[2]==null?z:a[2]),R(l["$start_with?"]("xhtml"))?(S["$[]="]("htmlsyntax","xml"),l=l.$slice(1,l.$length())):R(l["$start_with?"]("html"))&&(R(ee=S["$[]"]("htmlsyntax"))||S["$[]="]("htmlsyntax","html")),l=R(ee=D("BACKEND_ALIASES")["$[]"](l))?ee:l,R(j)&&(a=[j,l],l=a[0],he=a[1]),R(K)?(R(c)&&(S.$delete("backend-"+c),S.$delete("backend-"+c+"-doctype-"+K)),S["$[]="]("backend-"+l+"-doctype-"+K,""),S["$[]="]("doctype-"+K,"")):R(c)&&S.$delete("backend-"+c),S["$[]="]("backend-"+l,""),_.backend=(a=["backend",l],G(S,"[]=",a),a[a.length-1]),st(k(D("Converter"),"BackendTraits"),Be=_.$create_converter(l,he))?(Ze=Be.$basebackend(),$t=Be.$filetype(),R(et=Be.$htmlsyntax())&&S["$[]="]("htmlsyntax",et),R(t)?R(ee=S["$[]"]("outfilesuffix"))||S["$[]="]("outfilesuffix",Be.$outfilesuffix()):R(_["$attribute_locked?"]("outfilesuffix"))||S["$[]="]("outfilesuffix",Be.$outfilesuffix())):R(Be)?(at=D("Converter").$derive_backend_traits(l),Ze=at["$[]"]("basebackend"),$t=at["$[]"]("filetype"),R(t)?R(ee=S["$[]"]("outfilesuffix"))||S["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix")):R(_["$attribute_locked?"]("outfilesuffix"))||S["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix"))):_.$raise(k("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+l+"'. Processing aborted."),_.converter=Be,R(ct=S["$[]"]("filetype"))&&S.$delete("filetype-"+ct),S["$[]="]("filetype",$t),S["$[]="]("filetype-"+$t,""),R(ft=D("DEFAULT_PAGE_WIDTHS")["$[]"](Ze))?S["$[]="]("pagewidth",ft):S.$delete("pagewidth"),Ke(Ze,A)&&(R(K)?(R(A)&&(S.$delete("basebackend-"+A),S.$delete("basebackend-"+A+"-doctype-"+K)),S["$[]="]("basebackend-"+Ze+"-doctype-"+K,"")):R(A)&&S.$delete("basebackend-"+A),S["$[]="]("basebackend-"+Ze,""),S["$[]="]("basebackend",Ze)),l):z},-2),we(x,"$update_doctype_attributes",function(l){var t,a=this,v=z,_=z,c=z,A=z;return R(l)&&Ke(l,a.doctype)?(t=[a.backend,(v=a.attributes)["$[]"]("basebackend"),a.doctype],_=t[0],c=t[1],A=t[2],R(A)?(v.$delete("doctype-"+A),R(_)&&(v.$delete("backend-"+_+"-doctype-"+A),v["$[]="]("backend-"+_+"-doctype-"+l,"")),R(c)&&(v.$delete("basebackend-"+c+"-doctype-"+A),v["$[]="]("basebackend-"+c+"-doctype-"+l,""))):(R(_)&&v["$[]="]("backend-"+_+"-doctype-"+l,""),R(c)&&v["$[]="]("basebackend-"+c+"-doctype-"+l,"")),v["$[]="]("doctype-"+l,""),a.doctype=(t=["doctype",l],G(v,"[]=",t),t[t.length-1])):z})}(ie[0],H("AbstractBlock"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/inline"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.send2,u=e.find_super,R=e.def,we=e.return_val,I=e.alias,ce=e.truthy,m=[],Ge=e.nil;return e.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(se,Ne){var _e=U(se,"Asciidoctor"),ve=[_e].concat(Ne),st=e.$r(ve);return function(Re,Oe){var Te=M(Re,Oe,"Inline"),Ke=Te.$$prototype;return Ke.text=Ke.type=Ge,Te.$attr_accessor("text"),Te.$attr_reader("type"),Te.$attr_accessor("target"),R(Te,"$initialize",function it(b,We,h,Ve){it.$$p;var rt=this;return it.$$p=null,h==null&&(h=Ge),Ve==null&&(Ve=q([],{})),G(rt,u(rt,"initialize",it,!1,!0),"initialize",[b,We,Ve],null),rt.node_name="inline_"+We,rt.text=h,rt.id=Ve["$[]"]("id"),rt.type=Ve["$[]"]("type"),rt.target=Ve["$[]"]("target")},-3),R(Te,"$block?",we(!1)),R(Te,"$inline?",we(!0)),R(Te,"$convert",function(){var b=this;return b.$converter().$convert(b)}),I(Te,"render","convert"),R(Te,"$alt",function(){var b=this,We=Ge;return ce(We=b.$attr("alt"))?We:""}),R(Te,"$reftext?",function(){var b=this,We=Ge,h=Ge;return ce(We=b.text)?ce(h=b.type["$=="]("ref"))?h:b.type["$=="]("bibref"):We}),R(Te,"$reftext",function(){var b=this,We=Ge;return ce(We=b.text)?b.$apply_reftext_subs(We):Ge}),R(Te,"$xreftext",function(b){var We=this;return We.$reftext()},-1)}(ve[0],st("AbstractNode"))}(m[0],m)},Opal.modules["asciidoctor/list"]=function(e){var U=e.module,M=e.klass,q=e.alias,G=e.hash2,u=e.send2,R=e.find_super,we=e.def,I=e.truthy,ce=e.eqeq,m=[],Ge=e.nil;return e.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(se,Ne){var _e=U(se,"Asciidoctor"),ve=[_e].concat(Ne),st=e.$r(ve);return function(Re,Oe){var Te=M(Re,Oe,"List"),Ke=Te.$$prototype;return Ke.context=Ke.document=Ke.style=Ge,q(Te,"items","blocks"),q(Te,"content","blocks"),q(Te,"items?","blocks?"),we(Te,"$initialize",function it(b,We,h){var Ve=it.$$p||Ge,rt=this;return it.$$p=null,h==null&&(h=G([],{})),u(rt,R(rt,"initialize",it,!1,!0),"initialize",[b,We,h],Ve)},-3),we(Te,"$outline?",function(){var b=this,We=Ge;return I(We=b.context["$=="]("ulist"))?We:b.context["$=="]("olist")}),we(Te,"$convert",function it(){var b=it.$$p||Ge,We=this,h=Ge;return it.$$p=null,ce(We.context,"colist")?(h=u(We,R(We,"convert",it,!1,!0),"convert",[],b),We.document.$callouts().$next_list(),h):u(We,R(We,"convert",it,!1,!0),"convert",[],b)}),q(Te,"render","convert"),we(Te,"$to_s",function(){var b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {context: "+b.context.$inspect()+", style: "+b.style.$inspect()+", items: "+b.$items().$size()+"}>"})}(ve[0],st("AbstractBlock")),function(Re,Oe,Te){var Ke=M(Re,Oe,"ListItem"),it=[Ke].concat(Te),b=e.$r(it),We=Ke.$$prototype;return We.text=We.subs=We.blocks=Ge,q(Ke,"list","parent"),Ke.$attr_accessor("marker"),we(Ke,"$initialize",function h(Ve,rt){h.$$p;var z=this;return h.$$p=null,rt==null&&(rt=Ge),u(z,R(z,"initialize",h,!1,!0),"initialize",[Ve,"list_item"],null),z.text=rt,z.level=Ve.$level(),z.subs=b("NORMAL_SUBS").$drop(0)},-2),we(Ke,"$text?",function(){var Ve=this;return!I(Ve.text["$nil_or_empty?"]())}),we(Ke,"$text",function(){var Ve=this,rt=Ge;return I(rt=Ve.text)?Ve.$apply_subs(Ve.text,Ve.subs):rt}),Ke.$attr_writer("text"),we(Ke,"$simple?",function(){var Ve=this,rt=Ge,z=Ge,k=Ge,Ee=Ge;return I(rt=Ve.blocks["$empty?"]())?rt:I(z=I(k=Ve.blocks.$size()["$=="](1))?b("List")["$==="](Ee=Ve.blocks["$[]"](0)):k)?Ee["$outline?"]():z}),we(Ke,"$compound?",function(){var Ve=this;return Ve["$simple?"]()["$!"]()}),we(Ke,"$fold_first",function(){var Ve=this;return Ve.text=I(Ve.text["$nil_or_empty?"]())?Ve.blocks.$shift().$source():""+Ve.text+b("LF")+Ve.blocks.$shift().$source(),Ge}),we(Ke,"$to_s",function(){var Ve=this,rt=Ge;return"#<"+Ve.$class()+"@"+Ve.$object_id()+" {list_context: "+Ve.$parent().$context().$inspect()+", text: "+Ve.text.$inspect()+", blocks: "+(I(rt=Ve.blocks)?rt:[]).$size()+"}>"})}(ve[0],st("AbstractBlock"),ve)}(m[0],m)},Opal.modules["asciidoctor/parser"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.send,u=e.truthy,R=e.hash2,we=e.to_ary,I=e.defs,ce=e.eqeq,m=e.not,Ge=e.gvars,se=e.neqeq,Ne=e.rb_plus,_e=e.rb_lt,ve=e.rb_gt,st=e.to_a,Re=e.eqeqeq,Oe=e.rb_minus,Te=e.rb_times,Ke=e.thrower,it=[],b=e.nil,We=e.$$$;return e.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(h,Ve){var rt=U(h,"Asciidoctor"),z=[rt].concat(Ve);return function(k,Ee,O){var ue=M(k,Ee,"Parser"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("Logging")),q(ie[0],"BlockMatchData",H("Struct").$new("context","masq","tip","terminator")),q(ie[0],"TAB","	"),q(ie[0],"TabIndentRx",/^\t+/),q(ie[0],"StartOfBlockProc",G(ue,"proc",[],function J(F){var E=J.$$s==null?this:J.$$s,x=b,B=b;return F==null&&(F=b),u(x=u(B=F["$start_with?"]("["))?H("BlockAttributeLineRx")["$match?"](F):B)?x:E["$is_delimited_block?"](F)},{$$s:ue})),q(ie[0],"StartOfListProc",G(ue,"proc",[],function(F){return F==null&&(F=b),H("AnyListRx")["$match?"](F)})),q(ie[0],"StartOfBlockOrListProc",G(ue,"proc",[],function J(F){var E=J.$$s==null?this:J.$$s,x=b,B=b,D=b;return F==null&&(F=b),u(x=u(B=E["$is_delimited_block?"](F))?B:u(D=F["$start_with?"]("["))?H("BlockAttributeLineRx")["$match?"](F):D)?x:H("AnyListRx")["$match?"](F)},{$$s:ue})),q(ie[0],"NoOp",b),q(ie[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),q(ie[0],"TableCellHorzAlignments",R(["<",">","^"],{"<":"left",">":"right","^":"center"})),q(ie[0],"TableCellVertAlignments",R(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),q(ie[0],"TableCellStyles",R(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),ue.$private_class_method("new"),I(ue,"$parse",function(F,E,x){var B,D,Y=this,C=b,l=b,t=b;if(x==null&&(x=R([],{})),C=Y.$parse_document_header(F,E,l=x["$[]"]("header_only")),!u(l))for(;u(F["$has_more_lines?"]());)D=Y.$next_section(F,E,C),B=we(D),t=B[0]==null?b:B[0],C=B[1]==null?b:B[1],u(t)&&(E.$assign_numeral(t),E.$blocks()["$<<"](t));return E},-3),I(ue,"$parse_document_header",function(F,E,x){var B,D,Y,C=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b;return x==null&&(x=!1),l=u(F.$skip_blank_lines())?C.$parse_block_metadata_lines(F,E):R([],{}),t=E.$attributes(),u(a=C["$is_next_line_doctitle?"](F,l,t["$[]"]("leveloffset")))&&u(l["$[]"]("title"))?(t["$[]="]("authorcount",0),E.$finalize_header(l,!1)):(u((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||E["$title="](_=v),u(a)?(u(E.$sourcemap())&&(c=F.$cursor()),D=C.$parse_section_title(F,E),B=we(D),Y=[B[0]==null?b:B[0]],G(E,"id=",Y),Y[Y.length-1],B[1]==null||B[1],A=B[2]==null?b:B[2],B[3]==null||B[3],S=B[4]==null?b:B[4],u(_)?A=b:(E["$title="](A),u((B=["doctitle",_=E.$sub_specialchars(A)],G(t,"[]=",B),B[B.length-1])["$include?"](H("ATTR_REF_HEAD")))&&t["$[]="]("doctitle",_=E.$sub_attributes(_,R(["attribute_missing"],{attribute_missing:"skip"})))),u(c)&&E.$header()["$source_location="](c),u(S)||u(E["$attribute_locked?"]("compat-mode"))||t["$[]="]("compat-mode",""),u(K=l["$[]"]("separator"))&&(u(E["$attribute_locked?"]("title-separator"))||t["$[]="]("title-separator",K)),u(j=l["$[]"]("id"))?E["$id="](j):j=E.$id(),u(ee=l["$[]"]("role"))&&t["$[]="]("role",ee),u(he=l["$[]"]("reftext"))&&t["$[]="]("reftext",he),l.$clear(),(Be=E.$instance_variable_get("@attributes_modified")).$delete("doctitle"),C.$parse_header_metadata(F,E,b),u(Be["$include?"]("doctitle"))?u((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||ce(v,_)?t["$[]="]("doctitle",_):E["$title="](v):m(A)&&Be["$<<"]("doctitle"),u(j)&&E.$register("refs",[j,E])):u(Ze=t["$[]"]("author"))?($t=C.$process_authors(Ze,!0,!1),u(t["$[]"]("authorinitials"))&&$t.$delete("authorinitials"),t.$update($t)):u(Ze=t["$[]"]("authors"))?($t=C.$process_authors(Ze,!0),t.$update($t)):t["$[]="]("authorcount",0),ce(E.$doctype(),"manpage")&&C.$parse_manpage_header(F,E,l,x),E.$finalize_header(l))},-3),I(ue,"$parse_manpage_header",function(F,E,x,B){var D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b;return B==null&&(B=!1),u(H("ManpageTitleVolnumRx")["$=~"]((C=E.$attributes())["$[]"]("doctitle")))?(C["$[]="]("manvolnum",l=(D=Ge["~"])===b?b:D["$[]"](2)),C["$[]="]("mantitle",(u((t=(D=Ge["~"])===b?b:D["$[]"](1))["$include?"](H("ATTR_REF_HEAD")))?E.$sub_attributes(t):t).$downcase())):(Y.$logger().$error(Y.$message_with_context("non-conforming manpage title",R(["source_location"],{source_location:F.$cursor_at_line(1)}))),C["$[]="]("mantitle",u(a=u(v=C["$[]"]("doctitle"))?v:C["$[]"]("docname"))?a:"command"),C["$[]="]("manvolnum",l="1")),u(_=C["$[]"]("manname"))&&u(C["$[]"]("manpurpose"))?(u(a=C["$[]"]("manname-title"))||C["$[]="]("manname-title","Name"),C["$[]="]("mannames",[_]),ce(E.$backend(),"manpage")&&(C["$[]="]("docname",_),C["$[]="]("outfilesuffix","."+l))):u(B)||(F.$skip_blank_lines(),F.$save(),x.$update(Y.$parse_block_metadata_lines(F,E)),u(c=Y["$is_next_line_section?"](F,R([],{})))?ce(c,1)?(A=Y.$initialize_section(F,E,R([],{})),S=G(F.$read_lines_until(R(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(Be){return Be==null&&(Be=b),Be.$lstrip()}).$join(" "),u(H("ManpageNamePurposeRx")["$=~"](S))?(u((_=(D=Ge["~"])===b?b:D["$[]"](1))["$include?"](H("ATTR_REF_HEAD")))&&(_=E.$sub_attributes(_)),u(_["$include?"](","))?_=(K=G(_.$split(","),"map",[],function(Be){return Be==null&&(Be=b),Be.$lstrip()}))["$[]"](0):K=[_],u((j=(D=Ge["~"])===b?b:D["$[]"](2))["$include?"](H("ATTR_REF_HEAD")))&&(j=E.$sub_attributes(j)),u(a=C["$[]"]("manname-title"))||C["$[]="]("manname-title",A.$title()),u(A.$id())&&C["$[]="]("manname-id",A.$id()),C["$[]="]("manname",_),C["$[]="]("mannames",K),C["$[]="]("manpurpose",j),ce(E.$backend(),"manpage")&&(C["$[]="]("docname",_),C["$[]="]("outfilesuffix","."+l))):ee="non-conforming name section body"):ee="name section must be at level 1":ee="name section expected",u(ee)?(F.$restore_save(),Y.$logger().$error(Y.$message_with_context(ee,R(["source_location"],{source_location:F.$cursor()}))),C["$[]="]("manname",_=u(a=C["$[]"]("docname"))?a:"command"),C["$[]="]("mannames",[_]),ce(E.$backend(),"manpage")&&(C["$[]="]("docname",_),C["$[]="]("outfilesuffix","."+l))):F.$discard_save()),b},-4),I(ue,"$next_section",function(F,E,x){var B,D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b;for(x==null&&(x=R([],{})),C=l=t=!1,ce(E.$context(),"document")&&u(E.$blocks()["$empty?"]())&&(u(a=E["$header?"]())||u(x.$delete("invalid-header"))||m(Y["$is_next_line_section?"](F,x)))?(v=(_=E).$doctype()["$=="]("book"),(u(a)||u(v)&&se(x["$[]"](1),"abstract"))&&(C=l=H("Block").$new(E,"preamble",R(["content_model"],{content_model:"compound"})),u(v)&&u(E["$attr?"]("preface-title"))&&C["$title="](E.$attr("preface-title")),E.$blocks()["$<<"](C)),c=E,A=0,u(E.$attributes()["$key?"]("fragment"))?S=-1:u(v)?(B=[1,0],S=B[0],K=B[1]):S=1):(v=(_=E.$document()).$doctype()["$=="]("book"),c=Y.$initialize_section(F,E,x),x=u(j=x["$[]"]("title"))?R(["title"],{title:j}):R([],{}),S=Ne(A=c.$level(),1),ce(A,0)?t=v:ce(A,1)&&u(c.$special())&&(ce(ee=c.$sectname(),"appendix")||ce(ee,"preface")||ce(ee,"abstract")||(S=b))),F.$skip_blank_lines();u(F["$has_more_lines?"]());){if(Y.$parse_block_metadata_lines(F,_,x),u(he=Y["$is_next_line_section?"](F,x)))if(u(_["$attr?"]("leveloffset"))&&(he=Ne(he,_.$attr("leveloffset").$to_i()),u(_e(he,0))&&(he=0)),u(ve(he,A)))u(S)?ce(he,S)||u(K)&&ce(he,K)||u(_e(S,0))||(Be=u(K)?"expected levels "+K+" or "+S:"expected level "+S,Y.$logger().$warn(Y.$message_with_context("section title out of sequence: "+Be+", got level "+he,R(["source_location"],{source_location:F.$cursor()})))):Y.$logger().$error(Y.$message_with_context(""+ee+" sections do not support nested sections",R(["source_location"],{source_location:F.$cursor()}))),D=Y.$next_section(F,c,x),B=we(D),Ze=B[0]==null?b:B[0],x=B[1]==null?b:B[1],c.$assign_numeral(Ze),c.$blocks()["$<<"](Ze);else if(ce(he,0)&&ce(c,_))u(v)||Y.$logger().$error(Y.$message_with_context("level 0 sections can only be used when doctype is book",R(["source_location"],{source_location:F.$cursor()}))),D=Y.$next_section(F,c,x),B=we(D),Ze=B[0]==null?b:B[0],x=B[1]==null?b:B[1],c.$assign_numeral(Ze),c.$blocks()["$<<"](Ze);else break;else $t=F.$cursor(),u(et=Y.$next_block(F,u(at=l)?at:c,x,R(["parse_metadata"],{parse_metadata:!1})))&&(u(t)&&(m(c["$blocks?"]())?se(et.$style(),"partintro")?ce(et.$style(),"open")&&ce(et.$context(),"open")?et["$style="]("partintro"):(et["$parent="](l=H("Block").$new(c,"open",R(["content_model"],{content_model:"compound"}))),l["$style="]("partintro"),c.$blocks()["$<<"](l)):ce(et.$content_model(),"simple")&&(et["$content_model="]("compound"),et["$<<"](H("Block").$new(et,"paragraph",R(["source","subs"],{source:et.$lines(),subs:et.$subs()}))),et.$lines().$clear(),et.$subs().$clear()):ce(c.$blocks().$size(),1)&&(ct=c.$blocks()["$[]"](0),m(l)&&ce(ct.$content_model(),"compound")?Y.$logger().$error(Y.$message_with_context("illegal block content outside of partintro block",R(["source_location"],{source_location:$t}))):se(ct.$content_model(),"compound")&&(et["$parent="](l=H("Block").$new(c,"open",R(["content_model"],{content_model:"compound"}))),ce(ct.$style(),(B=["partintro"],G(l,"style=",B),B[B.length-1]))&&(ct["$context="]("paragraph"),ct["$style="](b)),c.$blocks().$shift(),l["$<<"](ct),c.$blocks()["$<<"](l)))),(u(at=l)?at:c).$blocks()["$<<"](et),x.$clear());if(!u(at=F.$skip_blank_lines()))break}if(u(t))u(c["$blocks?"]())&&ce(c.$blocks()["$[]"](-1).$context(),"section")||Y.$logger().$error(Y.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",R(["source_location"],{source_location:F.$cursor()})));else if(u(C))if(u(C["$blocks?"]()))if(u(v)||u(_.$blocks()["$[]"](1))||m(H("Compliance").$unwrap_standalone_preamble()))u(_.$sourcemap())&&C["$source_location="](C.$blocks()["$[]"](0).$source_location());else for(_.$blocks().$shift();u(ft=C.$blocks().$shift());)_["$<<"](ft);else _.$blocks().$shift();return[ce(c,E)?b:c,x.$merge()]},-3),I(ue,"$next_block",function(F,E,x,B){var D,Y,C=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b,ut=b,ht=b,dt=b,At=b,yt=b,It=b,St=b,wt=b,Et=b,Ct=b,Tt=b,Yt=b,Pt=b,Rt=b,xt=b,qt=b,Lt=b,kt=b,Ft=b,jt=b,Dt=b,Nt=b,Ht=b,Mt=b,Bt=b,Gt=b,Wt=b,Jt=b,Vt=b,Zt=b;if(Ge["~"]==null&&(Ge["~"]=b),x==null&&(x=R([],{})),B==null&&(B=R([],{})),!u(l=F.$skip_blank_lines()))return b;if(u(t=B["$[]"]("text_only"))&&u(ve(l,0))&&(B.$delete("text_only"),t=b),a=E.$document(),u(B.$fetch("parse_metadata",!0))){for(;u(C.$parse_block_metadata_line(F,a,x,B));)if(F.$shift(),!u(v=F.$skip_blank_lines()))return b}if(u(_=a.$extensions())&&(D=[_["$blocks?"](),_["$block_macros?"]()],c=D[0],A=D[1]),F.$mark(),D=[F.$read_line(),a.$attributes(),x["$[]"](1)],S=D[0],K=D[1],j=D[2],ee=he=Be=Ze=b,u($t=C["$is_delimited_block?"](S,!0))&&(he=Be=$t.$context(),Ze=$t.$terminator(),u(j)?ce(j,he.$to_s())||(u($t.$masq()["$include?"](j))?he=j.$to_sym():u($t.$masq()["$include?"]("admonition"))&&u(H("ADMONITION_STYLES")["$include?"](j))?he="admonition":u(c)&&u(_["$registered_for_block?"](j,he))?he=j.$to_sym():(u(C.$logger()["$debug?"]())&&C.$logger().$debug(C.$message_with_context("unknown style for "+he+" block: "+j,R(["source_location"],{source_location:F.$cursor_at_mark()}))),j=he.$to_s())):j=(D=["style",he.$to_s()],G(x,"[]=",D),D[D.length-1])),!u($t))for(;u(!0);){if(u(j)&&u(H("Compliance").$strict_verbatim_paragraphs())&&u(H("VERBATIM_STYLES")["$include?"](j))){he=j.$to_sym(),F.$unshift_line(S);break}if(u(t))et=S["$start_with?"](" ",H("TAB"));else if(at=H("Compliance").$markdown_syntax(),u(S["$start_with?"](" "))){if(D=[!0," "],et=D[0],ct=D[1],u(at)&&u(G(S.$lstrip(),"start_with?",st(H("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&u(H("MarkdownThematicBreakRx")["$match?"](S))){ee=H("Block").$new(E,"thematic_break",R(["content_model"],{content_model:"empty"}));break}}else if(u(S["$start_with?"](H("TAB"))))D=[!0,H("TAB")],et=D[0],ct=D[1];else if(D=[!1,S.$chr()],et=D[0],ct=D[1],ft=u(at)?H("HYBRID_LAYOUT_BREAK_CHARS"):H("LAYOUT_BREAK_CHARS"),u(ft["$key?"](ct))&&u(u(at)?H("ExtLayoutBreakRx")["$match?"](S):u(v=C["$uniform?"](S,ct,ut=S.$length()))?ve(ut,2):v)){ee=H("Block").$new(E,ft["$[]"](ct),R(["content_model"],{content_model:"empty"}));break}else if(u(S["$end_with?"]("]"))&&u(S["$include?"]("::"))){if((ce(ct,"i")||u(S["$start_with?"]("video:","audio:")))&&u(H("BlockMediaMacroRx")["$=~"](S))){if(D=[((Y=Ge["~"])===b?b:Y["$[]"](1)).$to_sym(),(Y=Ge["~"])===b?b:Y["$[]"](2),(Y=Ge["~"])===b?b:Y["$[]"](3)],ht=D[0],dt=D[1],At=D[2],ee=H("Block").$new(E,ht,R(["content_model"],{content_model:"empty"})),u(At)){switch(ht){case"video":yt=["poster","width","height"];break;case"audio":yt=[];break;default:yt=["alt","width","height"]}ee.$parse_attributes(At,yt,R(["sub_input","into"],{sub_input:!0,into:x}))}if(u(x["$key?"]("style"))&&x.$delete("style"),u(dt["$include?"](H("ATTR_REF_HEAD")))){if(u((It=ee.$sub_attributes(dt))["$empty?"]())&&ce(u(v=K["$[]"]("attribute-missing"))?v:H("Compliance").$attribute_missing(),"drop-line")&&u(ee.$sub_attributes(Ne(dt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return x.$clear(),b;dt=It}ce(ht,"image")&&(a.$register("images",dt),x["$[]="]("imagesdir",K["$[]"]("imagesdir")),u(v=x["$[]"]("alt"))||x["$[]="]("alt",u(St=j)?St:(D=["default-alt",H("Helpers").$basename(dt,!0).$tr("_-"," ")],G(x,"[]=",D),D[D.length-1])),u((wt=x.$delete("scaledwidth"))["$nil_or_empty?"]())||x["$[]="]("scaledwidth",u(H("TrailingDigitsRx")["$match?"](wt))?""+wt+"%":wt),u(x["$[]"]("title"))&&(ee["$title="](Et=x.$delete("title")),ee.$assign_caption(x.$delete("caption"),"figure"))),x["$[]="]("target",dt);break}else if(ce(ct,"t")&&u(S["$start_with?"]("toc:"))&&u(H("BlockTocMacroRx")["$=~"](S))){ee=H("Block").$new(E,"toc",R(["content_model"],{content_model:"empty"})),u((D=Ge["~"])===b?b:D["$[]"](1))&&ee.$parse_attributes((D=Ge["~"])===b?b:D["$[]"](1),[],R(["into"],{into:x}));break}else if(u(u(A)?u(v=u(St=H("CustomBlockMacroRx")["$=~"](S))?Ct=_["$registered_for_block_macro?"]((D=Ge["~"])===b?b:D["$[]"](1)):St)?v:Tt=C.$logger()["$debug?"]():u(v=C.$logger()["$debug?"]())?Tt=H("CustomBlockMacroRx")["$=~"](S):v))if(u(Tt))C.$logger().$debug(C.$message_with_context("unknown name for block macro: "+((D=Ge["~"])===b?b:D["$[]"](1)),R(["source_location"],{source_location:F.$cursor_at_mark()})));else{if(Yt=(D=Ge["~"])===b?b:D["$[]"](3),u((dt=(D=Ge["~"])===b?b:D["$[]"](2))["$include?"](H("ATTR_REF_HEAD")))){if(u((It=E.$sub_attributes(dt))["$empty?"]())&&ce(u(v=K["$[]"]("attribute-missing"))?v:H("Compliance").$attribute_missing(),"drop-line")&&u(E.$sub_attributes(Ne(dt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return x.$clear(),b;dt=It}if(ce((Pt=Ct.$config())["$[]"]("content_model"),"attributes")?u(Yt)&&a.$parse_attributes(Yt,u(v=u(St=Pt["$[]"]("positional_attrs"))?St:Pt["$[]"]("pos_attrs"))?v:[],R(["sub_input","into"],{sub_input:!0,into:x})):x["$[]="]("text",u(v=Yt)?v:""),u(Rt=Pt["$[]"]("default_attrs"))&&G(x,"update",[Rt],function(Ut,Kt){return Kt==null&&(Kt=b),Kt}),u(ee=Ct.$process_method()["$[]"](E,dt,x))&&se(ee,E)){x.$replace(ee.$attributes());break}else return x.$clear(),b}}if(m(et)&&ce(ct=u(v=ct)?v:S.$chr(),"<")&&u(H("CalloutListRx")["$=~"](S))){F.$unshift_line(S),ee=C.$parse_callout_list(F,Ge["~"],E,a.$callouts()),x["$[]="]("style","arabic");break}else if(u(H("UnorderedListRx")["$match?"](S))){F.$unshift_line(S),m(j)&&Re(H("Section"),E)&&ce(E.$sectname(),"bibliography")&&x["$[]="]("style",j="bibliography"),ee=C.$parse_list(F,"ulist",E,j);break}else if(u(H("OrderedListRx")["$match?"](S))){F.$unshift_line(S),ee=C.$parse_list(F,"olist",E,j),u(ee.$style())&&x["$[]="]("style",ee.$style());break}else if((u(S["$include?"]("::"))||u(S["$include?"](";;")))&&u(H("DescriptionListRx")["$=~"](S))){F.$unshift_line(S),ee=C.$parse_description_list(F,Ge["~"],E);break}else if((ce(j,"float")||ce(j,"discrete"))&&u(u(H("Compliance").$underline_style_section_titles())?C["$is_section_title?"](S,F.$peek_line()):u(v=et["$!"]())?C["$atx_section_title?"](S):v)){F.$unshift_line(S),Y=C.$parse_section_title(F,a,x["$[]"]("id")),D=we(Y),xt=D[0]==null?b:D[0],qt=D[1]==null?b:D[1],Et=D[2]==null?b:D[2],Lt=D[3]==null?b:D[3],u(qt)&&x["$[]="]("reftext",qt),ee=H("Block").$new(E,"floating_title",R(["content_model"],{content_model:"empty"})),ee["$title="](Et),x.$delete("title"),ee["$id="](u(v=xt)?v:u(K["$key?"]("sectids"))?H("Section").$generate_id(ee.$title(),a):b),ee["$level="](Lt);break}else if(u(j)&&se(j,"normal"))if(u(H("PARAGRAPH_STYLES")["$include?"](j))){he=j.$to_sym(),Be="paragraph",F.$unshift_line(S);break}else if(u(H("ADMONITION_STYLES")["$include?"](j))){he="admonition",Be="paragraph",F.$unshift_line(S);break}else if(u(c)&&u(_["$registered_for_block?"](j,"paragraph"))){he=j.$to_sym(),Be="paragraph",F.$unshift_line(S);break}else u(C.$logger()["$debug?"]())&&C.$logger().$debug(C.$message_with_context("unknown style for paragraph: "+j,R(["source_location"],{source_location:F.$cursor_at_mark()}))),j=b;if(F.$unshift_line(S),u(et)&&m(j))kt=C.$read_paragraph_lines(F,Ft=ce(l,0)?B["$[]"]("list_type"):b,R(["skip_line_comments"],{skip_line_comments:t})),C["$adjust_indentation!"](kt),u(t)||ce(Ft,"dlist")?ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x})):ee=H("Block").$new(E,"literal",R(["content_model","source","attributes"],{content_model:"verbatim",source:kt,attributes:x}));else{if(kt=C.$read_paragraph_lines(F,u(v=l["$=="](0))?B["$[]"]("list_type"):v,R(["skip_line_comments"],{skip_line_comments:!0})),u(t))u(et)&&ce(j,"normal")&&C["$adjust_indentation!"](kt),ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));else if(u(H("ADMONITION_STYLE_HEADS")["$include?"](ct))&&u(S["$include?"](":"))&&u(H("AdmonitionParagraphRx")["$=~"](S)))kt["$[]="](0,(D=Ge["~"])===b?b:D.$post_match()),x["$[]="]("name",jt=(D=["style",(Y=Ge["~"])===b?b:Y["$[]"](1)],G(x,"[]=",D),D[D.length-1]).$downcase()),x["$[]="]("textlabel",u(v=x.$delete("caption"))?v:K["$[]"](""+jt+"-caption")),ee=H("Block").$new(E,"admonition",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));else if(u(at)&&ce(ct,">")&&u(S["$start_with?"]("> "))){if(G(kt,"map!",[],function(Ut){return Ut==null&&(Ut=b),ce(Ut,">")?Ut.$slice(1,Ut.$length()):u(Ut["$start_with?"]("> "))?Ut.$slice(2,Ut.$length()):Ut}),u(kt["$[]"](-1)["$start_with?"]("-- "))&&(Dt=(Dt=kt.$pop()).$slice(3,Dt.$length()),!u(kt["$empty?"]())))for(;u(kt["$[]"](-1)["$empty?"]());)kt.$pop();x["$[]="]("style","quote"),ee=C.$build_block("quote","compound",!1,E,H("Reader").$new(kt),x),u(Dt)&&(Y=ee.$apply_subs(Dt).$split(", ",2),D=we(Y),Nt=D[0]==null?b:D[0],Ht=D[1]==null?b:D[1],u(Nt)&&x["$[]="]("attribution",Nt),u(Ht)&&x["$[]="]("citetitle",Ht))}else if(ce(ct,'"')&&u(ve(kt.$size(),1))&&u(kt["$[]"](-1)["$start_with?"]("-- "))&&u(kt["$[]"](-2)["$end_with?"]('"'))){for(kt["$[]="](0,S.$slice(1,S.$length())),Dt=(Dt=kt.$pop()).$slice(3,Dt.$length());u(kt["$[]"](-1)["$empty?"]());)kt.$pop();kt["$<<"](kt.$pop().$chop()),x["$[]="]("style","quote"),ee=H("Block").$new(E,"quote",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x})),Y=ee.$apply_subs(Dt).$split(", ",2),D=we(Y),Nt=D[0]==null?b:D[0],Ht=D[1]==null?b:D[1],u(Nt)&&x["$[]="]("attribution",Nt),u(Ht)&&x["$[]="]("citetitle",Ht)}else u(et)&&ce(j,"normal")&&C["$adjust_indentation!"](kt),ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));C.$catalog_inline_anchors(kt.$join(H("LF")),ee,a,F)}break}if(!u(ee))switch(he){case"listing":case"source":(ce(he,"source")||m(x["$[]"](1))&&u(Mt=u(St=x["$[]"](2))?St:K["$[]"]("source-language")))&&(u(Mt)?(x["$[]="]("style","source"),x["$[]="]("language",Mt),H("AttributeList").$rekey(x,[b,b,"linenums"])):(H("AttributeList").$rekey(x,[b,"language","linenums"]),u(x["$key?"]("language"))||u(K["$key?"]("source-language"))&&x["$[]="]("language",K["$[]"]("source-language"))),u(x["$key?"]("linenums"))||(u(x["$[]"]("linenums-option"))||u(K["$[]"]("source-linenums-option")))&&x["$[]="]("linenums",""),u(x["$key?"]("indent"))||u(K["$key?"]("source-indent"))&&x["$[]="]("indent",K["$[]"]("source-indent"))),ee=C.$build_block("listing","verbatim",Ze,E,F,x);break;case"fenced_code":x["$[]="]("style","source"),u(ve(ut=S.$length(),3))&&(u(Bt=(Mt=S.$slice(3,ut)).$index(","))?u(ve(Bt,0))?(Mt=Mt.$slice(0,Bt).$strip(),u(_e(Bt,Oe(ut,4)))&&x["$[]="]("linenums","")):u(ve(ut,4))&&x["$[]="]("linenums",""):Mt=Mt.$lstrip()),u(Mt["$nil_or_empty?"]())?u(K["$key?"]("source-language"))&&x["$[]="]("language",K["$[]"]("source-language")):x["$[]="]("language",Mt),u(x["$key?"]("linenums"))||(u(x["$[]"]("linenums-option"))||u(K["$[]"]("source-linenums-option")))&&x["$[]="]("linenums",""),u(x["$key?"]("indent"))||u(K["$key?"]("source-indent"))&&x["$[]="]("indent",K["$[]"]("source-indent")),Ze=Ze.$slice(0,3),ee=C.$build_block("listing","verbatim",Ze,E,F,x);break;case"table":Gt=F.$cursor(),Wt=H("Reader").$new(F.$read_lines_until(R(["terminator","skip_line_comments","context","cursor"],{terminator:Ze,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Gt),u(Ze["$start_with?"]("|","!"))||u(St=x["$[]"]("format"))||x["$[]="]("format",u(Ze["$start_with?"](","))?"csv":"dsv"),ee=C.$parse_table(Wt,E,x);break;case"sidebar":ee=C.$build_block(he,"compound",Ze,E,F,x);break;case"admonition":x["$[]="]("name",jt=j.$downcase()),x["$[]="]("textlabel",u(St=x.$delete("caption"))?St:K["$[]"](""+jt+"-caption")),ee=C.$build_block(he,"compound",Ze,E,F,x);break;case"open":case"abstract":case"partintro":ee=C.$build_block("open","compound",Ze,E,F,x);break;case"literal":ee=C.$build_block(he,"verbatim",Ze,E,F,x);break;case"example":u(x["$[]"]("collapsible-option"))&&x["$[]="]("caption",""),ee=C.$build_block(he,"compound",Ze,E,F,x);break;case"quote":case"verse":H("AttributeList").$rekey(x,[b,"attribution","citetitle"]),ee=C.$build_block(he,ce(he,"verse")?"verbatim":"compound",Ze,E,F,x);break;case"stem":case"latexmath":case"asciimath":ce(he,"stem")&&x["$[]="]("style",H("STEM_TYPE_ALIASES")["$[]"](u(St=x["$[]"](2))?St:K["$[]"]("stem"))),ee=C.$build_block("stem","raw",Ze,E,F,x);break;case"pass":ee=C.$build_block(he,"raw",Ze,E,F,x);break;case"comment":return C.$build_block(he,"skip",Ze,E,F,x),x.$clear(),b;default:if(u(c)&&u(Ct=_["$registered_for_block?"](he,Be))){if(ce(Jt=(Pt=Ct.$config())["$[]"]("content_model"),"skip")||(u((Vt=u(St=Pt["$[]"]("positional_attrs"))?St:Pt["$[]"]("pos_attrs"))["$nil_or_empty?"]())||H("AttributeList").$rekey(x,Ne([b],Vt)),u(Rt=Pt["$[]"]("default_attrs"))&&G(Rt,"each",[],function(Ut,Kt){var Xt;return Ut==null&&(Ut=b),Kt==null&&(Kt=b),u(St=x["$[]"](Ut))?St:(Xt=[Ut,Kt],G(x,"[]=",Xt),Xt[Xt.length-1])}),x["$[]="]("cloaked-context",Be)),!u(ee=C.$build_block(he,Jt,Ze,E,F,x,R(["extension"],{extension:Ct}))))return x.$clear(),b}else C.$raise("Unsupported block type "+he+" at "+F.$cursor())}return u(a.$sourcemap())&&ee["$source_location="](F.$cursor_at_mark()),u(x["$[]"]("title"))&&(ee["$title="](Et=x.$delete("title")),u(H("CAPTION_ATTRIBUTE_NAMES")["$[]"](ee.$context()))&&ee.$assign_caption(x.$delete("caption"))),ee["$style="](x["$[]"]("style")),u(Zt=u(v=ee.$id())?v:(D=[x["$[]"]("id")],G(ee,"id=",D),D[D.length-1]))&&(u(u(Et)?Et["$include?"](H("ATTR_REF_HEAD")):ee["$title?"]())&&ee.$title(),u(a.$register("refs",[Zt,ee]))||C.$logger().$warn(C.$message_with_context("id assigned to block already in use: "+Zt,R(["source_location"],{source_location:F.$cursor_at_mark()})))),u(x["$empty?"]())||ee.$update_attributes(x),ee.$commit_subs(),u(ee["$sub?"]("callouts"))&&(u(C.$catalog_callouts(ee.$source(),a))||ee.$remove_sub("callouts")),ee},-3),I(ue,"$read_paragraph_lines",function(F,E,x){var B=b;return x==null&&(x=R([],{})),x["$[]="]("break_on_blank_lines",!0),x["$[]="]("break_on_list_continuation",!0),x["$[]="]("preserve_last_line",!0),B=u(E)?u(H("Compliance").$block_terminates_paragraph())?H("StartOfBlockOrListProc"):H("StartOfListProc"):u(H("Compliance").$block_terminates_paragraph())?H("StartOfBlockProc"):H("NoOp"),G(F,"read_lines_until",[x],B.$to_proc())},-3),I(ue,"$is_delimited_block?",function(F,E){var x,B,D=this,Y=b,C=b,l=b,t=b,a=b;if(E==null&&(E=b),!(u(ve(Y=F.$length(),1))&&u(H("DELIMITED_BLOCK_HEADS")["$[]"](F.$slice(0,2)))))return b;if(ce(Y,2))C=F,l=2;else if(u(_e(Y,5))?(C=F,l=Y):C=F.$slice(0,l=4),u(H("Compliance").$markdown_syntax())&&u(C["$start_with?"]("`"))){if(ce(l,4)){if(ce(C,"````")||se(C=C.$chop(),"```"))return b;F=C,Y=l=3}else if(se(C,"```"))return b}else if(ce(l,3))return b;return B=H("DELIMITED_BLOCKS")["$[]"](C),x=we(B),t=x[0]==null?b:x[0],a=x[1]==null?b:x[1],u(t)&&(ce(Y,l)||u(D["$uniform?"](F.$slice(1,Y),H("DELIMITED_BLOCK_TAILS")["$[]"](C),Oe(Y,1))))?u(E)?H("BlockMatchData").$new(t,a,C,F):!0:b},-2),I(ue,"$build_block",function(F,E,x,B,D,Y,C){var l,t=this,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b;switch(C==null&&(C=R([],{})),E){case"skip":l=[!0,"simple"],a=l[0],v=l[1];break;case"raw":l=[!1,"simple"],a=l[0],v=l[1];break;default:l=[!1,E],a=l[0],v=l[1]}switch(u(x["$nil?"]())?(ce(v,"verbatim")?_=D.$read_lines_until(R(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ce(E,"compound")&&(E="simple"),_=t.$read_paragraph_lines(D,!1,R(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:a}))),c=b):se(v,"compound")?(_=D.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:x,skip_processing:a,context:F,cursor:"at_mark"})),c=b):ce(x,!1)?(_=b,c=D):(_=b,A=D.$cursor(),c=H("Reader").$new(D.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:x,skip_processing:a,context:F,cursor:"at_mark"})),A)),E){case"verbatim":S=(u(K=Y["$[]"]("tabsize"))?K:B.$document().$attributes()["$[]"]("tabsize")).$to_i(),u(j=Y["$[]"]("indent"))?t["$adjust_indentation!"](_,j.$to_i(),S):u(ve(S,0))&&t["$adjust_indentation!"](_,-1,S);break;case"skip":return b}if(u(ee=C["$[]"]("extension")))if(Y.$delete("style"),u(he=ee.$process_method()["$[]"](B,u(Be=c)?Be:H("Reader").$new(_),Y.$merge()))&&se(he,B))Y.$replace(he.$attributes()),ce(he.$content_model(),"compound")&&Re(H("Block"),he)&&m((_=he.$lines())["$empty?"]())&&(E="compound",c=H("Reader").$new(_));else return b;else he=H("Block").$new(B,F,R(["content_model","source","attributes"],{content_model:E,source:_,attributes:Y}));return ce(E,"compound")&&t.$parse_blocks(c,he),he},-7),I(ue,"$parse_blocks",function(F,E,x){var B=this,D=b,Y=b,C=b;if(x==null&&(x=b),u(x))for(;u(u(D=u(Y=C=B.$next_block(F,E,x.$merge()))?E.$blocks()["$<<"](C):Y)?D:F["$has_more_lines?"]()););else for(;u(u(D=u(Y=C=B.$next_block(F,E))?E.$blocks()["$<<"](C):Y)?D:F["$has_more_lines?"]()););return b},-3),I(ue,"$parse_list",function(F,E,x,B){var D,Y=this,C=b,l=b,t=b,a=b;for(Ge["~"]==null&&(Ge["~"]=b),C=H("List").$new(x,E),l=H("ListRxMap")["$[]"](E);u(u(t=F["$has_more_lines?"]())?l["$=~"](F.$peek_line()):t)&&(u(a=Y.$parse_list_item(F,C,Ge["~"],(D=Ge["~"])===b?b:D["$[]"](1),B))&&C.$items()["$<<"](a),!!u(t=F.$skip_blank_lines())););return C}),I(ue,"$catalog_callouts",function(F,E){var x=b,B=b;return x=!1,B=0,u(F["$include?"]("<"))&&G(F,"scan",[H("CalloutScanRx")],function(){var Y;return u(((Y=Ge["~"])===b?b:Y["$[]"](0))["$start_with?"]("\\"))||E.$callouts().$register(ce((Y=Ge["~"])===b?b:Y["$[]"](2),".")?(B=Ne(B,1)).$to_s():(Y=Ge["~"])===b?b:Y["$[]"](2)),x=!0}),x}),I(ue,"$catalog_inline_anchor",function(F,E,x,B,D){var Y=this;return D==null&&(D=x.$document()),u(E)&&u(E["$include?"](H("ATTR_REF_HEAD")))&&(E=D.$sub_attributes(E)),u(D.$register("refs",[F,H("Inline").$new(x,"anchor",E,R(["type","id"],{type:"ref",id:F}))]))||(Re(H("Reader"),B)&&(B=B.$cursor()),Y.$logger().$warn(Y.$message_with_context("id assigned to anchor already in use: "+F,R(["source_location"],{source_location:B})))),b},-5),I(ue,"$catalog_inline_anchors",function(F,E,x,B){var D=this;return(u(F["$include?"]("[["))||u(F["$include?"]("or:")))&&G(F,"scan",[H("InlineAnchorScanRx")],function Y(){var C,l=Y.$$s==null?this:Y.$$s,t=b,a=b,v=b,_=b;if(u(t=(C=Ge["~"])===b?b:C["$[]"](1))){if(u(a=(C=Ge["~"])===b?b:C["$[]"](2))&&u(a["$include?"](H("ATTR_REF_HEAD")))&&u((a=x.$sub_attributes(a))["$empty?"]()))return b}else t=(C=Ge["~"])===b?b:C["$[]"](3),u(a=(C=Ge["~"])===b?b:C["$[]"](4))&&(u(a["$include?"]("]"))?(a=a.$gsub("\\]","]"),u(a["$include?"](H("ATTR_REF_HEAD")))&&(a=x.$sub_attributes(a))):u(a["$include?"](H("ATTR_REF_HEAD")))&&u((a=x.$sub_attributes(a))["$empty?"]())&&(a=b));return u(x.$register("refs",[t,H("Inline").$new(E,"anchor",a,R(["type","id"],{type:"ref",id:t}))]))?b:(v=B.$cursor_at_mark(),u(ve(_=Ne(((C=Ge["~"])===b?b:C.$pre_match()).$count(H("LF")),u(((C=Ge["~"])===b?b:C["$[]"](0))["$start_with?"](H("LF")))?1:0),0))&&(v=v.$dup()).$advance(_),l.$logger().$warn(l.$message_with_context("id assigned to anchor already in use: "+t,R(["source_location"],{source_location:v}))))},{$$s:D}),b}),I(ue,"$catalog_inline_biblio_anchor",function(F,E,x,B){var D=this,Y=b;return u(x.$document().$register("refs",[F,H("Inline").$new(x,"anchor",u(Y=E)?"["+E+"]":Y,R(["type","id"],{type:"bibref",id:F}))]))||D.$logger().$warn(D.$message_with_context("id assigned to bibliography anchor already in use: "+F,R(["source_location"],{source_location:B.$cursor()}))),b}),I(ue,"$parse_description_list",function(F,E,x){var B=this,D=b,Y=b,C=b,l=b,t=b;for(Ge["~"]==null&&(Ge["~"]=b),D=H("List").$new(x,"dlist"),Y=H("DescriptionListSiblingRx")["$[]"](E["$[]"](2)),D.$items()["$<<"](C=B.$parse_list_item(F,D,E,Y));u(u(l=F["$has_more_lines?"]())?Y["$=~"](F.$peek_line()):l);)t=B.$parse_list_item(F,D,Ge["~"],Y),u(C["$[]"](1))?D.$items()["$<<"](C=t):(C["$[]"](0)["$<<"](t["$[]"](0)["$[]"](0)),C["$[]="](1,t["$[]"](1)));return D}),I(ue,"$parse_callout_list",function(F,E,x,B){var D=this,Y=b,C=b,l=b,t=b,a=b,v=b,_=b,c=b;for(Y=H("List").$new(x,"colist"),C=1,l=0;u(u(t=E)?t:u(a=E=H("CalloutListRx").$match(F.$peek_line()))?F.$mark():a);)ce(v=E["$[]"](1),".")&&(v=(l=Ne(l,1)).$to_s()),ce(v,C.$to_s())||D.$logger().$warn(D.$message_with_context("callout list item index: expected "+C+", got "+v,R(["source_location"],{source_location:F.$cursor_at_mark()}))),u(_=D.$parse_list_item(F,Y,E,"<1>"))&&(Y.$items()["$<<"](_),u((c=B.$callout_ids(Y.$items().$size()))["$empty?"]())?D.$logger().$warn(D.$message_with_context("no callout found for <"+Y.$items().$size()+">",R(["source_location"],{source_location:F.$cursor_at_mark()}))):_.$attributes()["$[]="]("coids",c)),C=Ne(C,1),E=b;return B.$next_list(),Y}),I(ue,"$parse_list_item",function(F,E,x,B,D){var Y,C,l=this,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b,ut=b,ht=b;if(D==null&&(D=b),ce(t=E.$context(),"dlist"))a=!0,v=H("ListItem").$new(E,_=x["$[]"](1)),u(_["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](_))&&l.$catalog_inline_anchor((Y=Ge["~"])===b?b:Y["$[]"](1),u(c=(Y=Ge["~"])===b?b:Y["$[]"](2))?c:((Y=Ge["~"])===b?b:Y.$post_match()).$lstrip(),v,F),u(A=x["$[]"](3))&&(S=!0),K=H("ListItem").$new(E,A),u(E.$document().$sourcemap())&&(v["$source_location="](F.$cursor()),u(S)?K["$source_location="](v.$source_location()):j=!0);else switch(S=!0,K=H("ListItem").$new(E,A=x["$[]"](2)),u(E.$document().$sourcemap())&&K["$source_location="](F.$cursor()),t){case"ulist":K["$marker="](B),u(A["$start_with?"]("["))&&(u(D)&&ce(D,"bibliography")?u(H("InlineBiblioAnchorRx")["$=~"](A))&&l.$catalog_inline_biblio_anchor((Y=Ge["~"])===b?b:Y["$[]"](1),(Y=Ge["~"])===b?b:Y["$[]"](2),K,F):u(A["$start_with?"]("[["))?u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ge["~"])===b?b:Y["$[]"](1),(Y=Ge["~"])===b?b:Y["$[]"](2),K,F):u(A["$start_with?"]("[ ] ","[x] ","[*] "))&&(E.$set_option("checklist"),K.$attributes()["$[]="]("checkbox",""),u(A["$start_with?"]("[ "))||K.$attributes()["$[]="]("checked",""),K["$text="](A.$slice(4,A.$length()))));break;case"olist":C=l.$resolve_ordered_list_marker(B,ee=E.$items().$size(),!0,F),Y=we(C),B=Y[0]==null?b:Y[0],he=Y[1]==null?b:Y[1],K["$marker="](B),ce(ee,0)&&m(D)&&E["$style="](u(Be=he)?Be:(u(Ze=H("ORDERED_LIST_STYLES")["$[]"](Oe(B.$length(),1)))?Ze:"arabic").$to_s()),u(A["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ge["~"])===b?b:Y["$[]"](1),(Y=Ge["~"])===b?b:Y["$[]"](2),K,F);break;default:K["$marker="](B),u(A["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ge["~"])===b?b:Y["$[]"](1),(Y=Ge["~"])===b?b:Y["$[]"](2),K,F)}if(F.$shift(),$t=F.$cursor(),et=H("Reader").$new(l.$read_lines_for_list_item(F,t,B,S),$t),u(et["$has_more_lines?"]())){for(u(j)&&K["$source_location="]($t),at=et.$skip_line_comments(),u(ct=et.$peek_line())&&(u(at["$empty?"]())||et.$unshift_lines(at),u(ct["$empty?"]())||(ft=!0,u(a)||(S=b))),u(ut=l.$next_block(et,K,R([],{}),R(["text_only","list_type"],{text_only:u(S)?b:!0,list_type:t})))&&K.$blocks()["$<<"](ut);u(et["$has_more_lines?"]());)u(ut=l.$next_block(et,K,R([],{}),R(["list_type"],{list_type:t})))&&K.$blocks()["$<<"](ut);u(ft)&&u(ht=K.$blocks()["$[]"](0))&&ce(ht.$context(),"paragraph")&&K.$fold_first()}return u(a)?[[v],u(K["$text?"]())||u(K["$blocks?"]())?K:b]:K},-5),I(ue,"$read_lines_for_list_item",function(F,E,x,B){var D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b;for(x==null&&(x=b),B==null&&(B=!0),C=[],l="inactive",t=!1,a=b,v=E["$=="]("dlist");u(F["$has_more_lines?"]())&&(_=F.$read_line(),!u(Y["$is_sibling_list_item?"](_,E,x)));){if(c=u(C["$empty?"]())?b:C["$[]"](-1),ce(c,H("LIST_CONTINUATION"))&&(ce(l,"inactive")&&(l="active",B=!0,u(t)||C["$[]="](-1,"")),ce(_,H("LIST_CONTINUATION")))){se(l,"frozen")&&(l="frozen",C["$<<"](_)),_=b;continue}if(u(A=Y["$is_delimited_block?"](_,!0))){if(!ce(l,"active"))break;C["$<<"](_),C.$concat(F.$read_lines_until(R(["terminator","read_last_line","context"],{terminator:A.$terminator(),read_last_line:!0,context:b}))),l="inactive"}else if(u(v)&&se(l,"active")&&u(_["$start_with?"]("["))&&u(H("BlockAttributeLineRx")["$match?"](_))){for(S=[_];u(K=F.$peek_line());){if(u(Y["$is_delimited_block?"](K)))j=!0;else if(u(K["$empty?"]())||u(K["$start_with?"]("["))&&u(H("BlockAttributeLineRx")["$match?"](K))){S["$<<"](F.$read_line());continue}else u(H("AnyListRx")["$match?"](K))&&m(Y["$is_sibling_list_item?"](K,E,x))?C.$concat(S):j=!0;break}if(u(j)){F.$unshift_lines(S);break}}else if(ce(l,"active")&&m(_["$empty?"]()))u(H("LiteralParagraphRx")["$match?"](_))?(F.$unshift_line(_),u(v)?C.$concat(G(F,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=b),at["$is_sibling_list_item?"](et,E,x)},{$$s:Y})):C.$concat(F.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),l="inactive"):ce(ee=_.$chr(),".")&&u(H("BlockTitleRx")["$match?"](_))||ce(ee,"[")&&u(H("BlockAttributeLineRx")["$match?"](_))||ce(ee,":")&&u(H("AttributeEntryRx")["$match?"](_))?C["$<<"](_):(u(he=G(u(t)?["dlist"]:H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$match?"](_)}))&&(t=!0,ce(he,"dlist")&&u(((D=Ge["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(B=!1)),C["$<<"](_),l="inactive");else if(u(c)&&u(c["$empty?"]())){if(u(_["$empty?"]())&&(!u(_=u(Be=F.$skip_blank_lines())?F.$read_line():Be)||u(Y["$is_sibling_list_item?"](_,E,x))))break;if(ce(_,H("LIST_CONTINUATION")))a=C.$size(),C["$<<"](_);else if(u(B)){if(u(Y["$is_sibling_list_item?"](_,E,x)))break;if(u(he=G(H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$=~"](_)})))C["$<<"](_),t=!0,ce(he,"dlist")&&u(((D=Ge["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(B=!1);else if(u(H("LiteralParagraphRx")["$match?"](_)))F.$unshift_line(_),u(v)?C.$concat(G(F,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=b),at["$is_sibling_list_item?"](et,E,x)},{$$s:Y})):C.$concat(F.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else u(t)||C.$pop(),C["$<<"](_),B=!0}else u(_["$empty?"]())||(B=!0),u(he=G(u(t)?["dlist"]:H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$=~"](_)}))&&(t=!0,ce(he,"dlist")&&u(((D=Ge["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(B=!1)),C["$<<"](_);_=b}for(u(_)&&F.$unshift_line(_),u(a)&&C["$[]="](a,"");!u(C["$empty?"]());)if(u((Ze=C["$[]"](-1))["$empty?"]()))C.$pop();else{ce(Ze,H("LIST_CONTINUATION"))&&C.$pop();break}return C},-3),I(ue,"$initialize_section",function(F,E,x){var B,D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b;return x==null&&(x=R([],{})),C=E.$document(),l=(t=C.$doctype())["$=="]("book"),u(C.$sourcemap())&&(a=F.$cursor()),v=x["$[]"](1),D=Y.$parse_section_title(F,C,x["$[]"]("id")),B=we(D),_=B[0]==null?b:B[0],c=B[1]==null?b:B[1],A=B[2]==null?b:B[2],S=B[3]==null?b:B[3],K=B[4]==null?b:B[4],u(v)?u(l)&&ce(v,"abstract")?(B=["chapter",1],j=B[0],S=B[1]):u(v["$start_with?"]("sect"))&&u(H("SectionLevelStyleRx")["$match?"](v))?j="section":(B=[v,!0],j=B[0],ee=B[1],ce(S,0)&&(S=1),he=j["$=="]("appendix")):u(l)?j=ce(S,0)?"part":u(ve(S,1))?"section":"chapter":ce(t,"manpage")&&ce(A.$casecmp("synopsis"),0)?(B=["synopsis",!0],j=B[0],ee=B[1]):j="section",u(c)&&x["$[]="]("reftext",c),Be=H("Section").$new(E,S),B=[_,A,j,a],D=[B[0]],G(Be,"id=",D),D[D.length-1],D=[B[1]],G(Be,"title=",D),D[D.length-1],D=[B[2]],G(Be,"sectname=",D),D[D.length-1],D=[B[3]],G(Be,"source_location=",D),D[D.length-1],u(ee)?(Be["$special="](!0),u(he)?Be["$numbered="](!0):ce(C.$attributes()["$[]"]("sectnums"),"all")&&Be["$numbered="](u(l)&&ce(S,1)?"chapter":!0)):u(C.$attributes()["$[]"]("sectnums"))&&u(ve(S,0))?Be["$numbered="](u(Be.$special())?u(Ze=E.$numbered())||Ze:!0):u(l)&&ce(S,0)&&u(C.$attributes()["$[]"]("partnums"))&&Be["$numbered="](!0),u($t=u(Ze=Be.$id())?Ze:(B=[u(C.$attributes()["$key?"]("sectids"))?et=H("Section").$generate_id(Be.$title(),C):b],G(Be,"id=",B),B[B.length-1]))&&(u(et)||m(A["$include?"](H("ATTR_REF_HEAD")))||Be.$title(),u(C.$register("refs",[$t,Be]))||Y.$logger().$warn(Y.$message_with_context("id assigned to section already in use: "+$t,R(["source_location"],{source_location:F.$cursor_at_line(Oe(F.$lineno(),u(K)?1:2))})))),Be.$update_attributes(x),F.$skip_blank_lines(),Be},-3),I(ue,"$is_next_line_section?",function(F,E){var x=this,B=b,D=b,Y=b;return u(B=E["$[]"](1))&&(ce(B,"discrete")||ce(B,"float"))?b:u(H("Compliance").$underline_style_section_titles())?(D=F.$peek_lines(2,u(Y=B)?B["$=="]("comment"):Y),x["$is_section_title?"](u(Y=D["$[]"](0))?Y:"",D["$[]"](1))):x["$atx_section_title?"](u(Y=F.$peek_line())?Y:"")}),I(ue,"$is_next_line_doctitle?",function(F,E,x){var B=this,D=b,Y=b;return u(x)?u(D=Y=B["$is_next_line_section?"](F,E))?Ne(Y,x.$to_i())["$=="](0):D:B["$is_next_line_section?"](F,E)["$=="](0)}),I(ue,"$is_section_title?",function(F,E){var x=this,B=b;return E==null&&(E=b),u(B=x["$atx_section_title?"](F))?B:u(E["$nil_or_empty?"]())?b:x["$setext_section_title?"](F,E)},-2),I(ue,"$atx_section_title?",function(F){var E,x=b;return u(u(H("Compliance").$markdown_syntax())?u(x=F["$start_with?"]("=","#"))?H("ExtAtxSectionTitleRx")["$=~"](F):x:u(x=F["$start_with?"]("="))?H("AtxSectionTitleRx")["$=~"](F):x)?Oe(((E=Ge["~"])===b?b:E["$[]"](1)).$length(),1):b}),I(ue,"$setext_section_title?",function(F,E){var x=this,B=b,D=b,Y=b;return u(D=H("SETEXT_SECTION_LEVELS")["$[]"](Y=E.$chr()))&&u(x["$uniform?"](E,Y,B=E.$length()))&&u(H("SetextSectionTitleRx")["$match?"](F))&&u(_e(Oe(F.$length(),B).$abs(),2))?D:b}),I(ue,"$parse_section_title",function(F,E,x){var B,D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b;return x==null&&(x=b),C=b,l=F.$read_line(),u(u(H("Compliance").$markdown_syntax())?u(t=l["$start_with?"]("=","#"))?H("ExtAtxSectionTitleRx")["$=~"](l):t:u(t=l["$start_with?"]("="))?H("AtxSectionTitleRx")["$=~"](l):t)?(B=[Oe(((D=Ge["~"])===b?b:D["$[]"](1)).$length(),1),(D=Ge["~"])===b?b:D["$[]"](2),!0],a=B[0],v=B[1],_=B[2],u(x)||u(v["$end_with?"]("]]"))&&u(H("InlineSectionAnchorRx")["$=~"](v))&&m((B=Ge["~"])===b?b:B["$[]"](1))&&(B=[v.$slice(0,Oe(v.$length(),((D=Ge["~"])===b?b:D["$[]"](0)).$length())),(D=Ge["~"])===b?b:D["$[]"](2),(D=Ge["~"])===b?b:D["$[]"](3)],v=B[0],x=B[1],C=B[2])):u(H("Compliance").$underline_style_section_titles())&&u(S=F.$peek_line(!0))&&u(a=H("SETEXT_SECTION_LEVELS")["$[]"](A=S.$chr()))&&u(Y["$uniform?"](S,A,c=S.$length()))&&u(v=u(t=H("SetextSectionTitleRx")["$=~"](l))?(B=Ge["~"])===b?b:B["$[]"](1):t)&&u(_e(Oe(l.$length(),c).$abs(),2))?(_=!1,u(x)||u(v["$end_with?"]("]]"))&&u(H("InlineSectionAnchorRx")["$=~"](v))&&m((B=Ge["~"])===b?b:B["$[]"](1))&&(B=[v.$slice(0,Oe(v.$length(),((D=Ge["~"])===b?b:D["$[]"](0)).$length())),(D=Ge["~"])===b?b:D["$[]"](2),(D=Ge["~"])===b?b:D["$[]"](3)],v=B[0],x=B[1],C=B[2]),F.$shift()):Y.$raise("Unrecognized section at "+F.$cursor_at_prev_line()),u(E["$attr?"]("leveloffset"))&&(a=Ne(a,E.$attr("leveloffset").$to_i()),u(_e(a,0))&&(a=0)),[x,C,v,a,_]},-3),I(ue,"$parse_header_metadata",function(F,E,x){var B,D=this,Y=b,C=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b,at=b;if(E==null&&(E=b),x==null&&(x=!0),Y=u(C=E)?E.$attributes():C,D.$process_attribute_entries(F,E),u(F["$has_more_lines?"]())&&m(F["$next_line_empty?"]())?(l=(t=D.$process_authors(F.$read_line())).$delete("authorcount"),u(E)&&u(ve((B=["authorcount",l],G(Y,"[]=",B),B[B.length-1]),0))&&(G(t,"each",[],function(ft,ut){var ht;return ft==null&&(ft=b),ut==null&&(ut=b),u(Y["$key?"](ft))?b:(ht=[ft,E.$apply_header_subs(ut)],G(Y,"[]=",ht),ht[ht.length-1])}),a=Y["$[]"]("author"),v=Y["$[]"]("authorinitials"),_=Y["$[]"]("authors")),t["$[]="]("authorcount",l),D.$process_attribute_entries(F,E),u(F["$has_more_lines?"]())&&m(F["$next_line_empty?"]())&&(c=F.$read_line(),u(A=H("RevisionInfoLineRx").$match(c))?(S=R([],{}),u(A["$[]"](1))&&S["$[]="]("revnumber",A["$[]"](1).$rstrip()),u((K=A["$[]"](2).$strip())["$empty?"]())||(m(A["$[]"](1))&&u(K["$start_with?"]("v"))?S["$[]="]("revnumber",K.$slice(1,K.$length())):S["$[]="]("revdate",K)),u(A["$[]"](3))&&S["$[]="]("revremark",A["$[]"](3).$rstrip()),u(E)&&m(S["$empty?"]())&&G(S,"each",[],function(ft,ut){var ht;return ft==null&&(ft=b),ut==null&&(ut=b),u(Y["$key?"](ft))?b:(ht=[ft,E.$apply_header_subs(ut)],G(Y,"[]=",ht),ht[ht.length-1])})):F.$unshift_line(c)),D.$process_attribute_entries(F,E),F.$skip_blank_lines()):t=R([],{}),u(E)){if(u(Y["$key?"]("author"))&&se(j=Y["$[]"]("author"),a))ee=D.$process_authors(j,!0,!1),se(Y["$[]"]("authorinitials"),v)&&ee.$delete("authorinitials");else if(u(Y["$key?"]("authors"))&&se(j=Y["$[]"]("authors"),_))ee=D.$process_authors(j,!0);else{for(B=[[],1,"author_1",!1,!1],he=B[0],Be=B[1],Ze=B[2],$t=B[3],et=B[4];u(Y["$key?"](Ze));)ce(at=Y["$[]"](Ze),t["$[]"](Ze))?(he["$<<"](b),et=!0):(he["$<<"](at),$t=!0),Ze="author_"+(Be=Ne(Be,1));u($t)?(u(et)&&G(he,"each_with_index",[],function(ft,ut){var ht,dt=b;return ft==null&&(ft=b),ut==null&&(ut=b),u(ft)?b:(ht=[ut,G([t["$[]"]("firstname_"+(dt=Ne(ut,1))),t["$[]"]("middlename_"+dt),t["$[]"]("lastname_"+dt)].$compact(),"map",[],function(yt){return yt==null&&(yt=b),yt.$tr(" ","_")}).$join(" ")],G(he,"[]=",ht),ht[ht.length-1])}),ee=D.$process_authors(he,!0,!1)):ee=R(["authorcount"],{authorcount:0})}ce(ee["$[]"]("authorcount"),0)?u(l)?ee=b:Y["$[]="]("authorcount",0):(Y.$update(ee),m(Y["$key?"]("email"))&&u(Y["$key?"]("email_1"))&&Y["$[]="]("email",Y["$[]"]("email_1")))}return u(x)?t.$merge(S.$to_h(),ee.$to_h()):b},-2),I(ue,"$process_authors",function(F,E,x){var B=b,D=b;return E==null&&(E=!1),x==null&&(x=!0),B=R([],{}),D=0,G(u(x)&&u(F["$include?"](";"))?F.$split(H("AuthorDelimiterRx")):[].concat(st(F)),"each",[],function(C){var l,t=b,a=b,v=b,_=b,c=b,A=b,S=b;return C==null&&(C=b),u(C["$empty?"]())?b:(t=R([],{}),ce(D=Ne(D,1),1)?G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),ee=[j.$to_sym(),j],G(t,"[]=",ee),ee[ee.length-1]}):G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),ee=[j.$to_sym(),""+j+"_"+D],G(t,"[]=",ee),ee[ee.length-1]}),u(E)?(u(C["$include?"]("<"))&&(B["$[]="](t["$[]"]("author"),C.$tr("_"," ")),C=C.$gsub(H("XmlSanitizeRx"),"")),ce((a=C.$split(b,3)).$size(),3)&&a["$<<"](a.$pop().$squeeze(" "))):u(v=H("AuthorInfoLineRx").$match(C))&&(a=v.$to_a()).$shift(),u(a)?(_=(l=[t["$[]"]("firstname"),c=a["$[]"](0).$tr("_"," ")],G(B,"[]=",l),l[l.length-1]),B["$[]="](t["$[]"]("authorinitials"),c.$chr()),u(a["$[]"](1))&&(u(a["$[]"](2))?(B["$[]="](t["$[]"]("middlename"),A=a["$[]"](1).$tr("_"," ")),B["$[]="](t["$[]"]("lastname"),S=a["$[]"](2).$tr("_"," ")),_=Ne(Ne(Ne(Ne(c," "),A)," "),S),B["$[]="](t["$[]"]("authorinitials"),""+c.$chr()+A.$chr()+S.$chr())):(B["$[]="](t["$[]"]("lastname"),S=a["$[]"](1).$tr("_"," ")),_=Ne(Ne(c," "),S),B["$[]="](t["$[]"]("authorinitials"),""+c.$chr()+S.$chr()))),u(B["$[]"](t["$[]"]("author")))||B["$[]="](t["$[]"]("author"),_),u(E)||m(a["$[]"](3))||B["$[]="](t["$[]"]("email"),a["$[]"](3))):(B["$[]="](t["$[]"]("author"),(l=[t["$[]"]("firstname"),c=C.$squeeze(" ").$strip()],G(B,"[]=",l),l[l.length-1])),B["$[]="](t["$[]"]("authorinitials"),c.$chr())),ce(D,1)?(l=["authors",B["$[]"](t["$[]"]("author"))],G(B,"[]=",l),l[l.length-1]):(ce(D,2)&&G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),u(B["$key?"](j))?(ee=[""+j+"_1",B["$[]"](j)],G(B,"[]=",ee),ee[ee.length-1]):b}),l=["authors",""+B["$[]"]("authors")+", "+B["$[]"](t["$[]"]("author"))],G(B,"[]=",l),l[l.length-1]))}),B["$[]="]("authorcount",D),B},-2),I(ue,"$parse_block_metadata_lines",function(F,E,x,B){var D=this;for(x==null&&(x=R([],{})),B==null&&(B=R([],{}));u(D.$parse_block_metadata_line(F,E,x,B))&&(F.$shift(),!!u(F.$skip_blank_lines())););return x},-3),I(ue,"$parse_block_metadata_line",function(F,E,x,B){var D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b;if(Ge["~"]==null&&(Ge["~"]=b),B==null&&(B=R([],{})),u(l=F.$peek_line())&&u(u(B["$[]"]("text_only"))?l["$start_with?"]("[","/"):C=l["$start_with?"]("[",".","/",":"))){if(u(l["$start_with?"]("["))){if(u(l["$start_with?"]("[["))){if(u(l["$end_with?"]("]]"))&&u(H("BlockAnchorRx")["$=~"](l)))return x["$[]="]("id",(D=Ge["~"])===b?b:D["$[]"](1)),u(t=(D=Ge["~"])===b?b:D["$[]"](2))&&x["$[]="]("reftext",u(t["$include?"](H("ATTR_REF_HEAD")))?E.$sub_attributes(t):t),!0}else if(u(l["$end_with?"]("]"))&&u(H("BlockAttributeListRx")["$=~"](l)))return a=x["$[]"](1),u(E.$parse_attributes((D=Ge["~"])===b?b:D["$[]"](1),[],R(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:x}))["$[]"](1))&&x["$[]="](1,u(v=Y.$parse_style_attribute(x,F))?v:a),!0}else if(u(C)&&u(l["$start_with?"]("."))){if(u(H("BlockTitleRx")["$=~"](l)))return x["$[]="]("title",(D=Ge["~"])===b?b:D["$[]"](1)),!0}else if(m(C)||u(l["$start_with?"]("/"))){if(u(l["$start_with?"]("//"))){if(ce(l,"//"))return!0;if(u(C)&&u(Y["$uniform?"](l,"/",_=l.$length()))){if(!ce(_,3))return F.$read_lines_until(R(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:l,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!u(l["$start_with?"]("///")))return!0}}else if(u(C)&&u(l["$start_with?"](":"))&&u(H("AttributeEntryRx")["$=~"](l)))return Y.$process_attribute_entry(F,E,x,Ge["~"]),!0}return b},-4),I(ue,"$process_attribute_entries",function(F,E,x){var B=this;for(x==null&&(x=b),F.$skip_comment_lines();u(B.$process_attribute_entry(F,E,x));)F.$shift(),F.$skip_comment_lines()},-3),I(ue,"$process_attribute_entry",function(F,E,x,B){var D,Y=this,C=b,l=b,t=b,a=b,v=b,_=b;if(x==null&&(x=b),B==null&&(B=b),u(B)||u(B=u(F["$has_more_lines?"]())?H("AttributeEntryRx").$match(F.$peek_line()):b)){if(u((C=B["$[]"](2))["$nil_or_empty?"]()))C="";else if(u(C["$end_with?"](H("LINE_CONTINUATION"),H("LINE_CONTINUATION_LEGACY"))))for(D=[C.$slice(Oe(C.$length(),2),2),C.$slice(0,Oe(C.$length(),2)).$rstrip()],l=D[0],C=D[1];u(u(t=F.$advance())?(a=u(v=F.$peek_line())?v:"")["$empty?"]()["$!"]():t)&&(a=a.$lstrip(),u(_=a["$end_with?"](l))&&(a=a.$slice(0,Oe(a.$length(),2)).$rstrip()),C=""+C+(u(C["$end_with?"](H("HARD_LINE_BREAK")))?H("LF"):" ")+a,!!u(_)););return Y.$store_attribute(B["$[]"](1),C,E,x),!0}else return b},-3),I(ue,"$store_attribute",function(F,E,x,B){var D=this,Y=b;return x==null&&(x=b),B==null&&(B=b),u(F["$end_with?"]("!"))?(F=F.$chop(),E=b):u(F["$start_with?"]("!"))&&(F=F.$slice(1,F.$length()),E=b),ce(F=D.$sanitize_attribute_name(F),"numbered")?F="sectnums":ce(F,"hardbreaks")?F="hardbreaks-option":ce(F,"showtitle")&&D.$store_attribute("notitle",u(E)?b:"",x,B),u(x)?u(E)?(ce(F,"leveloffset")&&(u(E["$start_with?"]("+"))?E=Ne(x.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s():u(E["$start_with?"]("-"))&&(E=Oe(x.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s())),u(Y=x.$set_attribute(F,E))&&(E=Y,u(B)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(B))):u(x.$delete_attribute(F))&&u(B)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(B):u(B)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(B),[F,E]},-3),I(ue,"$resolve_list_marker",function(F,E,x,B,D){var Y=this;switch(x==null&&(x=0),B==null&&(B=!1),D==null&&(D=b),F){case"ulist":return E;case"olist":return Y.$resolve_ordered_list_marker(E,x,B,D)["$[]"](0);default:return"<1>"}},-3),I(ue,"$resolve_ordered_list_marker",function(F,E,x,B){var D=this,Y=b,C=b,l=b;if(E==null&&(E=0),x==null&&(x=!1),B==null&&(B=b),u(F["$start_with?"](".")))return[F];switch(Y=G(H("ORDERED_LIST_STYLES"),"find",[],function(a){return a==null&&(a=b),H("OrderedListMarkerRxMap")["$[]"](a)["$match?"](F)})){case"arabic":u(x)&&(C=Ne(E,1),l=F.$to_i()),F="1.";break;case"loweralpha":u(x)&&(C=Ne("a"["$[]"](0).$ord(),E).$chr(),l=F.$chop()),F="a.";break;case"upperalpha":u(x)&&(C=Ne("A"["$[]"](0).$ord(),E).$chr(),l=F.$chop()),F="A.";break;case"lowerroman":u(x)&&(C=H("Helpers").$int_to_roman(Ne(E,1)).$downcase(),l=F.$chop()),F="i)";break;case"upperroman":u(x)&&(C=H("Helpers").$int_to_roman(Ne(E,1)),l=F.$chop()),F="I)";break}return u(x)&&se(C,l)&&D.$logger().$warn(D.$message_with_context("list item index: expected "+C+", got "+l,R(["source_location"],{source_location:B.$cursor()}))),[F,Y]},-2),I(ue,"$is_sibling_list_item?",function(F,E,x){var B,D=this,Y=b;return Re(We("Regexp"),x)?x["$match?"](F):u(Y=H("ListRxMap")["$[]"](E)["$=~"](F))?x["$=="](D.$resolve_list_marker(E,(B=Ge["~"])===b?b:B["$[]"](1))):Y}),I(ue,"$parse_table",function(F,E,x){var B,D,Y,C=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Be=b,Ze=b,$t=b,et=b,at=b,ct=b;for(l=H("Table").$new(E,x),u(x["$key?"]("cols"))&&m((t=C.$parse_colspecs(x["$[]"]("cols")))["$empty?"]())&&(l.$create_columns(t),a=!0),v=u(_=F.$skip_blank_lines())?_:0,u(x["$[]"]("header-option"))?l["$has_header_option="](!0):ce(v,0)&&m(x["$[]"]("noheader-option"))&&(l["$has_header_option="]("implicit"),c=!0),A=We(H("Table"),"ParserContext").$new(F,l,x),B=[A.$format(),-1,b],S=B[0],K=B[1],j=B[2];u(ee=F.$read_line());){for(u(he=ve(K=Ne(K,1),0))&&u(ee["$empty?"]())?(ee=b,u(j)&&(j=Ne(j,1))):ce(S,"psv")&&(u(A["$starts_with_delimiter?"](ee))?(ee=ee.$slice(1,ee.$length()),A.$close_open_cell(),u(j)&&(j=b)):(D=C.$parse_cellspec(ee,"start",A.$delimiter()),B=we(D),Be=B[0]==null?b:B[0],ee=B[1]==null?b:B[1],u(Be)?(A.$close_open_cell(Be),u(j)&&(j=b)):u(j)&&ce(j,K)&&l["$has_header_option="](c=j=b))),u(he)||(F.$mark(),u(c)&&(u(F["$has_more_lines?"]())&&u(F.$peek_line()["$empty?"]())?j=1:l["$has_header_option="](c=b))),B=!1;B||u(!0);)if(B=!1,u(ee)&&u(Ze=A.$match_delimiter(ee))){if(D=[Ze.$pre_match(),Ze.$post_match()],$t=D[0],et=D[1],Re("csv",_=S)){if(u(A["$buffer_has_unclosed_quotes?"]($t))){if(A.$skip_past_delimiter($t),u((ee=et)["$empty?"]()))break;B=!0;continue}A["$buffer="](""+A.$buffer()+$t)}else if(Re("dsv",_)){if(u($t["$end_with?"]("\\"))){if(A.$skip_past_escaped_delimiter($t),u((ee=et)["$empty?"]())){A["$buffer="](""+A.$buffer()+H("LF")),A.$keep_cell_open();break}B=!0;continue}A["$buffer="](""+A.$buffer()+$t)}else{if(u($t["$end_with?"]("\\"))){if(A.$skip_past_escaped_delimiter($t),u((ee=et)["$empty?"]())){A["$buffer="](""+A.$buffer()+H("LF")),A.$keep_cell_open();break}B=!0;continue}Y=C.$parse_cellspec($t),D=we(Y),Be=D[0]==null?b:D[0],at=D[1]==null?b:D[1],A.$push_cellspec(Be),A["$buffer="](""+A.$buffer()+at)}u((ee=et)["$empty?"]())&&(ee=b),A.$close_cell()}else{switch(A["$buffer="](""+A.$buffer()+ee+H("LF")),S){case"csv":u(A["$buffer_has_unclosed_quotes?"]())?(u(j)&&ce(K,0)&&l["$has_header_option="](c=j=b),A.$keep_cell_open()):A.$close_cell(!0);break;case"dsv":A.$close_cell(!0);break;default:A.$keep_cell_open()}break}if(u(A["$cell_open?"]()))u(F["$has_more_lines?"]())||A.$close_cell(!0);else if(!u(_=F.$skip_blank_lines()))break}return ce((ct=l.$attributes(),u(_=ct["$[]"]("colcount"))?_:(B=["colcount",l.$columns().$size()],G(ct,"[]=",B),B[B.length-1])),0)||u(a)||l.$assign_column_widths(),u(c)&&l["$has_header_option="](!0),l.$partition_header_footer(x),l}),I(ue,"$parse_colspecs",function(F){var E=b;return u(F["$include?"](" "))&&(F=F.$delete(" ")),ce(F,F.$to_i().$to_s())?G(We("Array"),"new",[F.$to_i()],function(){return R(["width"],{width:1})}):(E=[],G(u(F["$include?"](","))?F.$split(",",-1):F.$split(";",-1),"each",[],function(B){var D,Y,C=b,l=b,t=b,a=b,v=b;return B==null&&(B=b),u(B["$empty?"]())?E["$<<"](R(["width"],{width:1})):u(C=H("ColumnSpecRx").$match(B))?(l=R([],{}),u(C["$[]"](2))&&(Y=C["$[]"](2).$split("."),D=we(Y),t=D[0]==null?b:D[0],a=D[1]==null?b:D[1],m(t["$nil_or_empty?"]())&&u(H("TableCellHorzAlignments")["$key?"](t))&&l["$[]="]("halign",H("TableCellHorzAlignments")["$[]"](t)),m(a["$nil_or_empty?"]())&&u(H("TableCellVertAlignments")["$key?"](a))&&l["$[]="]("valign",H("TableCellVertAlignments")["$[]"](a))),u(v=C["$[]"](3))?l["$[]="]("width",ce(v,"~")?-1:v.$to_i()):l["$[]="]("width",1),u(C["$[]"](4))&&u(H("TableCellStyles")["$key?"](C["$[]"](4)))&&l["$[]="]("style",H("TableCellStyles")["$[]"](C["$[]"](4))),u(C["$[]"](1))?G(1,"upto",[C["$[]"](1).$to_i()],function(){return E["$<<"](l.$merge())}):E["$<<"](l)):b}),E)}),I(ue,"$parse_cellspec",function(F,E,x){var B,D,Y=b,C=b,l=b,t=b,a=b,v=b;if(E==null&&(E="end"),x==null&&(x=b),B=[b,""],Y=B[0],C=B[1],ce(E,"start"))if(u(F["$include?"](x)))if(D=F.$partition(x),B=we(D),l=B[0]==null?b:B[0],B[1]==null||B[1],C=B[2]==null?b:B[2],u(Y=H("CellSpecStartRx").$match(l))){if(u(Y["$[]"](0)["$empty?"]()))return[R([],{}),C]}else return[b,F];else return[b,F];else if(u(Y=H("CellSpecEndRx").$match(F))){if(u(Y["$[]"](0).$lstrip()["$empty?"]()))return[R([],{}),F.$rstrip()];C=Y.$pre_match()}else return[R([],{}),F];if(t=R([],{}),u(Y["$[]"](1)))switch(D=Y["$[]"](1).$split("."),B=we(D),a=B[0]==null?b:B[0],v=B[1]==null?b:B[1],a=u(a["$nil_or_empty?"]())?1:a.$to_i(),v=u(v["$nil_or_empty?"]())?1:v.$to_i(),Y["$[]"](2)){case"+":ce(a,1)||t["$[]="]("colspan",a),ce(v,1)||t["$[]="]("rowspan",v);break;case"*":ce(a,1)||t["$[]="]("repeatcol",a);break}return u(Y["$[]"](3))&&(D=Y["$[]"](3).$split("."),B=we(D),a=B[0]==null?b:B[0],v=B[1]==null?b:B[1],m(a["$nil_or_empty?"]())&&u(H("TableCellHorzAlignments")["$key?"](a))&&t["$[]="]("halign",H("TableCellHorzAlignments")["$[]"](a)),m(v["$nil_or_empty?"]())&&u(H("TableCellVertAlignments")["$key?"](v))&&t["$[]="]("valign",H("TableCellVertAlignments")["$[]"](v))),u(Y["$[]"](4))&&u(H("TableCellStyles")["$key?"](Y["$[]"](4)))&&t["$[]="]("style",H("TableCellStyles")["$[]"](Y["$[]"](4))),[t,C]},-2),I(ue,"$parse_style_attribute",function(F,E){var x,B=this,D=b,Y=b,C=b,l=b,t=b,a=b;return E==null&&(E=b),u(D=F["$[]"](1))&&m(D["$include?"](" "))&&u(H("Compliance").$shorthand_property_syntax())?(Y=b,C="",l=R([],{}),G(D,"each_char",[],function v(_){var c=v.$$s==null?this:v.$$s;switch(_==null&&(_=b),_){case".":return c.$yield_buffered_attribute(l,Y,C,E),C="",Y="role";case"#":return c.$yield_buffered_attribute(l,Y,C,E),C="",Y="id";case"%":return c.$yield_buffered_attribute(l,Y,C,E),C="",Y="option";default:return C=Ne(C,_)}},{$$s:B}),u(Y)?(B.$yield_buffered_attribute(l,Y,C,E),u(t=l["$[]"]("style"))&&F["$[]="]("style",t),u(l["$key?"]("id"))&&F["$[]="]("id",l["$[]"]("id")),u(l["$key?"]("role"))&&F["$[]="]("role",u((a=F["$[]"]("role"))["$nil_or_empty?"]())?l["$[]"]("role").$join(" "):""+a+" "+l["$[]"]("role").$join(" ")),u(l["$key?"]("option"))&&G(l["$[]"]("option"),"each",[],function(_){var c;return _==null&&(_=b),c=[""+_+"-option",""],G(F,"[]=",c),c[c.length-1]}),t):(x=["style",D],G(F,"[]=",x),x[x.length-1])):(x=["style",D],G(F,"[]=",x),x[x.length-1])},-2),I(ue,"$yield_buffered_attribute",function(F,E,x,B){var D,Y=this,C=b;return u(E)?u(x["$empty?"]())?u(B)?Y.$logger().$warn(Y.$message_with_context("invalid empty "+E+" detected in style attribute",R(["source_location"],{source_location:B.$cursor_at_prev_line()}))):Y.$logger().$warn("invalid empty "+E+" detected in style attribute"):ce(E,"id")?(u(F["$key?"]("id"))&&(u(B)?Y.$logger().$warn(Y.$message_with_context("multiple ids detected in style attribute",R(["source_location"],{source_location:B.$cursor_at_prev_line()}))):Y.$logger().$warn("multiple ids detected in style attribute")),F["$[]="](E,x)):(u(C=F["$[]"](E))?C:(D=[E,[]],G(F,"[]=",D),D[D.length-1]))["$<<"](x):u(x["$empty?"]())||F["$[]="]("style",x),b}),I(ue,"$adjust_indentation!",function(F,E,x){var B=b,D=b,Y=b;return E==null&&(E=0),x==null&&(x=0),u(F["$empty?"]())||(u(ve(x,0))&&u(G(F,"any?",[],function(l){return l==null&&(l=b),l["$include?"](H("TAB"))}))&&(B=Te(" ",x),G(F,"map!",[],function(l){var t=b,a=b,v=b,_=b,c=b;return l==null&&(l=b),u(l["$empty?"]())||u((t=l.$index(H("TAB")))["$nil?"]())||ce(t,0)&&(a=0,function(){try{var A=Ke("break");return G(l,"each_byte",[],function(K){return K==null&&(K=b),ce(K,9)||A.$throw(),a=Ne(a,1)})}catch(S){if(S===A)return S.$v;throw S}}(),l=""+Te(B,a)+l.$slice(a,l.$length()),!u(l["$include?"](H("TAB"))))?l:(v=0,_=0,c="",G(l,"each_char",[],function(S){var K=b,j=b;return S==null&&(S=b),ce(S,H("TAB"))?ce((K=Ne(_,v))["$%"](x),0)?(v=Ne(v,Oe(x,1)),c=Ne(c,B)):(ce(j=Oe(x,K["$%"](x)),1)||(v=Ne(v,Oe(j,1))),c=Ne(c,Te(" ",j))):c=Ne(c,S),_=Ne(_,1)}),c)})),u(_e(E,0)))||(D=b,function(){try{var C=Ke("break");return G(F,"each",[],function(t){var a=b;return t==null&&(t=b),u(t["$empty?"]())||(ce(a=Oe(t.$length(),t.$lstrip().$length()),0)&&(D=b,C.$throw()),u(D)&&u(_e(D,a)))?b:D=a})}catch(l){if(l===C)return l.$v;throw l}}(),ce(E,0)?u(D)&&G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:l.$slice(D,l.$length())}):(Y=Te(" ",E),u(D)?G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:Ne(Y,l.$slice(D,l.$length()))}):G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:Ne(Y,l)}))),b},-2),I(ue,"$uniform?",function(F,E,x){return F.$count(E)["$=="](x)}),I(ue,"$sanitize_attribute_name",function(F){return F.$gsub(H("InvalidAttributeNameCharsRx"),"").$downcase()})}(z[0],null,z)}(it[0],it)},Opal.modules["asciidoctor/path_resolver"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.truthy,u=e.hash2,R=e.def,we=e.eqeq,I=e.alias,ce=e.rb_plus,m=e.to_ary,Ge=e.send,se=e.not,Ne=e.neqeq,_e=e.rb_gt,ve=e.gvars,st=[],Re=e.nil,Oe=e.$$$;return e.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Te,Ke){var it=U(Te,"Asciidoctor"),b=[it].concat(Ke);return function(We,h,Ve){var rt=M(We,h,"PathResolver"),z=[rt].concat(Ve),k=e.$r(z),Ee=rt.$$prototype;return Ee.file_separator=Ee._partition_path_web=Ee._partition_path_sys=Ee.working_dir=Re,rt.$include(k("Logging")),q(z[0],"DOT","."),q(z[0],"DOT_DOT",".."),q(z[0],"DOT_SLASH","./"),q(z[0],"SLASH","/"),q(z[0],"BACKSLASH","\\"),q(z[0],"DOUBLE_SLASH","//"),q(z[0],"URI_CLASSLOADER","uri:classloader:"),q(z[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),rt.$attr_accessor("file_separator"),rt.$attr_accessor("working_dir"),R(rt,"$initialize",function(ue,ie){var H=this,J=Re,F=Re;return ue==null&&(ue=Re),ie==null&&(ie=Re),H.file_separator=G(J=G(F=ue)?F:Oe(Oe("File"),"ALT_SEPARATOR"))?J:Oe(Oe("File"),"SEPARATOR"),H.working_dir=G(ie)?G(H["$root?"](ie))?H.$posixify(ie):Oe("File").$expand_path(ie):Oe("Dir").$pwd(),H._partition_path_sys=u([],{}),H._partition_path_web=u([],{})},-1),R(rt,"$absolute_path?",function(ue){var ie=this,H=Re,J=Re;return G(H=ue["$start_with?"](k("SLASH")))?H:G(J=ie.file_separator["$=="](k("BACKSLASH")))?k("WindowsRootRx")["$match?"](ue):J}),we(k("RUBY_ENGINE"),"opal")&&we(Oe("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?R(rt,"$root?",function(ue){var ie=this,H=Re;return G(H=ie["$absolute_path?"](ue))?H:ue["$start_with?"]("file://","http://","https://")}):we(Oe("RUBY_ENGINE"),"jruby")?R(rt,"$root?",function(ue){var ie=this,H=Re;return G(H=ie["$absolute_path?"](ue))?H:ue["$start_with?"](k("URI_CLASSLOADER"))}):I(rt,"root?","absolute_path?"),R(rt,"$unc?",function(ue){return ue["$start_with?"](k("DOUBLE_SLASH"))}),R(rt,"$web_root?",function(ue){return ue["$start_with?"](k("SLASH"))}),R(rt,"$descends_from?",function(ue,ie){var H=Re;return we(ie,ue)?0:we(ie,k("SLASH"))?G(H=ue["$start_with?"](k("SLASH")))?1:H:G(H=ue["$start_with?"](ce(ie,k("SLASH"))))?ce(ie.$length(),1):H}),R(rt,"$relative_path",function(ue,ie){var H=this,J=Re;if(G(H["$root?"](ue))){if(G(J=H["$descends_from?"](ue,ie)))return ue.$slice(J,ue.$length());try{return k("Pathname").$new(ue).$relative_path_from(k("Pathname").$new(ie)).$to_s()}catch(F){if(e.rescue(F,[k("StandardError")]))try{return ue}finally{e.pop_exception()}else throw F}}else return ue}),R(rt,"$posixify",function(ue){var ie=this;return G(ue)?we(ie.file_separator,k("BACKSLASH"))&&G(ue["$include?"](k("BACKSLASH")))?ue.$tr(k("BACKSLASH"),k("SLASH")):ue:""}),I(rt,"posixfy","posixify"),R(rt,"$expand_path",function(ue){var ie,H,J=this,F=Re,E=Re,x=Re;return H=J.$partition_path(ue),ie=m(H),F=ie[0]==null?Re:ie[0],E=ie[1]==null?Re:ie[1],G(ue["$include?"](k("DOT_DOT")))?(x=[],Ge(F,"each",[],function(D){return D==null&&(D=Re),we(D,k("DOT_DOT"))?x.$pop():x["$<<"](D)}),J.$join_path(x,E)):J.$join_path(F,E)}),R(rt,"$partition_path",function(ue,ie){var H,J=this,F=Re,E=Re,x=Re,B=Re,D=Re;return ie==null&&(ie=Re),G(F=(E=G(ie)?J._partition_path_web:J._partition_path_sys)["$[]"](ue))?F:(x=J.$posixify(ue),G(ie)?G(J["$web_root?"](x))?B=k("SLASH"):G(x["$start_with?"](k("DOT_SLASH")))&&(B=k("DOT_SLASH")):G(J["$root?"](x))?G(J["$unc?"](x))?B=k("DOUBLE_SLASH"):G(x["$start_with?"](k("SLASH")))?B=k("SLASH"):G(x["$start_with?"](k("URI_CLASSLOADER")))?B=x.$slice(0,k("URI_CLASSLOADER").$length()):B=x.$slice(0,ce(x.$index(k("SLASH")),1)):G(x["$start_with?"](k("DOT_SLASH")))&&(B=k("DOT_SLASH")),D=(G(B)?x.$slice(B.$length(),x.$length()):x).$split(k("SLASH")),D.$delete(k("DOT")),H=[ue,[D,B]],Ge(E,"[]=",H),H[H.length-1])},-2),R(rt,"$join_path",function(ue,ie){return ie==null&&(ie=Re),G(ie)?""+ie+ue.$join(k("SLASH")):ue.$join(k("SLASH"))},-2),R(rt,"$system_path",function(ue,ie,H,J){var F,E,x=this,B=Re,D=Re,Y=Re,C=Re,l=Re,t=Re,a=Re,v=Re,_=Re,c=Re,A=Re;if(ie==null&&(ie=Re),H==null&&(H=Re),J==null&&(J=u([],{})),G(H)&&(G(x["$root?"](H))||x.$raise(Oe("SecurityError"),"Jail is not an absolute path: "+H),H=x.$posixify(H)),G(ue))if(G(x["$root?"](ue))){if(B=x.$expand_path(ue),G(H)&&se(x["$descends_from?"](B,H))){if(G(J.$fetch("recover",!0)))return x.$logger().$warn(""+(G(D=J["$[]"]("target_name"))?D:"path")+" is outside of jail; recovering automatically"),E=x.$partition_path(B),F=m(E),Y=F[0]==null?Re:F[0],E=x.$partition_path(H),F=m(E),C=F[0]==null?Re:F[0],l=F[1]==null?Re:F[1],x.$join_path(ce(C,Y),l);x.$raise(Oe("SecurityError"),""+(G(D=J["$[]"]("target_name"))?D:"path")+" "+ue+" is outside of jail: "+H+" (disallowed in safe mode)")}return B}else E=x.$partition_path(ue),F=m(E),Y=F[0]==null?Re:F[0];else Y=[];if(G(Y["$empty?"]())){if(G(ie["$nil_or_empty?"]()))return G(D=H)?D:x.working_dir;if(G(x["$root?"](ie)))if(G(H))ie=x.$posixify(ie);else return x.$expand_path(ie);else E=x.$partition_path(ie),F=m(E),Y=F[0]==null?Re:F[0],ie=G(D=H)?D:x.working_dir}else G(ie["$nil_or_empty?"]())?ie=G(D=H)?D:x.working_dir:G(x["$root?"](ie))?G(H)&&(ie=x.$posixify(ie)):ie=""+(G(D=H)?D:x.working_dir).$chomp("/")+"/"+ie;return G(H)&&G(t=x["$descends_from?"](ie,H)["$!"]())&&we(x.file_separator,k("BACKSLASH"))?(E=x.$partition_path(ie),F=m(E),a=F[0]==null?Re:F[0],v=F[1]==null?Re:F[1],E=x.$partition_path(H),F=m(E),C=F[0]==null?Re:F[0],l=F[1]==null?Re:F[1],Ne(v,l)&&(G(J.$fetch("recover",!0))?(x.$logger().$warn("start path for "+(G(D=J["$[]"]("target_name"))?D:"path")+" is outside of jail root; recovering automatically"),a=C,t=!1):x.$raise(Oe("SecurityError"),"start path for "+(G(D=J["$[]"]("target_name"))?D:"path")+" "+ie+" refers to location outside jail root: "+H+" (disallowed in safe mode)"))):(E=x.$partition_path(ie),F=m(E),a=F[0]==null?Re:F[0],l=F[1]==null?Re:F[1]),G((_=ce(a,Y))["$include?"](k("DOT_DOT")))&&(F=[_,[]],c=F[0],_=F[1],G(H)?(G(C)||(E=x.$partition_path(H),F=m(E),C=F[0]==null?Re:F[0]),A=!1,Ge(c,"each",[],function S(K){var j=S.$$s==null?this:S.$$s;return K==null&&(K=Re),we(K,k("DOT_DOT"))?G(_e(_.$size(),C.$size()))?_.$pop():G(J.$fetch("recover",!0))?G(A)?Re:(j.$logger().$warn(""+(G(D=J["$[]"]("target_name"))?D:"path")+" has illegal reference to ancestor of jail; recovering automatically"),A=!0):j.$raise(Oe("SecurityError"),""+(G(D=J["$[]"]("target_name"))?D:"path")+" "+ue+" refers to location outside jail: "+H+" (disallowed in safe mode)"):_["$<<"](K)},{$$s:x})):Ge(c,"each",[],function(K){return K==null&&(K=Re),we(K,k("DOT_DOT"))?_.$pop():_["$<<"](K)})),G(t)?(B=x.$join_path(_,l),G(x["$descends_from?"](B,H))?B:G(J.$fetch("recover",!0))?(x.$logger().$warn(""+(G(D=J["$[]"]("target_name"))?D:"path")+" is outside of jail; recovering automatically"),G(C)||(E=x.$partition_path(H),F=m(E),C=F[0]==null?Re:F[0]),x.$join_path(ce(C,Y),l)):x.$raise(Oe("SecurityError"),""+(G(D=J["$[]"]("target_name"))?D:"path")+" "+ue+" is outside of jail: "+H+" (disallowed in safe mode)")):x.$join_path(_,l)},-2),R(rt,"$web_path",function(ue,ie){var H,J,F=this,E=Re,x=Re,B=Re,D=Re,Y=Re;return ie==null&&(ie=Re),ue=F.$posixify(ue),ie=F.$posixify(ie),G(ie["$nil_or_empty?"]())||G(F["$web_root?"](ue))||(J=F.$extract_uri_prefix(""+ie+(G(ie["$end_with?"](k("SLASH")))?"":k("SLASH"))+ue),H=m(J),ue=H[0]==null?Re:H[0],E=H[1]==null?Re:H[1]),J=F.$partition_path(ue,!0),H=m(J),x=H[0]==null?Re:H[0],B=H[1]==null?Re:H[1],D=[],Ge(x,"each",[],function(l){return l==null&&(l=Re),we(l,k("DOT_DOT"))?G(D["$empty?"]())?G(B)&&Ne(B,k("DOT_SLASH"))?Re:D["$<<"](l):we(D["$[]"](-1),k("DOT_DOT"))?D["$<<"](l):D.$pop():D["$<<"](l)}),G((Y=F.$join_path(D,B))["$include?"](" "))&&(Y=Y.$gsub(" ","%20")),G(E)?""+E+Y:Y},-2),rt.$private(),R(rt,"$extract_uri_prefix",function(ue){var ie;return G(ue["$include?"](":"))&&G(k("UriSniffRx")["$=~"](ue))?[ue.$slice(((ie=ve["~"])===Re?Re:ie["$[]"](0)).$length(),ue.$length()),(ie=ve["~"])===Re?Re:ie["$[]"](0)]:ue})}(b[0],null,b)}(st[0],st)},Opal.modules["asciidoctor/reader"]=function(e){var U=e.module,M=e.klass,q=e.def,G=e.rb_plus,u=e.alias,R=e.hash2,we=e.not,I=e.eqeqeq,ce=e.to_ary,m=e.truthy,Ge=e.rb_gt,se=e.send,Ne=e.rb_minus,_e=e.thrower,ve=e.eqeq,st=e.rb_times,Re=e.neqeq,Oe=e.to_a,Te=e.assign_ivar_val,Ke=e.send2,it=e.find_super,b=e.rb_ge,We=e.gvars,h=e.rb_lt,Ve=e.hash,rt=[],z=e.nil,k=e.$$$;return e.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(Ee,O){var ue=U(Ee,"Asciidoctor"),ie=[ue].concat(O),H=e.$r(ie);return function(J,F,E){var x=M(J,F,"Reader"),B=[x].concat(E),D=e.$r(B),Y=x.$$prototype;return Y.file=Y.lines=Y.look_ahead=Y.unescape_next_line=Y.lineno=Y.process_lines=Y.dir=Y.path=Y.mark=Y.source_lines=Y.saved=z,x.$include(D("Logging")),function(C,l){var t=M(C,l,"Cursor"),a=t.$$prototype;return a.lineno=a.path=z,t.$attr_reader("file","dir","path","lineno"),q(t,"$initialize",function(_,c,A,S){var K,j=this;return c==null&&(c=z),A==null&&(A=z),S==null&&(S=1),K=[_,c,A,S],j.file=K[0],j.dir=K[1],j.path=K[2],j.lineno=K[3],K},-2),q(t,"$advance",function(_){var c=this;return c.lineno=G(c.lineno,_)}),q(t,"$line_info",function(){var _=this;return""+_.path+": line "+_.lineno}),u(t,"to_s","line_info")}(B[0],null),x.$attr_reader("file"),x.$attr_reader("dir"),x.$attr_reader("path"),x.$attr_reader("lineno"),x.$attr_reader("source_lines"),x.$attr_accessor("process_lines"),x.$attr_accessor("unterminated"),q(x,"$initialize",function(l,t,a){var v,_,c=this,A=z;return l==null&&(l=z),t==null&&(t=z),a==null&&(a=R([],{})),we(t)?(c.file=z,c.dir=".",c.path="<stdin>",c.lineno=1):I(k("String"),t)?(c.file=t,_=k("File").$split(c.file),v=ce(_),c.dir=v[0]==null?z:v[0],c.path=v[1]==null?z:v[1],c.lineno=1):(m(c.file=t.$file())?(c.dir=m(A=t.$dir())?A:k("File").$dirname(c.file),c.path=m(A=t.$path())?A:k("File").$basename(c.file)):(c.dir=m(A=t.$dir())?A:".",c.path=m(A=t.$path())?A:"<stdin>"),c.lineno=m(A=t.$lineno())?A:1),c.lines=(c.source_lines=c.$prepare_lines(l,a)).$reverse(),c.mark=z,c.look_ahead=0,c.process_lines=!0,c.unescape_next_line=!1,c.unterminated=z,c.saved=z},-1),q(x,"$has_more_lines?",function(){var l=this;return m(l.lines["$empty?"]())?(l.look_ahead=0,!1):!0}),q(x,"$empty?",function(){var l=this;return m(l.lines["$empty?"]())?(l.look_ahead=0,!0):!1}),u(x,"eof?","empty?"),q(x,"$next_line_empty?",function(){var l=this;return l.$peek_line()["$nil_or_empty?"]()}),q(x,"$peek_line",function(l){var t=this,a=z,v=z;for(l==null&&(l=!1);m(!0);){if(a=t.lines["$[]"](-1),m(l)||m(Ge(t.look_ahead,0)))return m(t.unescape_next_line)?a.$slice(1,a.$length()):a;if(m(a)){if(m(v=t.$process_line(a)))return v}else return t.look_ahead=0,z}},-1),q(x,"$peek_lines",function(l,t){var a=this,v=z,_=z,c=z;return l==null&&(l=z),t==null&&(t=!1),v=a.look_ahead,_=[],function(){try{var A=_e("break");return se(m(c=l)?c:D("MAX_INT"),"times",[],function S(){var K=S.$$s==null?this:S.$$s,j=z;if(K.lineno==null&&(K.lineno=z),m(j=m(t)?K.$shift():K.$read_line()))return _["$<<"](j);m(t)&&(K.lineno=Ne(K.lineno,1)),A.$throw()},{$$s:a})}catch(S){if(S===A)return S.$v;throw S}}(),m(_["$empty?"]())||(a.$unshift_all(_),m(t)&&(a.look_ahead=v)),_},-1),q(x,"$read_line",function(){var l=this;return m(Ge(l.look_ahead,0))||m(l["$has_more_lines?"]())?l.$shift():z}),q(x,"$read_lines",function(){var l=this,t=z;for(t=[];m(l["$has_more_lines?"]());)t["$<<"](l.$shift());return t}),u(x,"readlines","read_lines"),q(x,"$read",function(){var l=this;return l.$read_lines().$join(D("LF"))}),q(x,"$advance",function(){var l=this;return!!m(l.$shift())}),q(x,"$unshift_line",function(l){var t=this;return t.$unshift(l),z}),u(x,"restore_line","unshift_line"),q(x,"$unshift_lines",function(l){var t=this;return t.$unshift_all(l)}),u(x,"restore_lines","unshift_lines"),q(x,"$replace_next_line",function(l){var t=this;return t.$shift(),t.$unshift(l),!0}),u(x,"replace_line","replace_next_line"),q(x,"$skip_blank_lines",function(){var l=this,t=z,a=z;if(m(l["$empty?"]()))return z;for(t=0;m(a=l.$peek_line());)if(m(a["$empty?"]()))l.$shift(),t=G(t,1);else return t}),q(x,"$skip_comment_lines",function(){var l=this,t=z,a=z,v=z;if(m(l["$empty?"]()))return z;for(;m(m(t=a=l.$peek_line())?a["$empty?"]()["$!"]():t)&&m(a["$start_with?"]("//"));)if(m(a["$start_with?"]("///")))if(m(Ge(v=a.$length(),3))&&ve(a,st("/",v)))l.$read_lines_until(R(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:a,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else l.$shift();return z}),q(x,"$skip_line_comments",function(){var l=this,t=z,a=z,v=z;if(m(l["$empty?"]()))return[];for(t=[];m(m(a=v=l.$peek_line())?v["$empty?"]()["$!"]():a)&&m(v["$start_with?"]("//"));)t["$<<"](l.$shift());return t}),q(x,"$terminate",function(){var l=this;return l.lineno=G(l.lineno,l.lines.$size()),l.lines.$clear(),l.look_ahead=0,z}),q(x,"$read_lines_until",function C(l){var t,a=C.$$p||z,v=this,_=z,c=z,A=z,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z,$t=z,et=z,at=z,ct=z,ft=z,ut=z;for(C.$$p=null,l==null&&(l=R([],{})),_=[],m(v.process_lines)&&m(l["$[]"]("skip_processing"))&&(v.process_lines=!1,c=!0),m(A=l["$[]"]("terminator"))?(S=m(K=l["$[]"]("cursor"))?K:v.$cursor(),j=!1,ee=!1):(j=l["$[]"]("break_on_blank_lines"),ee=l["$[]"]("break_on_list_continuation")),he=l["$[]"]("skip_line_comments"),Be=Ze=z,m(l["$[]"]("skip_first_line"))&&v.$shift();m($t=v.$read_line());){if(m(m(A)?$t["$=="](A):m(K=m(et=m(at=j)?$t["$empty?"]():at)?et:m(at=m(ct=m(ft=ee)?Be:ft)?$t["$=="](D("LIST_CONTINUATION")):ct)?(t=["preserve_last_line",!0],se(l,"[]=",t),t[t.length-1]):at)?K:m(et=a!==z)?e.yield1(a,$t):et)){m(l["$[]"]("read_last_line"))&&_["$<<"]($t),m(l["$[]"]("preserve_last_line"))&&(v.$unshift($t),Ze=!0);break}m(he)&&m($t["$start_with?"]("//"))&&we($t["$start_with?"]("///"))||(_["$<<"]($t),Be=!0)}return m(c)&&(v.process_lines=!0,m(Ze)&&we(A)&&(v.look_ahead=Ne(v.look_ahead,1))),m(A)&&Re(A,$t)&&m(ut=l.$fetch("context",A))&&(ve(S,"at_mark")&&(S=v.$cursor_at_mark()),v.$logger().$warn(v.$message_with_context("unterminated "+ut+" block",R(["source_location"],{source_location:S}))),v.unterminated=!0),_},-1),q(x,"$shift",function(){var l=this;return l.lineno=G(l.lineno,1),ve(l.look_ahead,0)||(l.look_ahead=Ne(l.look_ahead,1)),l.lines.$pop()}),q(x,"$unshift",function(l){var t=this;return t.lineno=Ne(t.lineno,1),t.look_ahead=G(t.look_ahead,1),t.lines.$push(l),z}),ve(k("RUBY_ENGINE"),"jruby")?q(x,"$unshift_all",function(l){var t=this;return t.lineno=Ne(t.lineno,l.$size()),t.look_ahead=G(t.look_ahead,l.$size()),m(l["$respond_to?"]("reverse"))?se(t.lines,"push",Oe(l.$reverse())):se(l,"reverse_each",[],function a(v){var _=a.$$s==null?this:a.$$s;return _.lines==null&&(_.lines=z),v==null&&(v=z),_.lines.$push(v)},{$$s:t}),z}):q(x,"$unshift_all",function(l){var t=this;return t.lineno=Ne(t.lineno,l.$size()),t.look_ahead=G(t.look_ahead,l.$size()),se(t.lines,"push",Oe(l.$reverse())),z}),q(x,"$cursor",function(){var l=this;return D("Cursor").$new(l.file,l.dir,l.path,l.lineno)}),q(x,"$cursor_at_line",function(l){var t=this;return D("Cursor").$new(t.file,t.dir,t.path,l)}),q(x,"$cursor_at_mark",function(){var l=this;return m(l.mark)?se(D("Cursor"),"new",Oe(l.mark)):l.$cursor()}),q(x,"$cursor_before_mark",function(){var l,t,a=this,v=z,_=z,c=z,A=z;return m(a.mark)?(t=a.mark,l=ce(t),v=l[0]==null?z:l[0],_=l[1]==null?z:l[1],c=l[2]==null?z:l[2],A=l[3]==null?z:l[3],D("Cursor").$new(v,_,c,Ne(A,1))):D("Cursor").$new(a.file,a.dir,a.path,Ne(a.lineno,1))}),q(x,"$cursor_at_prev_line",function(){var l=this;return D("Cursor").$new(l.file,l.dir,l.path,Ne(l.lineno,1))}),q(x,"$mark",function(){var l=this;return l.mark=[l.file,l.dir,l.path,l.lineno]}),q(x,"$line_info",function(){var l=this;return""+l.path+": line "+l.lineno}),q(x,"$lines",function(){var l=this;return l.lines.$reverse()}),q(x,"$string",function(){var l=this;return l.lines.$reverse().$join(D("LF"))}),q(x,"$source",function(){var l=this;return l.source_lines.$join(D("LF"))}),q(x,"$save",function(){var l=this;return l.saved=se(R([],{}),"tap",[],function t(a){var v=t.$$s==null?this:t.$$s;return a==null&&(a=z),se(v.$instance_variables(),"each",[],function _(c){var A,S=_.$$s==null?this:_.$$s,K=z;return c==null&&(c=z),ve(c,"@saved")||ve(c,"@source_lines")?z:(A=[c,I(k("Array"),K=S.$instance_variable_get(c))?K.$drop(0):K],se(a,"[]=",A),A[A.length-1])},{$$s:v})},{$$s:l}),z}),q(x,"$restore_save",function(){var l=this;return m(l.saved)?(se(l.saved,"each",[],function t(a,v){var _=t.$$s==null?this:t.$$s;return a==null&&(a=z),v==null&&(v=z),_.$instance_variable_set(a,v)},{$$s:l}),l.saved=z):z}),q(x,"$discard_save",Te("saved",z)),q(x,"$to_s",function(){var l=this;return"#<"+l.$class()+"@"+l.$object_id()+" {path: "+l.path.$inspect()+", line: "+l.lineno+"}>"}),x.$private(),q(x,"$prepare_lines",function(l,t){var a=this,v=z;t==null&&(t=R([],{}));try{return m(v=t["$[]"]("normalize"))?I(k("Array"),l)?D("Helpers").$prepare_source_array(l,v["$!="]("chomp")):D("Helpers").$prepare_source_string(l,v["$!="]("chomp")):I(k("Array"),l)?l.$drop(0):m(l)?l.$chomp().$split(D("LF"),-1):[]}catch(_){if(e.rescue(_,[D("StandardError")]))try{return m((I(k("Array"),l)?l.$join():l.$to_s())["$valid_encoding?"]())?a.$raise():a.$raise(k("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}else throw _}},-2),q(x,"$process_line",function(l){var t=this;return m(t.process_lines)&&(t.look_ahead=G(t.look_ahead,1)),l})}(ie[0],null,ie),function(J,F,E){var x=M(J,F,"PreprocessorReader"),B=[x].concat(E),D=e.$r(B),Y=x.$$prototype;return Y.include_stack=Y.lines=Y.file=Y.dir=Y.path=Y.lineno=Y.maxdepth=Y.process_lines=Y.includes=Y.document=Y.unescape_next_line=Y.include_processor_extensions=Y.look_ahead=Y.skipping=Y.conditional_stack=z,x.$attr_reader("include_stack"),q(x,"$initialize",function C(l,t,a,v){C.$$p;var _=this,c=z,A=z;return C.$$p=null,t==null&&(t=z),a==null&&(a=z),v==null&&(v=R([],{})),_.document=l,Ke(_,it(_,"initialize",C,!1,!0),"initialize",[t,a,v],null),m(Ge(c=(m(A=l.$attributes()["$[]"]("max-include-depth"))?A:64).$to_i(),0))?_.maxdepth=R(["abs","curr","rel"],{abs:c,curr:c,rel:c}):_.maxdepth=z,_.include_stack=[],_.includes=l.$catalog()["$[]"]("includes"),_.skipping=!1,_.conditional_stack=[],_.include_processor_extensions=z},-2),q(x,"$has_more_lines?",function(){var l=this;return!!m(l.$peek_line())}),q(x,"$empty?",function(){var l=this;return!m(l.$peek_line())}),u(x,"eof?","empty?"),q(x,"$peek_line",function C(l){var t=C.$$p||z,a=this,v=z;return C.$$p=null,l==null&&(l=!1),m(v=Ke(a,it(a,"peek_line",C,!1,!0),"peek_line",[l],t))?v:m(a.include_stack["$empty?"]())?z:(a.$pop_include(),a.$peek_line(l))},-1),q(x,"$push_include",function(l,t,a,v,_){var c=this,A=z,S=z,K=z,j=z,ee=z,he=z;return t==null&&(t=z),a==null&&(a=z),v==null&&(v=1),_==null&&(_=R([],{})),c.include_stack["$<<"]([c.lines,c.file,c.dir,c.path,c.lineno,c.maxdepth,c.process_lines]),m(c.file=t)?(I(k("String"),t)?c.dir=k("File").$dirname(t):m(D("RUBY_ENGINE_OPAL"))?c.dir=k("URI").$parse(k("File").$dirname(t=t.$to_s())):((c.dir=t.$dup())["$path="](ve(A=k("File").$dirname(t.$path()),"/")?"":A),t=t.$to_s()),c.path=a=m(S=a)?S:k("File").$basename(t),m(c.process_lines=se(t,"end_with?",Oe(D("ASCIIDOC_EXTENSIONS").$keys())))&&(m(S=c.includes["$[]"](a.$slice(0,a.$rindex("."))))||c.includes["$[]="](a.$slice(0,a.$rindex(".")),m(_["$[]"]("partial-option"))?z:!0))):(c.dir=".",c.process_lines=!0,m(c.path=a)?m(S=c.includes["$[]"](D("Helpers").$rootname(a)))||c.includes["$[]="](D("Helpers").$rootname(a),m(_["$[]"]("partial-option"))?z:!0):c.path="<stdin>"),c.lineno=v,m(c.maxdepth)&&m(_["$key?"]("depth"))&&(m(Ge(K=_["$[]"]("depth").$to_i(),0))?(m(Ge(j=G(c.include_stack.$size(),K),ee=c.maxdepth["$[]"]("abs")))&&(j=K=ee),c.maxdepth=R(["abs","curr","rel"],{abs:ee,curr:j,rel:K})):c.maxdepth=R(["abs","curr","rel"],{abs:c.maxdepth["$[]"]("abs"),curr:c.include_stack.$size(),rel:0})),m((c.lines=c.$prepare_lines(l,R(["normalize","condense","indent"],{normalize:m(S=c.process_lines)?S:"chomp",condense:!1,indent:_["$[]"]("indent")})))["$empty?"]())?c.$pop_include():(m(_["$key?"]("leveloffset"))?(c.lines=G(G([m(he=c.document.$attr("leveloffset"))?":leveloffset: "+he:":leveloffset!:",""],c.lines.$reverse()),["",":leveloffset: "+_["$[]"]("leveloffset")]),c.lineno=Ne(c.lineno,2)):c.lines["$reverse!"](),c.look_ahead=0),c},-2),q(x,"$include_depth",function(){var l=this;return l.include_stack.$size()}),q(x,"$exceeds_max_depth?",function(){var l=this,t=z,a=z;return m(t=m(a=l.maxdepth)?b(l.include_stack.$size(),l.maxdepth["$[]"]("curr")):a)?l.maxdepth["$[]"]("rel"):t}),u(x,"exceeded_max_depth?","exceeds_max_depth?"),q(x,"$shift",function C(){var l=C.$$p||z,t=this,a=z;return C.$$p=null,m(t.unescape_next_line)?(t.unescape_next_line=!1,(a=Ke(t,it(t,"shift",C,!1,!0),"shift",[],l)).$slice(1,a.$length())):Ke(t,it(t,"shift",C,!1,!0),"shift",[],l)}),q(x,"$include_processors?",function(){var l=this;return m(l.include_processor_extensions["$nil?"]())?m(l.document["$extensions?"]())&&m(l.document.$extensions()["$include_processors?"]())?(l.include_processor_extensions=l.document.$extensions().$include_processors())["$!"]()["$!"]():l.include_processor_extensions=!1:l.include_processor_extensions["$!="](!1)}),q(x,"$create_include_cursor",function(l,t,a){var v=z;return I(k("String"),l)?v=k("File").$dirname(l):m(D("RUBY_ENGINE_OPAL"))?v=k("File").$dirname(l=l.$to_s()):(v=ve(v=k("File").$dirname(l.$path()),"")?"/":v,l=l.$to_s()),D("Cursor").$new(l,v,t,a)}),q(x,"$to_s",function(){var l=this;return"#<"+l.$class()+"@"+l.$object_id()+" {path: "+l.path.$inspect()+", line: "+l.lineno+", include depth: "+l.include_stack.$size()+", include stack: ["+se(l.include_stack,"map",[],function(a){return a==null&&(a=z),a.$to_s()}).$join(", ")+"]}>"}),x.$private(),q(x,"$prepare_lines",function C(l,t){var a=C.$$p||z,v=this,_=z,c=z,A=z,S=z;if(C.$$p=null,t==null&&(t=R([],{})),_=Ke(v,it(v,"prepare_lines",C,!1,!0),"prepare_lines",[l,t],a),m(v.document)&&m(v.document.$attributes()["$[]"]("skip-front-matter"))&&m(c=v["$skip_front_matter!"](_))&&v.document.$attributes()["$[]="]("front-matter",c.$join(D("LF"))),m(t.$fetch("condense",!0)))for(;m(m(A=S=_["$[]"](-1))?S["$empty?"]():A);)_.$pop();return m(t["$[]"]("indent"))&&D("Parser")["$adjust_indentation!"](_,t["$[]"]("indent").$to_i(),v.document.$attr("tabsize").$to_i()),_},-2),q(x,"$process_line",function(l){var t,a=this;return m(a.process_lines)?m(l["$empty?"]())?(a.look_ahead=G(a.look_ahead,1),l):m(l["$end_with?"]("]"))&&we(l["$start_with?"]("["))&&m(l["$include?"]("::"))?m(l["$include?"]("if"))&&m(D("ConditionalDirectiveRx")["$=~"](l))?ve((t=We["~"])===z?z:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=G(a.look_ahead,1),l.$slice(1,l.$length())):m(a.$preprocess_conditional_directive((t=We["~"])===z?z:t["$[]"](2),(t=We["~"])===z?z:t["$[]"](3),(t=We["~"])===z?z:t["$[]"](4),(t=We["~"])===z?z:t["$[]"](5)))?(a.$shift(),z):(a.look_ahead=G(a.look_ahead,1),l):m(a.skipping)?(a.$shift(),z):m(l["$start_with?"]("inc","\\inc"))&&m(D("IncludeDirectiveRx")["$=~"](l))?ve((t=We["~"])===z?z:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=G(a.look_ahead,1),l.$slice(1,l.$length())):m(a.$preprocess_include_directive((t=We["~"])===z?z:t["$[]"](2),(t=We["~"])===z?z:t["$[]"](3)))?z:(a.look_ahead=G(a.look_ahead,1),l):(a.look_ahead=G(a.look_ahead,1),l):m(a.skipping)?(a.$shift(),z):(a.look_ahead=G(a.look_ahead,1),l):l}),q(x,"$preprocess_conditional_directive",function(l,t,a,v){var _,c=this,A=z,S=z,K=z,j=z,ee=z,he=z;if(m(A=t["$empty?"]())||(t=t.$downcase()),ve(l,"endif"))return m(v)?c.$logger().$error(c.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+t+"["+v+"]",R(["source_location"],{source_location:c.$cursor()}))):m(c.conditional_stack["$empty?"]())?c.$logger().$error(c.$message_with_context("unmatched preprocessor directive: endif::"+t+"[]",R(["source_location"],{source_location:c.$cursor()}))):m(A)||ve(t,(S=c.conditional_stack["$[]"](-1))["$[]"]("target"))?(c.conditional_stack.$pop(),c.skipping=m(c.conditional_stack["$empty?"]())?!1:c.conditional_stack["$[]"](-1)["$[]"]("skipping")):c.$logger().$error(c.$message_with_context("mismatched preprocessor directive: endif::"+t+"[], expected endif::"+S["$[]"]("target")+"[]",R(["source_location"],{source_location:c.$cursor()}))),!0;if(m(c.skipping))K=!1;else switch(l){case"ifdef":if(m(A))return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;switch(a){case",":K=se(t.$split(",",-1),"none?",[],function Be(Ze){var $t=Be.$$s==null?this:Be.$$s;return $t.document==null&&($t.document=z),Ze==null&&(Ze=z),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;case"+":K=se(t.$split("+",-1),"any?",[],function Be(Ze){var $t=Be.$$s==null?this:Be.$$s;return $t.document==null&&($t.document=z),Ze==null&&(Ze=z),$t.document.$attributes()["$key?"](Ze)["$!"]()},{$$s:c});break;default:K=c.document.$attributes()["$key?"](t)["$!"]()}break;case"ifndef":if(m(A))return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;switch(a){case",":K=se(t.$split(",",-1),"any?",[],function Be(Ze){var $t=Be.$$s==null?this:Be.$$s;return $t.document==null&&($t.document=z),Ze==null&&(Ze=z),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;case"+":K=se(t.$split("+",-1),"all?",[],function Be(Ze){var $t=Be.$$s==null?this:Be.$$s;return $t.document==null&&($t.document=z),Ze==null&&(Ze=z),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;default:K=c.document.$attributes()["$key?"](t)}break;case"ifeval":if(m(A))if(m(v)&&m(D("EvalExpressionRx")["$=~"](v.$strip())))j=(_=We["~"])===z?z:_["$[]"](1),ee=(_=We["~"])===z?z:_["$[]"](2),he=(_=We["~"])===z?z:_["$[]"](3),K=function(){try{return!m(c.$resolve_expr_val(j).$send(ee,c.$resolve_expr_val(he)))}catch(Be){if(e.rescue(Be,[D("StandardError")]))try{return!0}finally{e.pop_exception()}else throw Be}}();else return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - "+(m(v)?"invalid expression":"missing expression")+": ifeval::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;else return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+t+"["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;break}return ve(l,"ifeval")||we(v)?(m(K)&&(c.skipping=!0),c.conditional_stack["$<<"](R(["target","skip","skipping"],{target:t,skip:K,skipping:c.skipping}))):m(c.skipping)||m(K)||(c.$replace_next_line(v.$rstrip()),c.$unshift(""),m(v["$start_with?"]("include::"))&&(c.look_ahead=Ne(c.look_ahead,1))),!0}),q(x,"$preprocess_include_directive",function(l,t){var a,v,_=this,c=z,A=z,S=z,K=z,j=z,ee=z,he=z,Be=z,Ze=z,$t=z,et=z,at=z,ct=z,ft=z,ut=z,ht=z,dt=z,At=z,yt=z,It=z,St=z,wt=z,Et=z,Ct=z,Tt=z,Yt=z,Pt=z;if(c=_.document,m((A=l)["$include?"](D("ATTR_REF_HEAD")))&&m((A=c.$sub_attributes(l,R(["attribute_missing"],{attribute_missing:ve(S=m(K=c.$attributes()["$[]"]("attribute-missing"))?K:D("Compliance").$attribute_missing(),"warn")?"drop-line":S})))["$empty?"]()))return ve(S,"drop-line")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(se(_.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("include dropped due to missing attribute: include::"+l+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):m(c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(se(_.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("optional include dropped "+(ve(S,"warn")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+l+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):(_.$logger().$warn(_.$message_with_context("include dropped "+(ve(S,"warn")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+l+"["+t+"]",R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+l+"["+t+"]"));if(m(_["$include_processors?"]())&&m(j=se(_.include_processor_extensions,"find",[],function(xt){return xt==null&&(xt=z),xt.$instance()["$handles?"](A)})))return _.$shift(),j.$process_method()["$[]"](c,_,A,c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))),!0;if(m(b(c.$safe(),k(D("SafeMode"),"SECURE"))))return _.$replace_next_line("link:"+A+"[role=include]");if(m(_.maxdepth)){if(m(b(_.include_stack.$size(),_.maxdepth["$[]"]("curr"))))return _.$logger().$error(_.$message_with_context("maximum include depth of "+_.maxdepth["$[]"]("rel")+" exceeded",R(["source_location"],{source_location:_.$cursor()}))),z;switch(ee=c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0})),v=_.$resolve_include_path(A,t,ee),a=ce(v),he=a[0]==null?z:a[0],Be=a[1]==null?z:a[1],Ze=a[2]==null?z:a[2],Be){case"file":$t=k("File").$method("open"),et=D("FILE_READ_MODE");break;case"uri":$t=k("OpenURI").$method("open_uri"),et=D("URI_READ_MODE");break;default:return he}if(m(D("RUBY_ENGINE_OPAL"))||m(at=ee["$[]"]("encoding"))&&m(function(){try{return k("Encoding").$find(at)}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return z}finally{e.pop_exception()}else throw Rt}}())&&((ct=et.$split(":"))["$[]="](1,at),et=ct.$join(":")),ft=ut=z,m(t)&&(m(ee["$key?"]("lines"))?(ft=[],se(_.$split_delimited_value(ee["$[]"]("lines")),"each",[],function(xt){var qt,Lt,kt=z,Ft=z;return xt==null&&(xt=z),m(xt["$include?"](".."))?(Lt=xt.$partition(".."),qt=ce(Lt),kt=qt[0]==null?z:qt[0],qt[1]==null||qt[1],Ft=qt[2]==null?z:qt[2],ft=G(ft,m(Ft["$empty?"]())||m(h(Ft=Ft.$to_i(),0))?[kt.$to_i(),k(k("Float"),"INFINITY")]:e.Range.$new(kt.$to_i(),Ft,!1).$to_a())):ft["$<<"](xt.$to_i())}),ft=m(ft["$empty?"]())?z:ft.$sort().$uniq()):m(ee["$key?"]("tag"))?m((ht=ee["$[]"]("tag"))["$empty?"]())||ve(ht,"!")||(ut=m(ht["$start_with?"]("!"))?Ve(ht.$slice(1,ht.$length()),!1):Ve(ht,!0)):m(ee["$key?"]("tags"))&&(ut=R([],{}),se(_.$split_delimited_value(ee["$[]"]("tags")),"each",[],function(xt){var qt;return xt==null&&(xt=z),m(xt["$empty?"]())||ve(xt,"!")?z:m(xt["$start_with?"]("!"))?(qt=[xt.$slice(1,xt.$length()),!1],se(ut,"[]=",qt),qt[qt.length-1]):(qt=[xt,!0],se(ut,"[]=",qt),qt[qt.length-1])}),m(ut["$empty?"]())&&(ut=z))),m(ft)){a=[[],z,0],dt=a[0],At=a[1],yt=a[2];try{se($t,"call",[he,et],function(xt){var qt=z;return xt==null&&(xt=z),qt=z,function(){try{var Lt=_e("break");return se(xt,"each_line",[],function(Ft){var jt=z;if(Ft==null&&(Ft=z),yt=G(yt,1),m(qt)||I(k("Float"),jt=ft["$[]"](0))&&m(qt=jt["$infinite?"]()))return At=m(K=At)?K:yt,dt["$<<"](Ft);if(ve(jt,yt)&&(At=m(K=At)?K:yt,dt["$<<"](Ft),ft.$shift()),m(ft["$empty?"]()))Lt.$throw();else return z})}catch(kt){if(kt===Lt)return kt.$v;throw kt}}()})}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Be+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}_.$shift(),m(At)&&(ee["$[]="]("partial-option",""),_.$push_include(dt,he,Ze,At,ee))}else if(m(ut)){a=[[],z,0,[],k("Set").$new(),z],dt=a[0],At=a[1],yt=a[2],It=a[3],St=a[4],wt=a[5],m(ut["$key?"]("**"))?(Et=Ct=ut.$delete("**"),m(ut["$key?"]("*"))?Tt=ut.$delete("*"):we(Et)&&ve(ut.$values().$first(),!1)&&(Tt=!0)):m(ut["$key?"]("*"))?ve(ut.$keys().$first(),"*")?Et=Ct=(Tt=ut.$delete("*"))["$!"]():(Et=Ct=!1,Tt=ut.$delete("*")):Et=Ct=ut["$value?"](!0)["$!"]();try{se($t,"call",[he,et],function Rt(xt){var qt,Lt=Rt.$$s==null?this:Rt.$$s,kt=z,Ft=z;return xt==null&&(xt=z),qt=["::","[]"],kt=qt[0],Ft=qt[1],se(xt,"each_line",[],function jt(Dt){var Nt,Ht,Mt=jt.$$s==null?this:jt.$$s,Bt=z,Gt=z,Wt=z;return Dt==null&&(Dt=z),yt=G(yt,1),m(Dt["$include?"](kt))&&m(Dt["$include?"](Ft))&&m(D("TagDirectiveRx")["$=~"](Dt))?(Bt=(Nt=We["~"])===z?z:Nt["$[]"](2),m((Nt=We["~"])===z?z:Nt["$[]"](1))?ve(Bt,wt)?(It.$pop(),Ht=m(It["$empty?"]())?[z,Ct]:It["$[]"](-1),Nt=ce(Ht),wt=Nt[0]==null?z:Nt[0],Et=Nt[1]==null?z:Nt[1],Ht):m(ut["$key?"](Bt))?(Gt=Mt.$create_include_cursor(he,A,yt),m(Wt=se(It,"rindex",[],function(Vt){return Vt==null&&(Vt=z),Vt["$=="](Bt)},{$$has_trailing_comma_in_args:!0}))?(ve(Wt,0)?It.$shift():It.$delete_at(Wt),Mt.$logger().$warn(Mt.$message_with_context("mismatched end tag (expected '"+wt+"' but found '"+Bt+"') at line "+yt+" of include "+Be+": "+he,R(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:Gt})))):Mt.$logger().$warn(Mt.$message_with_context("unexpected end tag '"+Bt+"' at line "+yt+" of include "+Be+": "+he,R(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:Gt})))):z:m(ut["$key?"](Bt))?(m(Et=ut["$[]"](Bt))&&St["$<<"](Bt),It["$<<"]([wt=Bt,Et,yt])):we(Tt["$nil?"]())?(Et=m(wt)&&we(Et)?!1:Tt,It["$<<"]([wt=Bt,Et,yt])):z):m(Et)?(At=m(K=At)?K:yt,dt["$<<"](Dt)):z},{$$s:Lt})},{$$s:_})}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Be+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}m(It["$empty?"]())||se(It,"each",[],function Rt(xt,qt,Lt){var kt=Rt.$$s==null?this:Rt.$$s;return xt==null&&(xt=z),Lt==null&&(Lt=z),kt.$logger().$warn(kt.$message_with_context("detected unclosed tag '"+xt+"' starting at line "+Lt+" of include "+Be+": "+he,R(["source_location","include_location"],{source_location:kt.$cursor(),include_location:kt.$create_include_cursor(he,A,Lt)})))},{$$s:_}),m((Yt=Ne(se(ut,"keep_if",[],function(xt,qt){return qt==null&&(qt=z),qt}).$keys(),St.$to_a()))["$empty?"]())||_.$logger().$warn(_.$message_with_context("tag"+(m(Ge(Yt.$size(),1))?"s":"")+" '"+Yt.$join(", ")+"' not found in include "+Be+": "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$shift(),m(At)&&(m(Ct)&&Re(Tt,!1)&&m(ut["$empty?"]())||ee["$[]="]("partial-option",""),_.$push_include(dt,he,Ze,At,ee))}else{Pt=z;try{Pt=se($t,"call",[he,et],function(xt){return xt==null&&(xt=z),xt.$read()}),_.$shift()}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Be+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}_.$push_include(Pt,he,Ze,1,ee)}return!0}else return z}),q(x,"$resolve_include_path",function(l,t,a){var v,_=this,c=z,A=z,S=z;return c=_.document,m(D("Helpers")["$uriish?"](l))||m(I(k("String"),_.dir)?z:l=""+_.dir+"/"+l)?m(c["$attr?"]("allow-uri-read"))?(m(c["$attr?"]("cache-uri"))?m((v=k("::","OpenURI","skip_raise"))&&k(v,"Cache","skip_raise")?"constant":z)||D("Helpers").$require_library("open-uri/cached","open-uri-cached"):we(D("RUBY_ENGINE_OPAL"))&&k("OpenURI"),[k("URI").$parse(l),"uri",l]):_.$replace_next_line("link:"+l+"[role=include]"):(A=c.$normalize_system_path(l,_.dir,z,R(["target_name"],{target_name:"include file"})),m(k("File")["$file?"](A))?(S=c.$path_resolver().$relative_path(A,c.$base_dir()),[A,"file",S]):m(a["$[]"]("optional-option"))?(se(_.$logger(),"info",[],function K(){var j=K.$$s==null?this:K.$$s;return j.$message_with_context("optional include dropped because include file not found: "+A,R(["source_location"],{source_location:j.$cursor()}))},{$$s:_}),_.$shift(),!0):(_.$logger().$error(_.$message_with_context("include file not found: "+A,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+l+"["+t+"]")))}),q(x,"$pop_include",function(){var l,t,a=this;return m(a.include_stack["$empty?"]())||(t=a.include_stack.$pop(),l=ce(t),a.lines=l[0]==null?z:l[0],a.file=l[1]==null?z:l[1],a.dir=l[2]==null?z:l[2],a.path=l[3]==null?z:l[3],a.lineno=l[4]==null?z:l[4],a.maxdepth=l[5]==null?z:l[5],a.process_lines=l[6]==null?z:l[6],a.look_ahead=0),z}),q(x,"$split_delimited_value",function(l){return m(l["$include?"](","))?l.$split(","):l.$split(";")}),q(x,"$skip_front_matter!",function(l,t){var a=this,v=z,_=z,c=z,A=z,S=z;if(t==null&&(t=!0),!ve(v=l["$[]"](0),"---"))return z;for(_=l.$drop(0),l.$shift(),c=[],m(t)&&(a.lineno=G(a.lineno,1));!m(m(A=S=l["$empty?"]())?A:l["$[]"](0)["$=="](v));)c["$<<"](l.$shift()),m(t)&&(a.lineno=G(a.lineno,1));return m(S)?(se(l,"unshift",Oe(_)),m(t)&&(a.lineno=Ne(a.lineno,_.$size())),z):(l.$shift(),m(t)&&(a.lineno=G(a.lineno,1)),c)},-2),q(x,"$resolve_expr_val",function(l){var t=this,a=z;return m(l["$start_with?"]('"'))&&m(l["$end_with?"]('"'))||m(l["$start_with?"]("'"))&&m(l["$end_with?"]("'"))?(a=!0,l=l.$slice(1,Ne(l.$length(),1))):a=!1,m(l["$include?"](D("ATTR_REF_HEAD")))&&(l=t.document.$sub_attributes(l,R(["attribute_missing"],{attribute_missing:"drop"}))),m(a)?l:m(l["$empty?"]())?z:ve(l,"true")?!0:ve(l,"false")?!1:m(l.$rstrip()["$empty?"]())?" ":m(l["$include?"]("."))?l.$to_f():l.$to_i()})}(ie[0],H("Reader"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/section"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.send2,u=e.find_super,R=e.eqeqeq,we=e.truthy,I=e.rb_plus,ce=e.def,m=e.alias,Ge=e.rb_gt,se=e.eqeq,Ne=e.not,_e=e.send,ve=e.defs,st=[],Re=e.nil;return e.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(Oe,Te){var Ke=U(Oe,"Asciidoctor"),it=[Ke].concat(Te),b=e.$r(it);return function(We,h,Ve){var rt=M(We,h,"Section"),z=[rt].concat(Ve),k=e.$r(z),Ee=rt.$$prototype;return Ee.document=Ee.next_section_index=Ee.parent=Ee.level=Ee.numeral=Ee.numbered=Ee.sectname=Ee.title=Ee.blocks=Re,rt.$attr_accessor("index"),rt.$attr_accessor("sectname"),rt.$attr_accessor("special"),rt.$attr_accessor("numbered"),rt.$attr_reader("caption"),ce(rt,"$initialize",function O(ue,ie,H,J){var F;O.$$p;var E=this,x=Re;return O.$$p=null,ue==null&&(ue=Re),ie==null&&(ie=Re),H==null&&(H=!1),J==null&&(J=q([],{})),G(E,u(E,"initialize",O,!1,!0),"initialize",[ue,"section",J],null),R(k("Section"),ue)?(F=[we(x=ie)?x:I(ue.$level(),1),ue.$special()],E.level=F[0],E.special=F[1]):(F=[we(x=ie)?x:1,!1],E.level=F[0],E.special=F[1]),E.numbered=H,E.index=0},-1),m(rt,"name","title"),ce(rt,"$generate_id",function(){var ue=this;return k("Section").$generate_id(ue.$title(),ue.document)}),ce(rt,"$sections?",function(){var ue=this;return Ge(ue.next_section_index,0)}),ce(rt,"$sectnum",function(ue,ie){var H=this,J=Re;return ue==null&&(ue="."),ie==null&&(ie=Re),ie=we(J=ie)?J:se(ie,!1)?"":ue,we(Ge(H.level,1))&&R(k("Section"),H.parent)?""+H.parent.$sectnum(ue,ue)+H.numeral+ie:""+H.numeral+ie},-1),ce(rt,"$xreftext",function(ue){var ie=this,H=Re,J=Re,F=Re,E=Re;if(ue==null&&(ue=Re),we(H=ie.$reftext())&&Ne(H["$empty?"]()))return H;if(we(ue))if(we(ie.numbered))switch(ue){case"full":return se(J=ie.sectname,"chapter")||se(J,"appendix")?F=ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):F=ie.$sub_placeholder(ie.$sub_quotes(we(ie.document.$compat_mode())?"``%s''":'"`%s`"'),ie.$title()),we(E=ie.document.$attributes()["$[]"](""+J+"-refsig"))?""+E+" "+ie.$sectnum(".",",")+" "+F:""+ie.$sectnum(".",",")+" "+F;case"short":return we(E=ie.document.$attributes()["$[]"](""+ie.sectname+"-refsig"))?""+E+" "+ie.$sectnum(".",""):ie.$sectnum(".","");default:return se(J=ie.sectname,"chapter")||se(J,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title()}else return se(J=ie.sectname,"chapter")||se(J,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title();else return ie.$title()},-1),ce(rt,"$<<",function O(ue){var ie=O.$$p||Re,H=this;return O.$$p=null,se(ue.$context(),"section")&&H.$assign_numeral(ue),G(H,u(H,"<<",O,!1,!0),"<<",[ue],ie)}),ce(rt,"$to_s",function O(){var ue=O.$$p||Re,ie=this,H=Re;return O.$$p=null,we(ie.title)?(H=we(ie.numbered)?""+ie.$sectnum()+" "+ie.title:ie.title,"#<"+ie.$class()+"@"+ie.$object_id()+" {level: "+ie.level+", title: "+H.$inspect()+", blocks: "+ie.blocks.$size()+"}>"):G(ie,u(ie,"to_s",O,!1,!0),"to_s",[],ue)}),ve(rt,"$generate_id",function(ue,ie){var H,J=Re,F=Re,E=Re,x=Re,B=Re,D=Re,Y=Re,C=Re,l=Re,t=Re;if(J=ie.$attributes(),F=we(E=J["$[]"]("idprefix"))?E:"_",we(x=J["$[]"]("idseparator"))?(se(x.$length(),1)||Ne(B=x["$empty?"]())&&we(x=(H=["idseparator",x.$chr()],_e(J,"[]=",H),H[H.length-1])))&&(D=se(x,"-")||se(x,".")?" .-":" "+x+".-"):(H=["_"," _.-"],x=H[0],D=H[1]),Y=""+F+ue.$downcase().$gsub(k("InvalidSectionIdCharsRx"),""),we(B)?Y=Y.$delete(" "):(Y=Y.$tr_s(D,x),we(Y["$end_with?"](x))&&(Y=Y.$chop()),we(F["$empty?"]())&&we(Y["$start_with?"](x))&&(Y=Y.$slice(1,Y.$length()))),we(ie.$catalog()["$[]"]("refs")["$key?"](Y))){for(C=ie.$catalog()["$[]"]("refs"),l=k("Compliance").$unique_id_start_index();we(C["$[]"](t=""+Y+x+l));)l=I(l,1);return t}else return Y})}(it[0],b("AbstractBlock"),it)}(st[0],st)},Opal.modules["asciidoctor/stylesheets"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.return_ivar,u=e.defs,R=e.def,we=e.truthy,I=e.hash2,ce=[],m=e.nil,Ge=e.$$$;return e.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(se,Ne){var _e=U(se,"Asciidoctor"),ve=[_e].concat(Ne);return function(st,Re,Oe){var Te=M(st,Re,"Stylesheets"),Ke=[Te].concat(Oe),it=e.$r(Ke),b=Te.$$prototype;return b.primary_stylesheet_data=m,q(Ke[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),q(Ke[0],"STYLESHEETS_DIR",Ge("File").$join(it("DATA_DIR"),"stylesheets")),Te.__instance__=Te.$new(),u(Te,"$instance",G("__instance__")),R(Te,"$primary_stylesheet_name",function(){return it("DEFAULT_STYLESHEET_NAME")}),R(Te,"$primary_stylesheet_data",function(){var h=this,Ve=m;return h.primary_stylesheet_data=we(Ve=h.primary_stylesheet_data)?Ve:Ge("File").$read(Ge("File").$join(it("STYLESHEETS_DIR"),"asciidoctor-default.css"),I(["mode"],{mode:it("FILE_READ_MODE")})).$rstrip()}),R(Te,"$embed_primary_stylesheet",function(){var h=this;return`<style>
`+h.$primary_stylesheet_data()+`
</style>`}),R(Te,"$write_primary_stylesheet",function(h){var Ve=this;return h==null&&(h="."),Ge("File").$write(Ge("File").$join(h,Ve.$primary_stylesheet_name()),Ve.$primary_stylesheet_data(),I(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),R(Te,"$coderay_stylesheet_name",function(){return it("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),R(Te,"$coderay_stylesheet_data",function(){return it("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),R(Te,"$embed_coderay_stylesheet",function(){var h=this;return`<style>
`+h.$coderay_stylesheet_data()+`
</style>`}),R(Te,"$write_coderay_stylesheet",function(h){var Ve=this;return h==null&&(h="."),Ge("File").$write(Ge("File").$join(h,Ve.$coderay_stylesheet_name()),Ve.$coderay_stylesheet_data(),I(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),R(Te,"$pygments_stylesheet_name",function(h){return h==null&&(h=m),it("SyntaxHighlighter").$for("pygments").$stylesheet_basename(h)},-1),R(Te,"$pygments_stylesheet_data",function(h){return h==null&&(h=m),it("SyntaxHighlighter").$for("pygments").$read_stylesheet(h)},-1),R(Te,"$embed_pygments_stylesheet",function(h){var Ve=this;return h==null&&(h=m),`<style>
`+Ve.$pygments_stylesheet_data(h)+`
</style>`},-1),R(Te,"$write_pygments_stylesheet",function(h,Ve){var rt=this;return h==null&&(h="."),Ve==null&&(Ve=m),Ge("File").$write(Ge("File").$join(h,rt.$pygments_stylesheet_name(Ve)),rt.$pygments_stylesheet_data(Ve),I(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1)}(ve[0],null,ve)}(ce[0],ce)},Opal.modules["asciidoctor/table"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.def,u=e.alias,R=e.hash2,we=e.send2,I=e.find_super,ce=e.truthy,m=e.rb_lt,Ge=e.rb_gt,se=e.eqeq,Ne=e.rb_times,_e=e.rb_divide,ve=e.send,st=e.rb_plus,Re=e.rb_minus,Oe=e.return_val,Te=e.to_a,Ke=e.gvars,it=e.neqeq,b=e.return_ivar,We=e.to_ary,h=e.regexp,Ve=e.not,rt=e.thrower,z=[],k=e.nil,Ee=e.$$$;return e.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(O,ue){var ie=U(O,"Asciidoctor"),H=[ie].concat(ue),J=e.$r(H);return function(F,E,x){var B=M(F,E,"Table"),D=[B].concat(x),Y=e.$r(D),C=B.$$prototype;return C.attributes=C.document=C.rows=C.has_header_option=C.columns=k,q(D[0],"DEFAULT_PRECISION",4),function(l,t){var a=M(l,t,"Rows"),v=a.$$prototype;return v.head=v.body=v.foot=k,a.$attr_accessor("head","foot","body"),G(a,"$initialize",function(c,A,S){var K=this;return c==null&&(c=[]),A==null&&(A=[]),S==null&&(S=[]),K.head=c,K.foot=A,K.body=S},-1),u(a,"[]","send"),G(a,"$by_section",function(){var c=this;return[["head",c.head],["body",c.body],["foot",c.foot]]}),G(a,"$to_h",function(){var c=this;return R(["head","body","foot"],{head:c.head,body:c.body,foot:c.foot})})}(D[0],null),B.$attr_accessor("columns"),B.$attr_accessor("rows"),B.$attr_accessor("has_header_option"),B.$attr_reader("caption"),G(B,"$initialize",function l(t,a){var v;l.$$p;var _=this,c=k,A=k,S=k;return l.$$p=null,we(_,I(_,"initialize",l,!1,!0),"initialize",[t,"table"],null),_.rows=Y("Rows").$new(),_.columns=[],_.has_header_option=!1,ce(c=a["$[]"]("width"))?(ce(Ge(A=c.$to_i(),100))||ce(m(A,1)))&&(se(A,0)&&(se(c,"0")||se(c,"0%"))||(A=100)):A=100,_.attributes["$[]="]("tablepcwidth",A),ce(_.document.$attributes()["$[]"]("pagewidth"))&&_.attributes["$[]="]("tableabswidth",se(S=Ne(_e(A,100),_.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(Y("DEFAULT_PRECISION")),S.$to_i())?S.$to_i():S),ce(a["$[]"]("rotate-option"))?(v=["orientation","landscape"],ve(_.attributes,"[]=",v),v[v.length-1]):k}),G(B,"$header_row?",function(){var t=this,a=k;return ce(a=t.has_header_option)&&ce(t.rows.$body()["$empty?"]())?a:k}),G(B,"$create_columns",function(t){var a=this,v=k,_=k,c=k,A=k;return v=[],_=k,c=0,ve(t,"each",[],function S(K){var j=S.$$s==null?this:S.$$s,ee=k,he=k;return K==null&&(K=k),ee=K["$[]"]("width"),v["$<<"](Y("Column").$new(j,v.$size(),K)),ce(m(ee,0))?(_=ce(he=_)?he:[])["$<<"](v["$[]"](-1)):c=st(c,ee)},{$$s:a}),ce(Ge(A=(a.columns=v).$size(),0))&&(a.attributes["$[]="]("colcount",A),ce(Ge(c,0))||ce(_)||(c=k),a.$assign_column_widths(c,_)),k}),G(B,"$assign_column_widths",function(t,a){var v=this,_=k,c=k,A=k,S=k,K=k;return t==null&&(t=k),a==null&&(a=k),_=Y("DEFAULT_PRECISION"),c=A=0,ce(t)?(ce(a)&&(ce(Ge(t,100))?(S=0,v.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):(S=_e(Re(100,t),a.$size()).$truncate(_),se(S.$to_i(),S)&&(S=S.$to_i()),t=100),K=R(["width","autowidth-option"],{width:S,"autowidth-option":""}),ve(a,"each",[],function(ee){return ee==null&&(ee=k),ee.$update_attributes(K)})),ve(v.columns,"each",[],function(ee){return ee==null&&(ee=k),c=st(c,A=ee.$assign_width(k,t,_))})):(A=_e(100,v.columns.$size()).$truncate(_),se(A.$to_i(),A)&&(A=A.$to_i()),ve(v.columns,"each",[],function(ee){return ee==null&&(ee=k),c=st(c,ee.$assign_width(A,k,_))})),se(c,100)||v.columns["$[]"](-1).$assign_width(st(Re(100,c),A).$round(_),k,_),k},-1),G(B,"$partition_header_footer",function(t){var a,v=this,_=k,c=k;return _=(a=["rowcount",(c=v.rows.$body()).$size()],ve(v.attributes,"[]=",a),a[a.length-1]),ce(Ge(_,0))&&(ce(v.has_header_option)?(v.rows["$head="]([ve(c.$shift(),"map",[],function(S){return S==null&&(S=k),S.$reinitialize(!0)})]),_=Re(_,1)):ce(v.has_header_option["$nil?"]())&&(v.has_header_option=!1,c.$unshift(ve(c.$shift(),"map",[],function(S){return S==null&&(S=k),S.$reinitialize(!1)})))),ce(Ge(_,0))&&ce(t["$[]"]("footer-option"))&&v.rows["$foot="]([c.$pop()]),k})}(H[0],J("AbstractBlock"),H),function(F,E){var x=M(F,E,"Column"),B=x.$$prototype;return B.attributes=k,x.$attr_accessor("style"),G(x,"$initialize",function D(Y,C,l){D.$$p;var t=this;return D.$$p=null,l==null&&(l=R([],{})),we(t,I(t,"initialize",D,!1,!0),"initialize",[Y,"table_column"],null),t.style=l["$[]"]("style"),l["$[]="]("colnumber",st(C,1)),ce(l["$[]"]("width"))||l["$[]="]("width",1),ce(l["$[]"]("halign"))||l["$[]="]("halign","left"),ce(l["$[]"]("valign"))||l["$[]="]("valign","top"),t.$update_attributes(l)},-3),u(x,"table","parent"),G(x,"$assign_width",function(Y,C,l){var t,a=this,v=k;return ce(C)&&(Y=_e(Ne(a.attributes["$[]"]("width").$to_f(),100),C).$truncate(l),se(Y.$to_i(),Y)&&(Y=Y.$to_i())),ce(a.$parent().$attributes()["$[]"]("tableabswidth"))&&a.attributes["$[]="]("colabswidth",se(v=Ne(_e(Y,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(l),v.$to_i())?v.$to_i():v),t=["colpcwidth",Y],ve(a.attributes,"[]=",t),t[t.length-1]}),G(x,"$block?",Oe(!1)),G(x,"$inline?",Oe(!1))}(J("Table"),J("AbstractNode")),function(F,E,x){var B=M(F,E,"Cell"),D=[B].concat(x),Y=e.$r(D),C=B.$$prototype;return C.document=C.reinitialize_args=C.attributes=C.cursor=C.text=C.subs=C.style=C.inner_document=C.source_location=C.colspan=C.rowspan=k,q(D[0],"DOUBLE_LF",Ne(Y("LF"),2)),B.$attr_accessor("colspan"),B.$attr_accessor("rowspan"),u(B,"column","parent"),B.$attr_reader("inner_document"),G(B,"$initialize",function l(t,a,v,_){var c;l.$$p;var A=this,S=k,K=k,j=k,ee=k,he=k,Be=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k;if(l.$$p=null,v==null&&(v=R([],{})),_==null&&(_=R([],{})),we(A,I(A,"initialize",l,!1,!0),"initialize",[t,"table_cell"],null),A.cursor=A.reinitialize_args=k,ce(A.document.$sourcemap())&&(A.source_location=_["$[]"]("cursor").$dup()),ce(t)&&(ce(S=t.$table()["$header_row?"]())?se(S,"implicit")&&ce(K=ce(j=t.$style())?j:ce(ee=v)?v["$[]"]("style"):ee)&&((se(K,"asciidoc")||se(K,"literal"))&&(A.reinitialize_args=[t,a,ce(j=v)?v.$merge():j,_]),K=k):K=t.$style(),A.$update_attributes(t.$attributes())),ce(v))switch(ce(v["$empty?"]())?A.colspan=A.rowspan=k:(c=[v.$delete("colspan"),v.$delete("rowspan")],A.colspan=c[0],A.rowspan=c[1],ce(S)||(K=ce(j=v["$[]"]("style"))?j:K),A.$update_attributes(v)),K){case"asciidoc":if(he=!0,Be=_["$[]"]("cursor"),ce((a=a.$rstrip())["$start_with?"](Y("LF")))){for(Ze=1;ce((a=a.$slice(1,a.$length()))["$start_with?"](Y("LF")));)Ze=st(Ze,1);Be.$advance(Ze)}else a=a.$lstrip();break;case"literal":for($t=!0,a=a.$rstrip();ce(a["$start_with?"](Y("LF")));)a=a.$slice(1,a.$length());break;default:et=!0,a=ce(a)?a.$strip():""}else A.colspan=A.rowspan=k,se(K,"asciidoc")&&(he=!0,Be=_["$[]"]("cursor"));return ce(he)?(at=A.document.$attributes().$delete("doctitle"),ct=a.$split(Y("LF"),-1),ce(ct["$empty?"]())||ce((ft=ct["$[]"](0))["$include?"]("::"))&&(ut=Y("PreprocessorReader").$new(A.document,[ft]).$readlines(),se(ft,ut["$[]"](0))&&ce(m(ut.$size(),2))||(ct.$shift(),ce(ut["$empty?"]())||ve(ct,"unshift",Te(ut)))),A.inner_document=Y("Document").$new(ct,R(["standalone","parent","cursor"],{standalone:!1,parent:A.document,cursor:Be})),ce(at["$nil?"]())||A.document.$attributes()["$[]="]("doctitle",at),A.subs=k):ce($t)?(A.content_model="verbatim",A.subs=Y("BASIC_SUBS")):(ce(et)&&(ce(S)?A.cursor=_["$[]"]("cursor"):A.$catalog_inline_anchor(a,_["$[]"]("cursor"))),A.content_model="simple",A.subs=Y("NORMAL_SUBS")),A.text=a,A.style=K},-3),G(B,"$reinitialize",function(t){var a=this;if(ce(t))a.reinitialize_args=k;else{if(ce(a.reinitialize_args))return ve(Ee(Y("Table"),"Cell"),"new",Te(a.reinitialize_args));a.style=a.attributes["$[]"]("style")}return ce(a.cursor)&&a.$catalog_inline_anchor(),a}),G(B,"$catalog_inline_anchor",function(t,a){var v,_=this;return t==null&&(t=_.text),a==null&&(a=k),ce(a)||(v=[_.cursor,k],a=v[0],_.cursor=v[1]),ce(t["$start_with?"]("[["))&&ce(Y("LeadingInlineAnchorRx")["$=~"](t))?Y("Parser").$catalog_inline_anchor((v=Ke["~"])===k?k:v["$[]"](1),(v=Ke["~"])===k?k:v["$[]"](2),_,a,_.document):k},-1),G(B,"$text",function(){var t=this;return t.$apply_subs(t.text,t.subs)}),B.$attr_writer("text"),G(B,"$content",function(){var t=this,a=k,v=k;return se(a=t.style,"asciidoc")?t.inner_document.$convert():ce(t.text["$include?"](Y("DOUBLE_LF")))?ve(t.$text().$split(Y("BlankLineRx")),"map",[],function _(c){var A=_.$$s==null?this:_.$$s;return c==null&&(c=k),ce(a)&&it(a,"header")?Y("Inline").$new(A.$parent(),"quoted",c,R(["type"],{type:a})).$convert():c},{$$s:t}):ce((v=t.$text())["$empty?"]())?[]:ce(a)&&it(a,"header")?[Y("Inline").$new(t.$parent(),"quoted",v,R(["type"],{type:a})).$convert()]:[v]}),G(B,"$lines",function(){var t=this;return t.text.$split(Y("LF"))}),G(B,"$source",b("text")),G(B,"$file",function(){var t=this,a=k;return ce(a=t.source_location)?t.source_location.$file():a}),G(B,"$lineno",function(){var t=this,a=k;return ce(a=t.source_location)?t.source_location.$lineno():a}),G(B,"$to_s",function l(){var t=l.$$p||k,a=this,v=k;return l.$$p=null,""+we(a,I(a,"to_s",l,!1,!0),"to_s",[],t)+" - [text: "+a.text+", colspan: "+(ce(v=a.colspan)?v:1)+", rowspan: "+(ce(v=a.rowspan)?v:1)+", attributes: "+a.attributes+"]"})}(J("Table"),J("AbstractBlock"),H),function(F,E,x){var B=M(F,E,"ParserContext"),D=[B].concat(x),Y=e.$r(D),C=B.$$prototype;return C.delimiter=C.delimiter_rx=C.buffer=C.cellspecs=C.cell_open=C.format=C.start_cursor_data=C.reader=C.table=C.current_row=C.colcount=C.column_visits=C.active_rowspans=C.linenum=k,B.$include(Y("Logging")),q(D[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),q(D[0],"DELIMITERS",R(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),B.$attr_accessor("table"),B.$attr_accessor("format"),B.$attr_reader("colcount"),B.$attr_accessor("buffer"),B.$attr_reader("delimiter"),B.$attr_reader("delimiter_re"),G(B,"$initialize",function(t,a,v){var _,c,A=this,S=k,K=k;return v==null&&(v=R([],{})),A.start_cursor_data=(A.reader=t).$mark(),A.table=a,ce(v["$key?"]("format"))?ce(Y("FORMATS")["$include?"](S=v["$[]"]("format")))?se(S,"tsv")?A.format="csv":se(A.format=S,"psv")&&ce(a.$document()["$nested?"]())&&(S="!sv"):(A.$logger().$error(A.$message_with_context("illegal table format: "+S,R(["source_location"],{source_location:t.$cursor_at_prev_line()}))),_=["psv",ce(a.$document()["$nested?"]())?"!sv":"psv"],A.format=_[0],S=_[1]):(_=["psv",ce(a.$document()["$nested?"]())?"!sv":"psv"],A.format=_[0],S=_[1]),ce(v["$key?"]("separator"))?ce((K=v["$[]"]("separator"))["$nil_or_empty?"]())?(c=Y("DELIMITERS")["$[]"](S),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]):se(K,"\\t")?(c=Y("DELIMITERS")["$[]"]("tsv"),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]):(_=[K,h([Ee("Regexp").$escape(K)])],A.delimiter=_[0],A.delimiter_rx=_[1]):(c=Y("DELIMITERS")["$[]"](S),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]),A.colcount=ce(a.$columns()["$empty?"]())?-1:a.$columns().$size(),A.buffer="",A.cellspecs=[],A.cell_open=!1,A.active_rowspans=[0],A.column_visits=0,A.current_row=[],A.linenum=-1},-3),G(B,"$starts_with_delimiter?",function(t){var a=this;return t["$start_with?"](a.delimiter)}),G(B,"$match_delimiter",function(t){var a=this;return a.delimiter_rx.$match(t)}),G(B,"$skip_past_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t+a.delimiter,k}),G(B,"$skip_past_escaped_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t.$chop()+a.delimiter,k}),G(B,"$buffer_has_unclosed_quotes?",function(t,a){var v=this,_=k,c=k,A=k,S=k;return t==null&&(t=k),a==null&&(a='"'),se(_=ce(t)?st(v.buffer,t).$strip():v.buffer.$strip(),a)?!0:ce(_["$start_with?"](a))?(c=st(a,a),ce(A=_["$end_with?"](a))&&ce(_["$end_with?"](c))||ce(_["$start_with?"](c))?ce(S=(_=_.$gsub(c,""))["$start_with?"](a))?_["$end_with?"](a)["$!"]():S:A["$!"]()):!1},-1),G(B,"$take_cellspec",function(){var t=this;return t.cellspecs.$shift()}),G(B,"$push_cellspec",function(t){var a=this,v=k;return t==null&&(t=R([],{})),a.cellspecs["$<<"](ce(v=t)?v:R([],{})),k},-1),G(B,"$keep_cell_open",function(){var t=this;return t.cell_open=!0,k}),G(B,"$mark_cell_closed",function(){var t=this;return t.cell_open=!1,k}),G(B,"$cell_open?",b("cell_open")),G(B,"$cell_closed?",function(){var t=this;return t.cell_open["$!"]()}),G(B,"$close_open_cell",function(t){var a=this;return t==null&&(t=R([],{})),a.$push_cellspec(t),ce(a["$cell_open?"]())&&a.$close_cell(!0),a.$advance(),k},-1),G(B,"$close_cell",function(t){try{var a=rt("return"),v=this,_=k,c=k,A=k,S=k,K=k;return t==null&&(t=!1),se(v.format,"psv")?(_=v.buffer,v.buffer="",ce(c=v.$take_cellspec())?A=ce(S=c.$delete("repeatcol"))?S:1:(v.$logger().$error(v.$message_with_context("table missing leading separator; recovering automatically",R(["source_location"],{source_location:ve(Ee(Y("Reader"),"Cursor"),"new",Te(v.start_cursor_data))}))),c=R([],{}),A=1)):(_=v.buffer.$strip(),v.buffer="",c=k,A=1,se(v.format,"csv")&&Ve(_["$empty?"]())&&ce(_["$include?"](K='"'))&&(ce(_["$start_with?"](K))&&ce(_["$end_with?"](K))?ce(_=_.$slice(1,Re(_.$length(),2)))?_=_.$strip().$squeeze(K):(v.$logger().$error(v.$message_with_context("unclosed quote in CSV data; setting cell to empty",R(["source_location"],{source_location:v.reader.$cursor_at_prev_line()}))),_=""):_=_.$squeeze(K))),ve(1,"upto",[A],function j(ee){var he=j.$$s==null?this:j.$$s,Be=k,Ze=k,$t=k,et=k;return he.colcount==null&&(he.colcount=k),he.table==null&&(he.table=k),he.current_row==null&&(he.current_row=k),he.reader==null&&(he.reader=k),he.column_visits==null&&(he.column_visits=k),he.linenum==null&&(he.linenum=k),ee==null&&(ee=k),se(he.colcount,-1)?(he.table.$columns()["$<<"](Be=Ee(Y("Table"),"Column").$new(he.table,Re(st(he.table.$columns().$size(),ee),1))),ce(c)&&ce(c["$key?"]("colspan"))&&ce(Ge(Ze=Re(c["$[]"]("colspan").$to_i(),1),0))&&($t=he.table.$columns().$size(),ve(Ze,"times",[],function at(ct){var ft=at.$$s==null?this:at.$$s;return ft.table==null&&(ft.table=k),ct==null&&(ct=k),ft.table.$columns()["$<<"](Ee(Y("Table"),"Column").$new(ft.table,st($t,ct)))},{$$s:he}))):ce(Be=he.table.$columns()["$[]"](he.current_row.$size()))||(he.$logger().$error(he.$message_with_context("dropping cell because it exceeds specified number of columns",R(["source_location"],{source_location:he.reader.$cursor_before_mark()}))),a.$throw()),et=Ee(Y("Table"),"Cell").$new(Be,_,c,R(["cursor"],{cursor:he.reader.$cursor_before_mark()})),he.reader.$mark(),Ve(et.$rowspan())||se(et.$rowspan(),1)||he.$activate_rowspan(et.$rowspan(),ce(S=et.$colspan())?S:1),he.column_visits=st(he.column_visits,ce(S=et.$colspan())?S:1),he.current_row["$<<"](et),ce(he["$end_of_row?"]())&&(it(he.colcount,-1)||ce(Ge(he.linenum,0))||ce(t)&&se(ee,A))?he.$close_row():k},{$$s:v,$$ret:a}),v.cell_open=!1,k}catch(j){if(j===a)return j.$v;throw j}},-1),B.$private(),G(B,"$close_row",function(){var t=this;return t.table.$rows().$body()["$<<"](t.current_row),se(t.colcount,-1)&&(t.colcount=t.column_visits),t.column_visits=0,t.current_row=[],t.active_rowspans.$shift(),ce(t.active_rowspans["$[]"](0))||t.active_rowspans["$[]="](0,0),k}),G(B,"$activate_rowspan",function(t,a){var v=this;return ve(1,"upto",[Re(t,1)],function _(c){var A,S=_.$$s==null?this:_.$$s,K=k;return S.active_rowspans==null&&(S.active_rowspans=k),c==null&&(c=k),A=[c,st(ce(K=S.active_rowspans["$[]"](c))?K:0,a)],ve(S.active_rowspans,"[]=",A),A[A.length-1]},{$$s:v}),k}),G(B,"$end_of_row?",function(){var t=this,a=k;return ce(a=t.colcount["$=="](-1))?a:t.$effective_column_visits()["$=="](t.colcount)}),G(B,"$effective_column_visits",function(){var t=this;return st(t.column_visits,t.active_rowspans["$[]"](0))}),G(B,"$advance",function(){var t=this;return t.linenum=st(t.linenum,1)})}(J("Table"),null,H)}(z[0],z)},Opal.modules["asciidoctor/writer"]=function(e){var U=e.module,M=e.truthy,q=e.rb_plus,G=e.hash2,u=e.def,R=e.return_val,we=[],I=e.nil,ce=e.$$$;return e.add_stubs("respond_to?,write,+,chomp,include"),function(m,Ge){var se=U(m,"Asciidoctor"),Ne=[se].concat(Ge);return function(_e,ve){var st=U(_e,"Writer"),Re=[st].concat(ve),Oe=e.$r(Re);return u(st,"$write",function(Ke,it){return M(it["$respond_to?"]("write"))?it.$write(q(Ke.$chomp(),Oe("LF"))):ce("File").$write(it,Ke,G(["mode"],{mode:Oe("FILE_WRITE_MODE")})),I})}(Ne[0],Ne),function(_e,ve){var st=U(_e,"VoidWriter"),Re=[st].concat(ve),Oe=e.$r(Re);return st.$include(Oe("Writer")),u(st,"$write",R(I))}(Ne[0],Ne)}(we[0],we)},Opal.modules["asciidoctor/load"]=function(e){var U=e.module,M=e.hash2,q=e.truthy,G=e.neqeq,u=e.not,R=e.eqeqeq,we=e.send,I=e.to_ary,ce=e.rb_plus,m=e.eqeq,Ge=e.def,se=[],Ne=e.nil,_e=e.$$$;return e.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(ve,st){var Re=U(ve,"Asciidoctor"),Oe=[Re].concat(st);return function(Te,Ke){var it=[Te].concat(Ke),b=e.$r(it);return Ge(Te,"$load",function(h,Ve){var rt,z,k,Ee,O=this,ue=Ne,ie=Ne,H=Ne,J=Ne,F=Ne,E=Ne,x=Ne,B=Ne,D=Ne,Y=Ne;Ve==null&&(Ve=M([],{}));try{if(Ve=Ve.$merge(),q(ue=Ve["$[]"]("timings"))&&ue.$start("read"),q(Ve["$key?"]("logger"))&&G(ie=Ve["$[]"]("logger"),b("LoggerManager").$logger())&&b("LoggerManager")["$logger="](q(H=ie)?H:b("NullLogger").$new()),u(J=Ve["$[]"]("attributes"))?J=M([],{}):R(_e("Hash"),J)?J=J.$merge():q((k=_e("::","Java","skip_raise"))&&(z=_e(k,"JavaUtil","skip_raise"))&&(rt=_e(z,"Map","skip_raise"))?"constant":Ne)&&R(_e(_e(_e("Java"),"JavaUtil"),"Map"),J)?J=J.$dup():R(_e("Array"),J)?J=we(M([],{}),"tap",[],function(l){return l==null&&(l=Ne),we(J,"each",[],function(a){var v,_,c=Ne,A=Ne,S=Ne;return a==null&&(a=Ne),_=a.$partition("="),v=I(_),c=v[0]==null?Ne:v[0],A=v[1]==null?Ne:v[1],S=v[2]==null?Ne:v[2],v=[c,S],we(l,"[]=",v),v[v.length-1]})}):R(_e("String"),J)?J=we(M([],{}),"tap",[],function(l){return l==null&&(l=Ne),we(J.$gsub(b("SpaceDelimiterRx"),ce("\\1",b("NULL"))).$gsub(b("EscapedSpaceRx"),"\\1").$split(b("NULL")),"each",[],function(a){var v,_,c=Ne,A=Ne,S=Ne;return a==null&&(a=Ne),_=a.$partition("="),v=I(_),c=v[0]==null?Ne:v[0],A=v[1]==null?Ne:v[1],S=v[2]==null?Ne:v[2],v=[c,S],we(l,"[]=",v),v[v.length-1]})}):q(J["$respond_to?"]("keys"))&&q(J["$respond_to?"]("[]"))?J=we(M([],{}),"tap",[],function(l){return l==null&&(l=Ne),we(J.$keys(),"each",[],function(a){var v;return a==null&&(a=Ne),v=[a,J["$[]"](a)],we(l,"[]=",v),v[v.length-1]})}):O.$raise(_e("ArgumentError"),"illegal type for attributes option: "+J.$class().$ancestors().$join(" < ")),R(_e("File"),h))Ve["$[]="]("input_mtime",m(b("RUBY_ENGINE"),"jruby")?_e("Time").$at(h.$mtime().$to_i()):h.$mtime()),J["$[]="]("docfile",F=_e("File").$absolute_path(h.$path())),J["$[]="]("docdir",_e("File").$dirname(F)),J["$[]="]("docname",b("Helpers").$basename(F,(Ee=["docfilesuffix",b("Helpers").$extname(F)],we(J,"[]=",Ee),Ee[Ee.length-1]))),E=h.$read();else if(q(h["$respond_to?"]("read"))){try{h.$rewind()}catch(C){if(e.rescue(C,[b("StandardError")]))e.pop_exception();else throw C}E=h.$read()}else R(_e("String"),h)?E=h:R(_e("Array"),h)?E=h.$drop(0):q(h)&&O.$raise(_e("ArgumentError"),"unsupported input type: "+h.$class());return q(ue)&&(ue.$record("read"),ue.$start("parse")),Ve["$[]="]("attributes",J),x=m(Ve["$[]"]("parse"),!1)?b("Document").$new(E,Ve):b("Document").$new(E,Ve).$parse(),q(ue)&&ue.$record("parse"),x}catch(C){if(e.rescue(C,[b("StandardError")])){B=C;try{try{D="asciidoctor: FAILED: "+(q(H=J["$[]"]("docfile"))?H:"<stdin>")+": Failed to load AsciiDoc document",q(B["$respond_to?"]("exception"))?(Y=B.$exception(""+D+" - "+B.$message()),Y.$set_backtrace(B.$backtrace())):(Y=B.$class().$new(D,B),Y["$stack_trace="](B.$stack_trace()))}catch(l){if(e.rescue(l,[b("StandardError")]))try{Y=B}finally{e.pop_exception()}else throw l}return O.$raise(Y)}finally{e.pop_exception()}}else throw C}},-2),Ge(Te,"$load_file",function(h,Ve){var rt=this;return Ve==null&&(Ve=M([],{})),we(_e("File"),"open",[h,b("FILE_READ_MODE")],function z(k){var Ee=z.$$s==null?this:z.$$s;return k==null&&(k=Ne),Ee.$load(k,Ve)},{$$s:rt})},-2)}(e.get_singleton_class(Re),Oe)}(se[0],se)},Opal.modules["asciidoctor/convert"]=function(e){var U=e.module,M=e.hash2,q=e.eqeqeq,G=e.truthy,u=e.eqeq,R=e.rb_ge,we=e.not,I=e.rb_lt,ce=e.neqeq,m=e.def,Ge=e.send,se=e.alias,Ne=[],_e=e.nil,ve=e.$$$;return e.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(st,Re){var Oe=U(st,"Asciidoctor"),Te=[Oe].concat(Re);return function(Ke,it){var b=[Ke].concat(it),We=e.$r(b);return m(Ke,"$convert",function(Ve,rt){var z=this,k=_e,Ee=_e,O=_e,ue=_e,ie=_e,H=_e,J=_e,F=_e,E=_e,x=_e,B=_e,D=_e,Y=_e,C=_e,l=_e,t=_e,a=_e,v=_e,_=_e,c=_e,A=_e,S=_e,K=_e,j=_e;if(rt==null&&(rt=M([],{})),(rt=rt.$merge()).$delete("parse"),k=rt.$delete("to_dir"),Ee=rt.$delete("mkdirs"),q(!0,O=ue=rt.$delete("to_file"))||q(_e,O))G(ie=k)||q(ve("File"),Ve)&&(H=ve("File").$absolute_path(Ve.$path())),ue=_e;else if(q(!1,O))ue=_e;else{if(q("/dev/null",O))return z.$load(Ve,rt);G(J=ue["$respond_to?"]("write"))||rt["$[]="]("to_file",ie=ue)}return G(rt["$key?"]("standalone"))||(G(H)||G(ie)?rt["$[]="]("standalone",rt.$fetch("header_footer",!0)):G(rt["$key?"]("header_footer"))&&rt["$[]="]("standalone",rt["$[]"]("header_footer"))),G(H)?rt["$[]="]("to_dir",F=ve("File").$dirname(H)):G(ie)&&(G(k)?G(ue)?rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ue,k))):rt["$[]="]("to_dir",ve("File").$expand_path(k)):G(ue)&&rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ue)))),E=z.$load(Ve,rt),G(H)?(x=ve("File").$join(F,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix()),u(x,H)&&z.$raise(ve("IOError"),"input file and output file cannot be the same: "+x)):G(ie)?(B=G(rt["$key?"]("base_dir"))?ve("File").$expand_path(rt["$[]"]("base_dir")):ve("Dir").$pwd(),D=G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?B:_e,G(k)?(F=E.$normalize_system_path(k,B,D,M(["target_name","recover"],{target_name:"to_dir",recover:!1})),G(ue)?(x=E.$normalize_system_path(ue,F,_e,M(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=ve("File").$dirname(x)):x=ve("File").$join(F,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix())):G(ue)&&(x=E.$normalize_system_path(ue,B,D,M(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=ve("File").$dirname(x)),q(ve("File"),Ve)&&u(x,ve("File").$absolute_path(Ve.$path()))&&z.$raise(ve("IOError"),"input file and output file cannot be the same: "+x),G(Ee)?We("Helpers").$mkdir_p(F):G(ve("File")["$directory?"](F))||z.$raise(ve("IOError"),"target directory does not exist: "+k+" (hint: set :mkdirs option)")):(x=ue,F=_e),G(x)&&we(J)?Y=E.$convert(M(["outfile","outdir"],{outfile:x,outdir:F})):Y=E.$convert(),G(x)?(E.$write(Y,x),we(J)&&G(I(E.$safe(),ve(We("SafeMode"),"SECURE")))&&G(E["$attr?"]("linkcss"))&&G(E["$attr?"]("copycss"))&&G(E["$basebackend?"]("html"))&&we(G(O=C=E.$attr("stylesdir"))?We("Helpers")["$uriish?"](C):O)&&(G(l=E.$attr("stylesheet"))&&(G(We("DEFAULT_STYLESHEET_KEYS")["$include?"](l))?t=!0:we(We("Helpers")["$uriish?"](l))&&(a=!0)),v=G(O=_=E.$syntax_highlighter())?_["$write_stylesheet?"](E):O,(G(t)||G(a)||G(v))&&(c=E.$normalize_system_path(C,F,G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?F:_e),G(Ee)?We("Helpers").$mkdir_p(c):G(ve("File")["$directory?"](c))||z.$raise(ve("IOError"),"target stylesheet directory does not exist: "+c+" (hint: set :mkdirs option)"),G(t)?We("Stylesheets").$instance().$write_primary_stylesheet(c):G(a)&&(u(A=E.$attr("copycss"),"")||u(A,!0)?A=E.$normalize_system_path(l):A=E.$normalize_system_path(A.$to_s()),S=E.$normalize_system_path(l,c,G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?F:_e),ce(A,S)&&G(K=E.$read_asset(A,M(["warn_on_failure","label"],{warn_on_failure:ve("File")["$file?"](S)["$!"](),label:"stylesheet"})))&&(ce(j=ve("File").$dirname(S),c)&&we(ve("File")["$directory?"](j))&&(G(Ee)?We("Helpers").$mkdir_p(j):z.$raise(ve("IOError"),"target stylesheet directory does not exist: "+j+" (hint: set :mkdirs option)")),ve("File").$write(S,K,M(["mode"],{mode:We("FILE_WRITE_MODE")})))),G(v)&&_.$write_stylesheet(E,c))),E):Y},-2),m(Ke,"$convert_file",function(Ve,rt){var z=this;return rt==null&&(rt=M([],{})),Ge(ve("File"),"open",[Ve,We("FILE_READ_MODE")],function k(Ee){var O=k.$$s==null?this:k.$$s;return Ee==null&&(Ee=_e),O.$convert(Ee,rt)},{$$s:z})},-2),se(Ke,"render","convert"),se(Ke,"render_file","convert_file")}(e.get_singleton_class(Oe),Te)}(Ne[0],Ne)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){var U=e.module,M=e.klass,q=e.slice,G=e.send2,u=e.find_super,R=e.to_a,we=e.def,I=e.hash2,ce=e.send,m=e.truthy,Ge=e.return_val,se=e.eqeq,Ne=[],_e=e.nil,ve=e.$$$;return e.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(st,Re){var Oe=U(st,"Asciidoctor"),Te=[Oe].concat(Re),Ke=e.$r(Te);return function(it,b,We){var h=M(it,b,"HighlightJsAdapter"),Ve=[h].concat(We),rt=e.$r(Ve);return h.$register_for("highlightjs","highlight.js"),we(h,"$initialize",function z(k){var Ee,O,ue=z.$$p||_e,ie=this;return z.$$p=null,Ee=q(arguments),O=Ee,G(ie,u(ie,"initialize",z,!1,!0),"initialize",R(O),ue),ie.name=ie.pre_class="highlightjs"},-1),we(h,"$format",function z(k,Ee,O){z.$$p;var ue=this;return z.$$p=null,G(ue,u(ue,"format",z,!1,!0),"format",[k,Ee,O.$merge(I(["transform"],{transform:ce(ue,"proc",[],function(H,J){var F,E=_e;return J==null&&(J=_e),F=["class","language-"+(m(E=Ee)?E:"none")+" hljs"],ce(J,"[]=",F),F[F.length-1]})}))],null)}),we(h,"$docinfo?",Ge(!0)),we(h,"$docinfo",function(k,Ee,O){var ue=_e;return ue=Ee.$attr("highlightjsdir",""+O["$[]"]("cdn_base_url")+"/highlight.js/"+rt("HIGHLIGHT_JS_VERSION")),se(k,"head")?'<link rel="stylesheet" href="'+ue+"/styles/"+Ee.$attr("highlightjs-theme","github")+'.min.css"'+O["$[]"]("self_closing_tag_slash")+">":'<script src="'+ue+`/highlight.min.js"><\/script>
`+(m(Ee["$attr?"]("highlightjs-languages"))?ce(Ee.$attr("highlightjs-languages").$split(","),"map",[],function(H){return H==null&&(H=_e),'<script src="'+ue+"/languages/"+H.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(Ke("SyntaxHighlighter"),ve(Ke("SyntaxHighlighter"),"Base"),Te)}(Ne[0],Ne)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){var U=e.module,M=e.hash2,q=e.def,G=e.return_val,u=e.defs,R=e.slice,we=e.send,I=e.to_a,ce=e.truthy,m=e.eqeqeq,Ge=e.Class,se=e.klass,Ne=e.class_variable_set,_e=e.class_variable_get,ve=e.top,st=[],Re=e.nil,Oe=e.$$$;return e.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Te,Ke){var it=U(Te,"Asciidoctor"),b=[it].concat(Ke);return function(We,h){var Ve=U(We,"SyntaxHighlighter"),rt=[Ve].concat(h),z=e.$r(rt);return Ve.$attr_reader("name"),q(Ve,"$initialize",function(Ee,O,ue){var ie=this;return ue==null&&(ue=M([],{})),ie.name=ie.pre_class=Ee},-2),q(Ve,"$docinfo?",G(Re)),q(Ve,"$docinfo",function(Ee,O,ue){var ie=this;return ie.$raise(Oe("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #docinfo method since #docinfo? returns true")}),q(Ve,"$highlight?",G(Re)),q(Ve,"$highlight",function(Ee,O,ue,ie){var H=this;return H.$raise(Oe("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+H.$class()+" must implement the #highlight method since #highlight? returns true")}),q(Ve,"$format",function(Ee,O,ue){var ie=this;return ie.$raise(Oe("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #format method")}),q(Ve,"$write_stylesheet?",G(Re)),q(Ve,"$write_stylesheet",function(Ee,O){var ue=this;return ue.$raise(Oe("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ue.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),u(Ve,"$included",function(Ee){return Ee.$extend(z("Config"))}),Ve.$private_class_method("included"),function(k,Ee){var O=U(k,"Config"),ue=[O].concat(Ee),ie=e.$r(ue);return q(O,"$register_for",function(J){var F,E,x=this;return F=R(arguments),E=F,we(ie("SyntaxHighlighter"),"register",[x].concat(I(we(E,"map",[],function(D){return D==null&&(D=Re),D.$to_s()}))))},-1)}(rt[0],rt),function(k,Ee){var O=U(k,"Factory"),ue=[O].concat(Ee),ie=e.$r(ue);return q(O,"$register",function(J,F){var E,x,B=this;return E=R(arguments,1),x=E,we(x,"each",[],function D(Y){var C,l=D.$$s==null?this:D.$$s;return Y==null&&(Y=Re),C=[Y,J],we(l.$registry(),"[]=",C),C[C.length-1]},{$$s:B})},-2),q(O,"$for",function(J){var F=this;return F.$registry()["$[]"](J)}),q(O,"$create",function(J,F,E){var x=this,B=Re;return F==null&&(F="html5"),E==null&&(E=M([],{})),ce(B=x.$for(J))?(m(Ge,B)&&(B=B.$new(J,F,E)),ce(B.$name())||x.$raise(Oe("NameError"),""+B.$class()+" must specify a value for `name'"),B):Re},-2),O.$private(),q(O,"$registry",function(){var J=this;return J.$raise(Oe("NotImplementedError"),""+ie("Factory")+" subclass "+J.$class()+" must implement the #registry method")})}(rt[0],rt),function(k,Ee,O){var ue=se(k,Ee,"CustomFactory"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("Factory")),q(ue,"$initialize",function(F){var E=this,x=Re;return F==null&&(F=Re),E.registry=ce(x=F)?x:M([],{})},-1),ue.$private(),ue.$attr_reader("registry")}(rt[0],null,rt),function(k,Ee){var O=U(k,"DefaultFactory"),ue=[O].concat(Ee),ie=e.$r(ue);return O.$include(ie("Factory")),Ne(ue[0],"@@registry",M([],{})),O.$private(),q(O,"$registry",function(){return _e(ue[0],"@@registry",!1)}),Re}(rt[0],rt),function(k,Ee,O){var ue=se(k,Ee,"DefaultFactoryProxy"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("DefaultFactory")),Re}(rt[0],z("CustomFactory"),rt),function(k,Ee,O){var ue=se(k,Ee,"Base"),ie=[ue].concat(O),H=e.$r(ie),J=ue.$$prototype;return J.pre_class=Re,ue.$include(H("SyntaxHighlighter")),q(ue,"$format",function(E,x,B){var D=this,Y=Re,C=Re,l=Re,t=Re;return Y=ce(B["$[]"]("nowrap"))?""+D.pre_class+" highlight nowrap":""+D.pre_class+" highlight",ce(C=B["$[]"]("transform"))?(C["$[]"](l=M(["class"],{class:Y}),t=ce(x)?M(["data-lang"],{"data-lang":x}):M([],{})),ce(x=t.$delete("data-lang"))&&t["$[]="]("data-lang",x),"<pre"+we(l,"map",[],function(v,_){return v==null&&(v=Re),_==null&&(_=Re)," "+v+'="'+_+'"'}).$join()+"><code"+we(t,"map",[],function(v,_){return v==null&&(v=Re),_==null&&(_=Re)," "+v+'="'+_+'"'}).$join()+">"+E.$content()+"</code></pre>"):'<pre class="'+Y+'"><code'+(ce(x)?' data-lang="'+x+'"':"")+">"+E.$content()+"</code></pre>"})}(rt[0],null,rt),Ve.$extend(z("DefaultFactory"))}(b[0],b)}(st[0],st),ve.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),Re},Opal.modules["asciidoctor/timings"]=function(e){var U=e.module,M=e.klass,q=e.hash2,G=e.def,u=e.send,R=e.rb_minus,we=e.slice,I=e.rb_plus,ce=e.truthy,m=e.rb_gt,Ge=e.gvars,se=e.eqeq,Ne=e.const_set,_e=[],ve=e.nil,st=e.$$$;return e.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(Re,Oe){var Te=U(Re,"Asciidoctor"),Ke=[Te].concat(Oe);return function(it,b,We){var h=M(it,b,"Timings"),Ve,rt,z,k,Ee=[h].concat(We),O=e.$r(Ee),ue=h.$$prototype;return ue.timers=ue.log=ve,G(h,"$initialize",function(){var H=this;return H.log=q([],{}),H.timers=q([],{})}),G(h,"$start",function(H){var J,F=this;return J=[H,F.$now()],u(F.timers,"[]=",J),J[J.length-1]}),G(h,"$record",function(H){var J,F=this;return J=[H,R(F.$now(),F.timers.$delete(H))],u(F.log,"[]=",J),J[J.length-1]}),G(h,"$time",function(H){var J,F,E=this,x=ve;return J=we(arguments),F=J,x=u(F,"reduce",[0],function B(D,Y){var C=B.$$s==null?this:B.$$s,l=ve;return C.log==null&&(C.log=ve),D==null&&(D=ve),Y==null&&(Y=ve),I(D,ce(l=C.log["$[]"](Y))?l:0)},{$$s:E}),ce(m(x,0))?x:ve},-1),G(h,"$read",function(){var H=this;return H.$time("read")}),G(h,"$parse",function(){var H=this;return H.$time("parse")}),G(h,"$read_parse",function(){var H=this;return H.$time("read","parse")}),G(h,"$convert",function(){var H=this;return H.$time("convert")}),G(h,"$read_parse_convert",function(){var H=this;return H.$time("read","parse","convert")}),G(h,"$write",function(){var H=this;return H.$time("write")}),G(h,"$total",function(){var H=this;return H.$time("read","parse","convert","write")}),G(h,"$print_report",function(H,J){var F=this;return Ge.stdout==null&&(Ge.stdout=ve),H==null&&(H=Ge.stdout),J==null&&(J=ve),ce(J)&&H.$puts("Input file: "+J),H.$puts("  Time to read and parse source: "+F.$sprintf("%05.5f",F.$read_parse().$to_f())),H.$puts("  Time to convert document: "+F.$sprintf("%05.5f",F.$convert().$to_f())),H.$puts("  Total time (read, parse and convert): "+F.$sprintf("%05.5f",F.$read_parse_convert().$to_f()))},-1),h.$private(),ce(st("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&se((Ve=st("::","Process","skip_raise"))&&(rt=Ve,rt)&&(z=rt)&&((k=z.$clock_gettime)&&!k.$$stub||z["$respond_to_missing?"]("clock_gettime"))?"method":ve,"method")?(Ne(Ee[0],"CLOCK_ID",st(st("Process"),"CLOCK_MONOTONIC")),G(h,"$now",function(){return st("Process").$clock_gettime(O("CLOCK_ID"))})):G(h,"$now",function(){return st("Time").$now()})}(Ke[0],null,Ke)}(_e[0],_e)},Opal.modules["asciidoctor/converter/html5"]=function(e){var U=e.module,M=e.klass,q=e.const_set,G=e.hash2,u=e.regexp,R=e.eqeq,we=e.def,I=e.send2,ce=e.find_super,m=e.truthy,Ge=e.send,se=e.rb_gt,Ne=e.rb_plus,_e=e.not,ve=e.neqeq,st=e.rb_le,Re=e.rb_lt,Oe=e.to_ary,Te=e.rb_times,Ke=e.rb_minus,it=e.gvars,b=e.return_val,We=e.alias,h=e.eqeqeq,Ve=e.slice,rt=e.to_a,z=[],k=e.nil,Ee=e.$$$;return e.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(O,ue){var ie=U(O,"Asciidoctor"),H=[ie].concat(ue),J=e.$r(H);return function(F,E,x){var B=M(F,E,"Html5Converter"),D=[B].concat(x),Y=e.$r(D),C=B.$$prototype;return C.void_element_slash=C.xml_mode=C.refs=C.resolving_xref=k,B.$register_for("html5"),q(D[0],"QUOTE_TAGS",G(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),q(D[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),q(D[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),q(D[0],"SvgPreambleRx",u(["^",Y("CC_ALL"),"*?(?=<svg[\\s>])"])),q(D[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),q(D[0],"DimensionAttributeRx",u([`\\s(?:width|height|style)=(["'])`,Y("CC_ANY"),"*?\\1"])),we(B,"$initialize",function(t,a){var v=this,_=k;return a==null&&(a=G([],{})),v.backend=t,R(a["$[]"]("htmlsyntax"),"xml")?(_="xml",v.xml_mode=!0,v.void_element_slash="/"):(_="html",v.xml_mode=k,v.void_element_slash=""),v.$init_backend_traits(G(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:_,outfilesuffix:".html",supports_templates:!0}))},-2),we(B,"$convert",function l(t,a,v){var _=l.$$p||k,c=this;switch(l.$$p=null,a==null&&(a=t.$node_name()),v==null&&(v=k),a){case"inline_quoted":return c.$convert_inline_quoted(t);case"paragraph":return c.$convert_paragraph(t);case"inline_anchor":return c.$convert_inline_anchor(t);case"section":return c.$convert_section(t);case"listing":return c.$convert_listing(t);case"literal":return c.$convert_literal(t);case"ulist":return c.$convert_ulist(t);case"olist":return c.$convert_olist(t);case"dlist":return c.$convert_dlist(t);case"admonition":return c.$convert_admonition(t);case"colist":return c.$convert_colist(t);case"embedded":return c.$convert_embedded(t);case"example":return c.$convert_example(t);case"floating_title":return c.$convert_floating_title(t);case"image":return c.$convert_image(t);case"inline_break":return c.$convert_inline_break(t);case"inline_button":return c.$convert_inline_button(t);case"inline_callout":return c.$convert_inline_callout(t);case"inline_footnote":return c.$convert_inline_footnote(t);case"inline_image":return c.$convert_inline_image(t);case"inline_indexterm":return c.$convert_inline_indexterm(t);case"inline_kbd":return c.$convert_inline_kbd(t);case"inline_menu":return c.$convert_inline_menu(t);case"open":return c.$convert_open(t);case"page_break":return c.$convert_page_break(t);case"preamble":return c.$convert_preamble(t);case"quote":return c.$convert_quote(t);case"sidebar":return c.$convert_sidebar(t);case"stem":return c.$convert_stem(t);case"table":return c.$convert_table(t);case"thematic_break":return c.$convert_thematic_break(t);case"verse":return c.$convert_verse(t);case"video":return c.$convert_video(t);case"document":return c.$convert_document(t);case"toc":return c.$convert_toc(t);case"pass":return c.$convert_pass(t);case"audio":return c.$convert_audio(t);default:return I(c,ce(c,"convert",l,!1,!0),"convert",[t,a,v],_)}},-2),we(B,"$convert_document",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k,ht=k,dt=k,At=k,yt=k,It=k,St=k,wt=k,Et=k;return v="<br"+(_=a.void_element_slash)+">",m((c=t.$attr("asset-uri-scheme","https"))["$empty?"]())||(c=""+c+":"),A=""+c+"//cdnjs.cloudflare.com/ajax/libs",S=t["$attr?"]("linkcss"),K=m(t["$attr?"]("max-width"))?' style="max-width: '+t.$attr("max-width")+';"':"",j=["<!DOCTYPE html>"],ee=m(t["$attr?"]("nolang"))?"":' lang="'+t.$attr("lang","en")+'"',j["$<<"]("<html"+(m(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+ee+">"),j["$<<"](`<head>
<meta charset="`+t.$attr("encoding","UTF-8")+'"'+_+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+_+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+_+`>
<meta name="generator" content="Asciidoctor `+t.$attr("asciidoctor-version")+'"'+_+">"),m(t["$attr?"]("app-name"))&&j["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+_+">"),m(t["$attr?"]("description"))&&j["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+_+">"),m(t["$attr?"]("keywords"))&&j["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+_+">"),m(t["$attr?"]("authors"))&&j["$<<"]('<meta name="author" content="'+(m((he=t.$sub_replacements(t.$attr("authors")))["$include?"]("<"))?he.$gsub(Y("XmlSanitizeRx"),""):he)+'"'+_+">"),m(t["$attr?"]("copyright"))&&j["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+_+">"),m(t["$attr?"]("favicon"))&&(m((Be=t.$attr("favicon"))["$empty?"]())?(Be="favicon.ico",Ze="image/x-icon"):m($t=Y("Helpers").$extname(Be,k))?Ze=R($t,".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length()):Ze="image/x-icon",j["$<<"]('<link rel="icon" type="'+Ze+'" href="'+Be+'"'+_+">")),j["$<<"]("<title>"+t.$doctitle(G(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),m(Y("DEFAULT_STYLESHEET_KEYS")["$include?"](t.$attr("stylesheet")))?(m(et=t.$attr("webfonts"))&&j["$<<"]('<link rel="stylesheet" href="'+c+"//fonts.googleapis.com/css?family="+(m(et["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":et)+'"'+_+">"),m(S)?j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(Y("DEFAULT_STYLESHEET_NAME"),t.$attr("stylesdir",""),!1)+'"'+_+">"):j["$<<"](`<style>
`+Y("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):m(t["$attr?"]("stylesheet"))&&(m(S)?j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+_+">"):j["$<<"](`<style>
`+t.$read_contents(t.$attr("stylesheet"),G(["start","warn_on_failure","label"],{start:t.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),m(t["$attr?"]("icons","font"))&&(m(t["$attr?"]("iconfont-remote"))?j["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",""+A+"/font-awesome/"+Y("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+_+">"):(at=""+t.$attr("iconfont-name","font-awesome")+".css",j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(at,t.$attr("stylesdir",""),!1)+'"'+_+">"))),m(ct=t.$syntax_highlighter())&&j["$<<"](ft=j.$size()),m((ut=t.$docinfo())["$empty?"]())||j["$<<"](ut),j["$<<"]("</head>"),ht=m(t.$id())?' id="'+t.$id()+'"':"",m(dt=t["$sections?"]())&&m(t["$attr?"]("toc-class"))&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))?At=[t.$doctype(),t.$attr("toc-class"),"toc-"+t.$attr("toc-position","header")]:At=[t.$doctype()],m(t["$role?"]())&&At["$<<"](t.$role()),j["$<<"]("<body"+ht+' class="'+At.$join(" ")+'">'),m((ut=t.$docinfo("header"))["$empty?"]())||j["$<<"](ut),m(t.$noheader())||(j["$<<"]('<div id="header"'+K+">"),R(t.$doctype(),"manpage")?(j["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),m(dt)&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))&&j["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),m(t["$attr?"]("manpurpose"))&&j["$<<"](a.$generate_manname_section(t))):(m(t["$header?"]())&&(m(t.$notitle())||j["$<<"]("<h1>"+t.$header().$title()+"</h1>"),yt=[],It=1,Ge(t.$authors(),"each",[],function(Tt){return Tt==null&&(Tt=k),yt["$<<"]('<span id="author'+(m(se(It,1))?It:"")+'" class="author">'+t.$sub_replacements(Tt.$name())+"</span>"+v),m(Tt.$email())&&yt["$<<"]('<span id="email'+(m(se(It,1))?It:"")+'" class="email">'+t.$sub_macros(Tt.$email())+"</span>"+v),It=Ne(It,1)}),m(t["$attr?"]("revnumber"))&&yt["$<<"]('<span id="revnumber">'+(m(St=t.$attr("version-label"))?St:"").$downcase()+" "+t.$attr("revnumber")+(m(t["$attr?"]("revdate"))?",":"")+"</span>"),m(t["$attr?"]("revdate"))&&yt["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),m(t["$attr?"]("revremark"))&&yt["$<<"](""+v+'<span id="revremark">'+t.$attr("revremark")+"</span>"),m(yt["$empty?"]())||(j["$<<"]('<div class="details">'),j.$concat(yt),j["$<<"]("</div>"))),m(dt)&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))&&j["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`)),j["$<<"]("</div>")),j["$<<"]('<div id="content"'+K+`>
`+t.$content()+`
</div>`),m(t["$footnotes?"]())&&_e(t["$attr?"]("nofootnotes"))&&(j["$<<"]('<div id="footnotes"'+K+`>
<hr`+_+">"),Ge(t.$footnotes(),"each",[],function(Tt){return Tt==null&&(Tt=k),j["$<<"]('<div class="footnote" id="_footnotedef_'+Tt.$index()+`">
<a href="#_footnoteref_`+Tt.$index()+'">'+Tt.$index()+"</a>. "+Tt.$text()+`
</div>`)}),j["$<<"]("</div>")),m(t.$nofooter())||(j["$<<"]('<div id="footer"'+K+">"),j["$<<"]('<div id="footer-text">'),m(t["$attr?"]("revnumber"))&&j["$<<"](""+t.$attr("version-label")+" "+t.$attr("revnumber")+v),m(t["$attr?"]("last-update-label"))&&_e(t["$attr?"]("reproducible"))&&j["$<<"](""+t.$attr("last-update-label")+" "+t.$attr("docdatetime")),j["$<<"]("</div>"),j["$<<"]("</div>")),m(ct)&&(m(ct["$docinfo?"]("head"))?j["$[]="](ft,ct.$docinfo("head",t,G(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:A,linkcss:S,self_closing_tag_slash:_}))):j.$delete_at(ft),m(ct["$docinfo?"]("footer"))&&j["$<<"](ct.$docinfo("footer",t,G(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:A,linkcss:S,self_closing_tag_slash:_})))),m(t["$attr?"]("stem"))&&(wt=t.$attr("eqnums","none"),m(wt["$empty?"]())&&(wt="AMS"),Et=' equationNumbers: { autoNumber: "'+wt+'" } ',j["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+Y("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+Et+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+A+"/mathjax/"+Y("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),m((ut=t.$docinfo("footer"))["$empty?"]())||j["$<<"](ut),j["$<<"]("</body>"),j["$<<"]("</html>"),j.$join(Y("LF"))}),we(B,"$convert_embedded",function(t){var a=this,v=k,_=k,c=k;return v=[],R(t.$doctype(),"manpage")?(m(t.$notitle())||(_=m(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$doctitle()+" Manual Page</h1>")),m(t["$attr?"]("manpurpose"))&&v["$<<"](a.$generate_manname_section(t))):m(t["$header?"]())&&_e(t.$notitle())&&(_=m(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$header().$title()+"</h1>")),m(t["$sections?"]())&&m(t["$attr?"]("toc"))&&ve(c=t.$attr("toc-placement"),"macro")&&ve(c,"preamble")&&v["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),v["$<<"](t.$content()),m(t["$footnotes?"]())&&_e(t["$attr?"]("nofootnotes"))&&(v["$<<"](`<div id="footnotes">
<hr`+a.void_element_slash+">"),Ge(t.$footnotes(),"each",[],function(S){return S==null&&(S=k),v["$<<"]('<div class="footnote" id="_footnotedef_'+S.$index()+`">
<a href="#_footnoteref_`+S.$index()+'">'+S.$index()+"</a>. "+S.$text()+`
</div>`)}),v["$<<"]("</div>")),v.$join(Y("LF"))}),we(B,"$convert_outline",function(t,a){var v=this,_=k,c=k,A=k,S=k,K=k,j=k;return a==null&&(a=G([],{})),m(t["$sections?"]())?(_=m(c=a["$[]"]("sectnumlevels"))?c:(m(A=t.$document().$attributes()["$[]"]("sectnumlevels"))?A:3).$to_i(),S=m(c=a["$[]"]("toclevels"))?c:(m(A=t.$document().$attributes()["$[]"]("toclevels"))?A:2).$to_i(),K=t.$sections(),j=['<ul class="sectlevel'+K["$[]"](0).$level()+'">'],Ge(K,"each",[],function ee(he){var Be=ee.$$s==null?this:ee.$$s,Ze=k,$t=k,et=k,at=k;if(he==null&&(he=k),Ze=he.$level(),m(he.$caption()))$t=he.$captioned_title();else if(m(he.$numbered())&&m(st(Ze,_)))if(m(Re(Ze,2))&&R(t.$document().$doctype(),"book"))switch(he.$sectname()){case"chapter":$t=(m(et=t.$document().$attributes()["$[]"]("chapter-signifier"))?""+et+" ":"")+he.$sectnum()+" "+he.$title();break;case"part":$t=(m(et=t.$document().$attributes()["$[]"]("part-signifier"))?""+et+" ":"")+he.$sectnum(k,":")+" "+he.$title();break;default:$t=""+he.$sectnum()+" "+he.$title()}else $t=""+he.$sectnum()+" "+he.$title();else $t=he.$title();return m($t["$include?"]("<a"))&&($t=$t.$gsub(Y("DropAnchorRx"),"")),m(Re(Ze,S))&&m(at=Be.$convert_outline(he,G(["toclevels","sectnumlevels"],{toclevels:S,sectnumlevels:_})))?(j["$<<"]('<li><a href="#'+he.$id()+'">'+$t+"</a>"),j["$<<"](at),j["$<<"]("</li>")):j["$<<"]('<li><a href="#'+he.$id()+'">'+$t+"</a></li>")},{$$s:v}),j["$<<"]("</ul>"),j.$join(Y("LF"))):k},-2),we(B,"$convert_section",function(t){var a=k,v=k,_=k,c=k,A=k,S=k,K=k,j=k;if(a=t.$document().$attributes(),v=t.$level(),m(t.$caption()))_=t.$captioned_title();else if(m(t.$numbered())&&m(st(v,(m(c=a["$[]"]("sectnumlevels"))?c:3).$to_i())))if(m(Re(v,2))&&R(t.$document().$doctype(),"book"))switch(t.$sectname()){case"chapter":_=(m(A=a["$[]"]("chapter-signifier"))?""+A+" ":"")+t.$sectnum()+" "+t.$title();break;case"part":_=(m(A=a["$[]"]("part-signifier"))?""+A+" ":"")+t.$sectnum(k,":")+" "+t.$title();break;default:_=""+t.$sectnum()+" "+t.$title()}else _=""+t.$sectnum()+" "+t.$title();else _=t.$title();return m(t.$id())?(S=' id="'+(K=t.$id())+'"',m(a["$[]"]("sectlinks"))&&(_='<a class="link" href="#'+K+'">'+_+"</a>"),m(a["$[]"]("sectanchors"))&&(R(a["$[]"]("sectanchors"),"after")?_=""+_+'<a class="anchor" href="#'+K+'"></a>':_='<a class="anchor" href="#'+K+'"></a>'+_)):S="",R(v,0)?"<h1"+S+' class="sect0'+(m(j=t.$role())?" "+j:"")+'">'+_+`</h1>
`+t.$content():'<div class="sect'+v+(m(j=t.$role())?" "+j:"")+`">
<h`+Ne(v,1)+S+">"+_+"</h"+Ne(v,1)+`>
`+(R(v,1)?`<div class="sectionbody">
`+t.$content()+`
</div>`:t.$content())+`
</div>`}),we(B,"$convert_admonition",function(t){var a=this,v=k,_=k,c=k,A=k,S=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=t.$attr("name"),c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",m(t.$document()["$attr?"]("icons"))?m(t.$document()["$attr?"]("icons","font"))&&_e(t["$attr?"]("icon"))?A='<i class="fa icon-'+_+'" title="'+t.$attr("textlabel")+'"></i>':A='<img src="'+t.$icon_uri(_)+'" alt="'+t.$attr("textlabel")+'"'+a.void_element_slash+">":A='<div class="title">'+t.$attr("textlabel")+"</div>","<div"+v+' class="admonitionblock '+_+(m(S=t.$role())?" "+S:"")+`">
<table>
<tr>
<td class="icon">
`+A+`
</td>
<td class="content">
`+c+t.$content()+`
</td>
</tr>
</table>
</div>`}),we(B,"$convert_audio",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=a.xml_mode,_=m(t.$id())?' id="'+t.$id()+'"':"",c=["audioblock",t.$role()].$compact(),A=' class="'+c.$join(" ")+'"',S=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",K=t.$attr("start"),j=t.$attr("end"),ee=m(K)||m(j)?"#t="+(m(he=K)?he:"")+(m(j)?","+j:""):"","<div"+_+A+`>
`+S+`<div class="content">
<audio src="`+t.$media_uri(t.$attr("target"))+ee+'"'+(m(t["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",v):"")+(m(t["$option?"]("nocontrols"))?"":a.$append_boolean_attribute("controls",v))+(m(t["$option?"]("loop"))?a.$append_boolean_attribute("loop",v):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),we(B,"$convert_colist",function(t){var a,v=this,_=k,c=k,A=k,S=k,K=k,j=k;return _=[],c=m(t.$id())?' id="'+t.$id()+'"':"",A=["colist",t.$style(),t.$role()].$compact(),S=' class="'+A.$join(" ")+'"',_["$<<"]("<div"+c+S+">"),m(t["$title?"]())&&_["$<<"]('<div class="title">'+t.$title()+"</div>"),m(t.$document()["$attr?"]("icons"))?(_["$<<"]("<table>"),a=[t.$document()["$attr?"]("icons","font"),0],K=a[0],j=a[1],Ge(t.$items(),"each",[],function ee(he){var Be=ee.$$s==null?this:ee.$$s,Ze=k;return Be.void_element_slash==null&&(Be.void_element_slash=k),he==null&&(he=k),j=Ne(j,1),m(K)?Ze='<i class="conum" data-value="'+j+'"></i><b>'+j+"</b>":Ze='<img src="'+t.$icon_uri("callouts/"+j)+'" alt="'+j+'"'+Be.void_element_slash+">",_["$<<"](`<tr>
<td>`+Ze+`</td>
<td>`+he.$text()+(m(he["$blocks?"]())?Ne(Y("LF"),he.$content()):"")+`</td>
</tr>`)},{$$s:v}),_["$<<"]("</table>")):(_["$<<"]("<ol>"),Ge(t.$items(),"each",[],function(he){return he==null&&(he=k),_["$<<"](`<li>
<p>`+he.$text()+"</p>"+(m(he["$blocks?"]())?Ne(Y("LF"),he.$content()):"")+`
</li>`)}),_["$<<"]("</ol>")),_["$<<"]("</div>"),_.$join(Y("LF"))}),we(B,"$convert_dlist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k;switch(v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",t.$style()){case"qanda":c=["qlist","qanda",t.$role()];break;case"horizontal":c=["hdlist",t.$role()];break;default:c=["dlist",t.$style(),t.$role()]}switch(A=' class="'+c.$compact().$join(" ")+'"',v["$<<"]("<div"+_+A+">"),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),t.$style()){case"qanda":v["$<<"]("<ol>"),Ge(t.$items(),"each",[],function(he,Be){return he==null&&(he=k),Be==null&&(Be=k),v["$<<"]("<li>"),Ge(he,"each",[],function($t){return $t==null&&($t=k),v["$<<"]("<p><em>"+$t.$text()+"</em></p>")}),m(Be)&&(m(Be["$text?"]())&&v["$<<"]("<p>"+Be.$text()+"</p>"),m(Be["$blocks?"]())&&v["$<<"](Be.$content())),v["$<<"]("</li>")}),v["$<<"]("</ol>");break;case"horizontal":S=a.void_element_slash,v["$<<"]("<table>"),(m(t["$attr?"]("labelwidth"))||m(t["$attr?"]("itemwidth")))&&(v["$<<"]("<colgroup>"),K=m(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+K+S+">"),K=m(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+K+S+">"),v["$<<"]("</colgroup>")),Ge(t.$items(),"each",[],function(he,Be){var Ze=k;return he==null&&(he=k),Be==null&&(Be=k),v["$<<"]("<tr>"),v["$<<"]('<td class="hdlist1'+(m(t["$option?"]("strong"))?" strong":"")+'">'),Ze=!0,Ge(he,"each",[],function(et){return et==null&&(et=k),m(Ze)||v["$<<"]("<br"+S+">"),v["$<<"](et.$text()),Ze=k}),v["$<<"]("</td>"),v["$<<"]('<td class="hdlist2">'),m(Be)&&(m(Be["$text?"]())&&v["$<<"]("<p>"+Be.$text()+"</p>"),m(Be["$blocks?"]())&&v["$<<"](Be.$content())),v["$<<"]("</td>"),v["$<<"]("</tr>")}),v["$<<"]("</table>");break;default:v["$<<"]("<dl>"),j=m(t.$style())?"":' class="hdlist1"',Ge(t.$items(),"each",[],function(he,Be){return he==null&&(he=k),Be==null&&(Be=k),Ge(he,"each",[],function($t){return $t==null&&($t=k),v["$<<"]("<dt"+j+">"+$t.$text()+"</dt>")}),m(Be)?(v["$<<"]("<dd>"),m(Be["$text?"]())&&v["$<<"]("<p>"+Be.$text()+"</p>"),m(Be["$blocks?"]())&&v["$<<"](Be.$content()),v["$<<"]("</dd>")):k}),v["$<<"]("</dl>")}return v["$<<"]("</div>"),v.$join(Y("LF"))}),we(B,"$convert_example",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",m(t["$option?"]("collapsible"))?(v=m(t.$role())?' class="'+t.$role()+'"':"",_=m(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+a+v+(m(t["$option?"]("open"))?" open":"")+`>
`+_+`
<div class="content">
`+t.$content()+`
</div>
</details>`):(c=m(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+a+' class="exampleblock'+(m(A=t.$role())?" "+A:"")+`">
`+c+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(B,"$convert_floating_title",function(t){var a=k,v=k,_=k;return a="h"+Ne(t.$level(),1),v=m(t.$id())?' id="'+t.$id()+'"':"",_=[t.$style(),t.$role()].$compact(),"<"+a+v+' class="'+_.$join(" ")+'">'+t.$title()+"</"+a+">"}),we(B,"$convert_image",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k;return v=t.$attr("target"),_=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",c=m(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",(m(t["$attr?"]("format","svg"))||m(v["$include?"](".svg")))&&m(Re(t.$document().$safe(),Ee(Y("SafeMode"),"SECURE")))?m(t["$option?"]("inline"))?A=m(S=a.$read_svg_contents(t,v))?S:'<span class="alt">'+t.$alt()+"</span>":m(t["$option?"]("interactive"))?(K=m(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",A='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+_+c+">"+K+"</object>"):A='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">":A='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">",m(t["$attr?"]("link"))&&(A='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+A+"</a>"),j=m(t.$id())?' id="'+t.$id()+'"':"",ee=["imageblock"],m(t["$attr?"]("float"))&&ee["$<<"](t.$attr("float")),m(t["$attr?"]("align"))&&ee["$<<"]("text-"+t.$attr("align")),m(t.$role())&&ee["$<<"](t.$role()),he=' class="'+ee.$join(" ")+'"',Be=m(t["$title?"]())?`
<div class="title">`+t.$captioned_title()+"</div>":"","<div"+j+he+`>
<div class="content">
`+A+`
</div>`+Be+`
</div>`}),we(B,"$convert_listing",function(t){var a=k,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k;return a=m(v=t["$option?"]("nowrap"))?v:t.$document()["$attr?"]("prewrap")["$!"](),R(t.$style(),"source")?(_=t.$attr("language"),m(c=t.$document().$syntax_highlighter())?(A=m(c["$highlight?"]())?G(["css_mode","style"],{css_mode:(m(v=(S=t.$document().$attributes())["$[]"](""+c.$name()+"-css"))?v:"class").$to_sym(),style:S["$[]"](""+c.$name()+"-style")}):G([],{}),A["$[]="]("nowrap",a)):(K='<pre class="highlight'+(m(a)?" nowrap":"")+'"><code'+(m(_)?' class="language-'+_+'" data-lang="'+_+'"':"")+">",j="</code></pre>")):(K="<pre"+(m(a)?' class="nowrap"':"")+">",j="</pre>"),ee=m(t.$id())?' id="'+t.$id()+'"':"",he=m(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+ee+' class="listingblock'+(m(Be=t.$role())?" "+Be:"")+`">
`+he+`<div class="content">
`+(m(c)?c.$format(t,_,A):Ne(Ne(K,t.$content()),j))+`
</div>
</div>`}),we(B,"$convert_literal",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",v=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",_=m(c=t.$document()["$attr?"]("prewrap")["$!"]())?c:t["$option?"]("nowrap"),"<div"+a+' class="literalblock'+(m(A=t.$role())?" "+A:"")+`">
`+v+`<div class="content">
<pre`+(m(_)?' class="nowrap"':"")+">"+t.$content()+`</pre>
</div>
</div>`}),we(B,"$convert_stem",function(t){var a,v,_=this,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k;return c=m(t.$id())?' id="'+t.$id()+'"':"",A=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",v=Y("BLOCK_MATH_DELIMITERS")["$[]"](S=t.$style().$to_sym()),a=Oe(v),K=a[0]==null?k:a[0],j=a[1]==null?k:a[1],m(ee=t.$content())?(R(S,"asciimath")&&m(ee["$include?"](Y("LF")))&&(he=""+Y("LF")+"<br"+_.void_element_slash+">",ee=Ge(ee,"gsub",[Y("StemBreakRx")],function(){var $t;return""+j+Te(he,Ke((($t=it["~"])===k?k:$t["$[]"](0)).$count(Y("LF")),1))+Y("LF")+K})),m(ee["$start_with?"](K))&&m(ee["$end_with?"](j))||(ee=""+K+ee+j)):ee="","<div"+c+' class="stemblock'+(m(Be=t.$role())?" "+Be:"")+`">
`+A+`<div class="content">
`+ee+`
</div>
</div>`}),we(B,"$convert_olist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",c=["olist",t.$style(),t.$role()].$compact(),A=' class="'+c.$join(" ")+'"',v["$<<"]("<div"+_+A+">"),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),S=m(K=t.$list_marker_keyword())?' type="'+K+'"':"",j=m(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",ee=m(t["$option?"]("reversed"))?a.$append_boolean_attribute("reversed",a.xml_mode):"",v["$<<"]('<ol class="'+t.$style()+'"'+S+j+ee+">"),Ge(t.$items(),"each",[],function(Be){return Be==null&&(Be=k),m(Be.$id())?v["$<<"]('<li id="'+Be.$id()+'"'+(m(Be.$role())?' class="'+Be.$role()+'"':"")+">"):m(Be.$role())?v["$<<"]('<li class="'+Be.$role()+'">'):v["$<<"]("<li>"),v["$<<"]("<p>"+Be.$text()+"</p>"),m(Be["$blocks?"]())&&v["$<<"](Be.$content()),v["$<<"]("</li>")}),v["$<<"]("</ol>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(B,"$convert_open",function(t){var a=this,v=k,_=k,c=k,A=k;return R(v=t.$style(),"abstract")?R(t.$parent(),t.$document())&&R(t.$document().$doctype(),"book")?(a.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(_=m(t.$id())?' id="'+t.$id()+'"':"",c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="quoteblock abstract'+(m(A=t.$role())?" "+A:"")+`">
`+c+`<blockquote>
`+t.$content()+`
</blockquote>
</div>`):R(v,"partintro")&&(m(se(t.$level(),0))||ve(t.$parent().$context(),"section")||ve(t.$document().$doctype(),"book"))?(a.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(_=m(t.$id())?' id="'+t.$id()+'"':"",c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="openblock'+(m(v)&&ve(v,"open")?" "+v:"")+(m(A=t.$role())?" "+A:"")+`">
`+c+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(B,"$convert_page_break",b('<div style="page-break-after: always;"></div>')),we(B,"$convert_paragraph",function(t){var a=k;return m(t.$role())?a=(m(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':m(t.$id())?a=' id="'+t.$id()+'" class="paragraph"':a=' class="paragraph"',m(t["$title?"]())?"<div"+a+`>
<div class="title">`+t.$title()+`</div>
<p>`+t.$content()+`</p>
</div>`:"<div"+a+`>
<p>`+t.$content()+`</p>
</div>`}),We(B,"convert_pass","content_only"),we(B,"$convert_preamble",function(t){var a=k,v=k;return m((a=t.$document())["$attr?"]("toc-placement","preamble"))&&m(a["$sections?"]())&&m(a["$attr?"]("toc"))?v=`
<div id="toc" class="`+a.$attr("toc-class","toc")+`">
<div id="toctitle">`+a.$attr("toc-title")+`</div>
`+a.$converter().$convert(a,"outline")+`
</div>`:v="",`<div id="preamble">
<div class="sectionbody">
`+t.$content()+`
</div>`+v+`
</div>`}),we(B,"$convert_quote",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=["quoteblock",t.$role()].$compact(),c=' class="'+_.$join(" ")+'"',A=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",S=m(t["$attr?"]("attribution"))?t.$attr("attribution"):k,K=m(t["$attr?"]("citetitle"))?t.$attr("citetitle"):k,m(S)||m(K)?(j=m(K)?"<cite>"+K+"</cite>":"",ee=m(S)?"&#8212; "+S+(m(K)?"<br"+a.void_element_slash+`>
`:""):"",he=`
<div class="attribution">
`+ee+j+`
</div>`):he="","<div"+v+c+">"+A+`
<blockquote>
`+t.$content()+`
</blockquote>`+he+`
</div>`}),we(B,"$convert_thematic_break",function(t){var a=this;return"<hr"+a.void_element_slash+">"}),we(B,"$convert_sidebar",function(t){var a=k,v=k,_=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",v=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+a+' class="sidebarblock'+(m(_=t.$role())?" "+_:"")+`">
<div class="content">
`+v+t.$content()+`
</div>
</div>`}),we(B,"$convert_table",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k,Ze=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",R(c=t.$attr("frame","all","table-frame"),"topbot")&&(c="ends"),A=["tableblock","frame-"+c,"grid-"+t.$attr("grid","all","table-grid")],m(S=t.$attr("stripes",k,"table-stripes"))&&A["$<<"]("stripes-"+S),K="",m(j=t["$option?"]("autowidth"))&&_e(t["$attr?"]("width"))?A["$<<"]("fit-content"):R(ee=t.$attr("tablepcwidth"),100)?A["$<<"]("stretch"):K=' style="width: '+ee+'%;"',m(t["$attr?"]("float"))&&A["$<<"](t.$attr("float")),m(he=t.$role())&&A["$<<"](he),Be=' class="'+A.$join(" ")+'"',v["$<<"]("<table"+_+Be+K+">"),m(t["$title?"]())&&v["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),m(se(t.$attr("rowcount"),0))&&(Ze=a.void_element_slash,v["$<<"]("<colgroup>"),m(j)?v=Ne(v,Y("Array").$new(t.$columns().$size(),"<col"+Ze+">")):Ge(t.$columns(),"each",[],function(et){return et==null&&(et=k),v["$<<"](m(et["$option?"]("autowidth"))?"<col"+Ze+">":'<col style="width: '+et.$attr("colpcwidth")+'%;"'+Ze+">")}),v["$<<"]("</colgroup>"),Ge(t.$rows().$to_h(),"each",[],function(et,at){return et==null&&(et=k),at==null&&(at=k),m(at["$empty?"]())?k:(v["$<<"]("<t"+et+">"),Ge(at,"each",[],function(ft){return ft==null&&(ft=k),v["$<<"]("<tr>"),Ge(ft,"each",[],function(ht){var dt=k,At=k,yt=k,It=k,St=k,wt=k;if(ht==null&&(ht=k),R(et,"head"))dt=ht.$text();else switch(ht.$style()){case"asciidoc":dt='<div class="content">'+ht.$content()+"</div>";break;case"literal":dt='<div class="literal"><pre>'+ht.$text()+"</pre></div>";break;default:dt=m((dt=ht.$content())["$empty?"]())?"":'<p class="tableblock">'+dt.$join(`</p>
<p class="tableblock">`)+"</p>"}return At=R(et,"head")||R(ht.$style(),"header")?"th":"td",yt=' class="tableblock halign-'+ht.$attr("halign")+" valign-"+ht.$attr("valign")+'"',It=m(ht.$colspan())?' colspan="'+ht.$colspan()+'"':"",St=m(ht.$rowspan())?' rowspan="'+ht.$rowspan()+'"':"",wt=m(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",v["$<<"]("<"+At+yt+It+St+wt+">"+dt+"</"+At+">")}),v["$<<"]("</tr>")}),v["$<<"]("</t"+et+">"))})),v["$<<"]("</table>"),v.$join(Y("LF"))}),we(B,"$convert_toc",function(t){var a=k,v=k,_=k,c=k,A=k,S=k;return m((a=t.$document())["$attr?"]("toc-placement","macro"))&&m(a["$sections?"]())&&m(a["$attr?"]("toc"))?(m(t.$id())?(v=' id="'+t.$id()+'"',_=' id="'+t.$id()+'title"'):(v=' id="toc"',_=' id="toctitle"'),c=m(t["$title?"]())?t.$title():a.$attr("toc-title"),A=m(t["$attr?"]("levels"))?t.$attr("levels").$to_i():k,S=m(t["$role?"]())?t.$role():a.$attr("toc-class","toc"),"<div"+v+' class="'+S+`">
<div`+_+' class="title">'+c+`</div>
`+a.$converter().$convert(a,"outline",G(["toclevels"],{toclevels:A}))+`
</div>`):"<!-- toc disabled -->"}),we(B,"$convert_ulist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",c=["ulist",t.$style(),t.$role()].$compact(),A=S="",m(K=t["$option?"]("checklist"))?(c.$unshift(c.$shift(),"checklist"),j=' class="checklist"',m(t["$option?"]("interactive"))?m(a.xml_mode)?(A='<input type="checkbox" data-item-complete="1" checked="checked"/> ',S='<input type="checkbox" data-item-complete="0"/> '):(A='<input type="checkbox" data-item-complete="1" checked> ',S='<input type="checkbox" data-item-complete="0"> '):m(t.$document()["$attr?"]("icons","font"))?(A='<i class="fa fa-check-square-o"></i> ',S='<i class="fa fa-square-o"></i> '):(A="&#10003; ",S="&#10063; ")):j=m(t.$style())?' class="'+t.$style()+'"':"",v["$<<"]("<div"+_+' class="'+c.$join(" ")+'">'),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),v["$<<"]("<ul"+j+">"),Ge(t.$items(),"each",[],function(he){return he==null&&(he=k),m(he.$id())?v["$<<"]('<li id="'+he.$id()+'"'+(m(he.$role())?' class="'+he.$role()+'"':"")+">"):m(he.$role())?v["$<<"]('<li class="'+he.$role()+'">'):v["$<<"]("<li>"),m(K)&&m(he["$attr?"]("checkbox"))?v["$<<"]("<p>"+(m(he["$attr?"]("checked"))?A:S)+he.$text()+"</p>"):v["$<<"]("<p>"+he.$text()+"</p>"),m(he["$blocks?"]())&&v["$<<"](he.$content()),v["$<<"]("</li>")}),v["$<<"]("</ul>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(B,"$convert_verse",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=["verseblock",t.$role()].$compact(),c=' class="'+_.$join(" ")+'"',A=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",S=m(t["$attr?"]("attribution"))?t.$attr("attribution"):k,K=m(t["$attr?"]("citetitle"))?t.$attr("citetitle"):k,m(S)||m(K)?(j=m(K)?"<cite>"+K+"</cite>":"",ee=m(S)?"&#8212; "+S+(m(K)?"<br"+a.void_element_slash+`>
`:""):"",he=`
<div class="attribution">
`+ee+j+`
</div>`):he="","<div"+v+c+">"+A+`
<pre class="content">`+t.$content()+"</pre>"+he+`
</div>`}),we(B,"$convert_video",function(t){var a,v,_=this,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k,ht=k,dt=k,At=k,yt=k,It=k,St=k,wt=k,Et=k,Ct=k,Tt=k,Yt=k,Pt=k,Rt=k,xt=k,qt=k,Lt=k,kt=k,Ft=k,jt=k,Dt=k,Nt=k,Ht=k;switch(c=_.xml_mode,A=m(t.$id())?' id="'+t.$id()+'"':"",S=["videoblock"],m(t["$attr?"]("float"))&&S["$<<"](t.$attr("float")),m(t["$attr?"]("align"))&&S["$<<"]("text-"+t.$attr("align")),m(t.$role())&&S["$<<"](t.$role()),K=' class="'+S.$join(" ")+'"',j=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",ee=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",he=m(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",t.$attr("poster")){case"vimeo":return m((Be=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Be=""+Be+":"),Ze=m(t["$attr?"]("start"))?"#at="+t.$attr("start"):"",$t=["?"],v=t.$attr("target").$split("/",2),a=Oe(v),et=a[0]==null?k:a[0],at=a[1]==null?k:a[1],ct=m(at=m(ft=at)?ft:t.$attr("hash"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"h="+at:"",ut=m(t["$option?"]("autoplay"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"autoplay=1":"",ht=m(t["$option?"]("loop"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"loop=1":"",dt=m(t["$option?"]("muted"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"muted=1":"","<div"+A+K+">"+j+`
<div class="content">
<iframe`+ee+he+' src="'+Be+"//player.vimeo.com/video/"+et+ct+ut+ht+dt+Ze+'" frameborder="0"'+(m(t["$option?"]("nofullscreen"))?"":_.$append_boolean_attribute("allowfullscreen",c))+`></iframe>
</div>
</div>`;case"youtube":return m((Be=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Be=""+Be+":"),At=m(t["$option?"]("related"))?1:0,yt=m(t["$attr?"]("start"))?"&amp;start="+t.$attr("start"):"",It=m(t["$attr?"]("end"))?"&amp;end="+t.$attr("end"):"",ut=m(t["$option?"]("autoplay"))?"&amp;autoplay=1":"",ht=m(St=t["$option?"]("loop"))?"&amp;loop=1":"",wt=m(t["$option?"]("muted"))?"&amp;mute=1":"",Et=m(t["$option?"]("nocontrols"))?"&amp;controls=0":"",m(t["$option?"]("nofullscreen"))?(Ct="&amp;fs=0",Tt=""):(Ct="",Tt=_.$append_boolean_attribute("allowfullscreen",c)),Yt=m(t["$option?"]("modest"))?"&amp;modestbranding=1":"",Pt=m(t["$attr?"]("theme"))?"&amp;theme="+t.$attr("theme"):"",Rt=m(t["$attr?"]("lang"))?"&amp;hl="+t.$attr("lang"):"",v=t.$attr("target").$split("/",2),a=Oe(v),et=a[0]==null?k:a[0],xt=a[1]==null?k:a[1],m(xt=m(ft=xt)?ft:t.$attr("list"))?qt="&amp;list="+xt:(v=et.$split(",",2),a=Oe(v),et=a[0]==null?k:a[0],Lt=a[1]==null?k:a[1],m(Lt=m(ft=Lt)?ft:t.$attr("playlist"))?qt="&amp;playlist="+et+","+Lt:qt=m(St)?"&amp;playlist="+et:""),"<div"+A+K+">"+j+`
<div class="content">
<iframe`+ee+he+' src="'+Be+"//www.youtube.com/embed/"+et+"?rel="+At+yt+It+ut+ht+wt+Et+qt+Ct+Yt+Pt+Rt+'" frameborder="0"'+Tt+`></iframe>
</div>
</div>`;default:return kt=m((Ft=t.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+t.$media_uri(Ft)+'"',jt=m((Ft=t.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Ft+'"',Dt=t.$attr("start"),Nt=t.$attr("end"),Ht=m(Dt)||m(Nt)?"#t="+(m(ft=Dt)?ft:"")+(m(Nt)?","+Nt:""):"","<div"+A+K+">"+j+`
<div class="content">
<video src="`+t.$media_uri(t.$attr("target"))+Ht+'"'+ee+he+kt+(m(t["$option?"]("autoplay"))?_.$append_boolean_attribute("autoplay",c):"")+(m(t["$option?"]("muted"))?_.$append_boolean_attribute("muted",c):"")+(m(t["$option?"]("nocontrols"))?"":_.$append_boolean_attribute("controls",c))+(m(t["$option?"]("loop"))?_.$append_boolean_attribute("loop",c):"")+jt+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),we(B,"$convert_inline_anchor",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;switch(t.$type()){case"xref":return m(v=t.$attributes()["$[]"]("path"))?(_=a.$append_link_constraint_attrs(t,m(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),c=m(A=t.$text())?A:v):(_=m(t.$role())?' class="'+t.$role()+'"':"",m(c=t.$text())||(h(Y("AbstractNode"),S=m(A=(a.refs=m(K=a.refs)?K:t.$document().$catalog()["$[]"]("refs"))["$[]"](j=t.$attributes()["$[]"]("refid")))?A:m(j["$nil_or_empty?"]())?ee=a.$get_root_document(t):k)?m(a.resolving_xref=m(A=a.resolving_xref)?A:he=!0)&&m(he)?(m(c=S.$xreftext(t.$attr("xrefstyle",k,!0)))?m(c["$include?"]("<a"))&&(c=c.$gsub(Y("DropAnchorRx"),"")):c=m(ee)?"[^top]":"["+j+"]",a.resolving_xref=k):c=m(ee)?"[^top]":"["+j+"]":c="["+j+"]")),'<a href="'+t.$target()+'"'+_+">"+c+"</a>";case"ref":return'<a id="'+t.$id()+'"></a>';case"link":return _=m(t.$id())?[' id="'+t.$id()+'"']:[],m(t.$role())&&_["$<<"](' class="'+t.$role()+'"'),m(t["$attr?"]("title"))&&_["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+a.$append_link_constraint_attrs(t,_).$join()+">"+t.$text()+"</a>";case"bibref":return'<a id="'+t.$id()+'"></a>['+(m(A=t.$reftext())?A:t.$id())+"]";default:return a.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),k}}),we(B,"$convert_inline_break",function(t){var a=this;return""+t.$text()+"<br"+a.void_element_slash+">"}),we(B,"$convert_inline_button",function(t){return'<b class="button">'+t.$text()+"</b>"}),we(B,"$convert_inline_callout",function(t){var a=this,v=k,_=k;return m(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":m(t.$document()["$attr?"]("icons"))?(v=t.$icon_uri("callouts/"+t.$text()),'<img src="'+v+'" alt="'+t.$text()+'"'+a.void_element_slash+">"):h(Ee("Array"),_=t.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+t.$text()+")</b>--&gt;":""+_+'<b class="conum">('+t.$text()+")</b>"}),we(B,"$convert_inline_footnote",function(t){var a=k,v=k;return m(a=t.$attr("index"))?R(t.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>":(v=m(t.$id())?' id="_footnote_'+t.$id()+'"':"",'<sup class="footnote"'+v+'>[<a id="_footnoteref_'+a+'" class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>"):R(t.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":k}),we(B,"$convert_inline_image",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Be=k;return v=t.$target(),R(_=m(c=t.$type())?c:"image","icon")?R(A=t.$document().$attr("icons"),"font")?(S="fa fa-"+v,m(t["$attr?"]("size"))&&(S=""+S+" fa-"+t.$attr("size")),m(t["$attr?"]("flip"))?S=""+S+" fa-flip-"+t.$attr("flip"):m(t["$attr?"]("rotate"))&&(S=""+S+" fa-rotate-"+t.$attr("rotate")),K=m(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",j='<i class="'+S+'"'+K+"></i>"):m(A)?(K=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",m(t["$attr?"]("height"))&&(K=""+K+' height="'+t.$attr("height")+'"'),m(t["$attr?"]("title"))&&(K=""+K+' title="'+t.$attr("title")+'"'),j='<img src="'+t.$icon_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">"):j="["+t.$alt()+"&#93;":(K=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",m(t["$attr?"]("height"))&&(K=""+K+' height="'+t.$attr("height")+'"'),m(t["$attr?"]("title"))&&(K=""+K+' title="'+t.$attr("title")+'"'),(m(t["$attr?"]("format","svg"))||m(v["$include?"](".svg")))&&m(Re(t.$document().$safe(),Ee(Y("SafeMode"),"SECURE")))?m(t["$option?"]("inline"))?j=m(c=a.$read_svg_contents(t,v))?c:'<span class="alt">'+t.$alt()+"</span>":m(t["$option?"]("interactive"))?(ee=m(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",j='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+K+">"+ee+"</object>"):j='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">":j='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">"),m(t["$attr?"]("link"))&&(j='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+j+"</a>"),he=_,m(Be=t.$role())?he=m(t["$attr?"]("float"))?""+he+" "+t.$attr("float")+" "+Be:""+he+" "+Be:m(t["$attr?"]("float"))&&(he=""+he+" "+t.$attr("float")),'<span class="'+he+'">'+j+"</span>"}),we(B,"$convert_inline_indexterm",function(t){return R(t.$type(),"visible")?t.$text():""}),we(B,"$convert_inline_kbd",function(t){var a=k;return R((a=t.$attr("keys")).$size(),1)?"<kbd>"+a["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+a.$join("</kbd>+<kbd>")+"</kbd></span>"}),we(B,"$convert_inline_menu",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',v="</b>"+a+'<b class="submenu">',_=t.$attr("menu"),m((c=t.$attr("submenus"))["$empty?"]())?m(A=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="menuitem">'+A+"</b></span>":'<b class="menuref">'+_+"</b>":'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="submenu">'+c.$join(v)+"</b>"+a+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"}),we(B,"$convert_inline_quoted",function(t){var a,v,_=k,c=k,A=k,S=k;return v=Y("QUOTE_TAGS")["$[]"](t.$type()),a=Oe(v),_=a[0]==null?k:a[0],c=a[1]==null?k:a[1],A=a[2]==null?k:a[2],m(t.$id())?(S=m(t.$role())?' class="'+t.$role()+'"':"",m(A)?""+_.$chop()+' id="'+t.$id()+'"'+S+">"+t.$text()+c:'<span id="'+t.$id()+'"'+S+">"+_+t.$text()+c+"</span>"):m(t.$role())?m(A)?""+_.$chop()+' class="'+t.$role()+'">'+t.$text()+c:'<span class="'+t.$role()+'">'+_+t.$text()+c+"</span>":""+_+t.$text()+c}),we(B,"$read_svg_contents",function(t,a){var v=k,_=k,c=k,A=k;if(m(v=t.$read_contents(a,G(["start","normalize","label","warn_if_empty"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(m(v["$empty?"]()))return k;m(v["$start_with?"]("<svg"))||(v=v.$sub(Y("SvgPreambleRx"),"")),_=c=A=k,Ge(["width","height"],"each",[],function(K){var j=k,ee=k;if(K==null&&(K=k),!m(t["$attr?"](K)))return k;if(!m(c)){if(R(A=m(j=A)?j:m(ee=v.$match(Y("SvgStartTagRx")))?ee:"no_match","no_match"))return k;c=(_=A["$[]"](0)).$gsub(Y("DimensionAttributeRx"),"")}return c=""+c.$chop()+" "+K+'="'+t.$attr(K)+'">'}),m(c)&&(v=""+c+v["$[]"](e.Range.$new(_.$length(),-1,!1)))}return v}),B.$private(),we(B,"$append_boolean_attribute",function(t,a){return m(a)?" "+t+'="'+t+'"':" "+t}),we(B,"$append_link_constraint_attrs",function(t,a){var v=k,_=k;return a==null&&(a=[]),m(t["$option?"]("nofollow"))&&(v="nofollow"),m(_=t.$attributes()["$[]"]("window"))?(a["$<<"](' target="'+_+'"'),(R(_,"_blank")||m(t["$option?"]("noopener")))&&a["$<<"](m(v)?' rel="'+v+' noopener"':' rel="noopener"')):m(v)&&a["$<<"](' rel="'+v+'"'),a},-2),we(B,"$encode_attribute_value",function(t){return m(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t}),we(B,"$generate_manname_section",function(t){var a=k,v=k,_=k,c=k,A=k;return a=t.$attr("manname-title","Name"),m(_=t.$sections()["$[]"](0))&&R(v=_.$title(),v.$upcase())&&(a=a.$upcase()),c=m(A=t.$attr("manname-id"))?' id="'+A+'"':"","<h2"+c+">"+a+`</h2>
<div class="sectionbody">
<p>`+t.$attr("mannames").$join(", ")+" - "+t.$attr("manpurpose")+`</p>
</div>`}),we(B,"$get_root_document",function(t){for(;m((t=t.$document())["$nested?"]());)t=t.$parent_document();return t}),we(B,"$method_missing",function l(t,a){var v,_,c=l.$$p||k,A=this,S=k;return l.$$p=null,v=Ve(arguments,1),_=v,_e((S=t.$to_s())["$start_with?"]("convert_"))&&m(A["$handles?"](S))?Ge(A,"send",["convert_"+S].concat(rt(_))):I(A,ce(A,"method_missing",l,!1,!0),"method_missing",[t].concat(rt(_)),c)},-2),we(B,"$respond_to_missing?",function(t,a){var v=this,_=k,c=k;return Ve(arguments,1),m(_=(c=t.$to_s())["$start_with?"]("convert_")["$!"]())?v["$handles?"](c):_},-2)}(J("Converter"),Ee(J("Converter"),"Base"),H)}(z[0],z)},Opal.modules["asciidoctor/extensions"]=function(e){var U=e.module,M=e.klass,q=e.truthy,G=e.hash2,u=e.def,R=e.send,we=e.alias,I=e.slice,ce=e.rb_plus,m=e.eqeq,Ge=e.rb_gt,se=e.not,Ne=e.eqeqeq,_e=e.to_a,ve=e.to_ary,st=e.const_set,Re=e.return_val,Oe=e.send2,Te=e.find_super,Ke=e.NilClass,it=e.class_variable_set,b=e.class_variable_get,We=e.regexp,h=e.Class,Ve=e.return_ivar,rt=e.rb_lt,z=e.rb_minus,k=e.hash,Ee=[],O=e.nil,ue=e.$$$;return e.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(ie,H){var J=U(ie,"Asciidoctor"),F=[J].concat(H);return function(E,x){var B=U(E,"Extensions"),D=[B].concat(x),Y=e.$r(D);return function(C,l,t){var a=M(C,l,"Processor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,function(A,S){return u(A,"$config",function(){var j=this,ee=O;return j.config==null&&(j.config=O),j.config=q(ee=j.config)?ee:G([],{})}),u(A,"$option",function(j,ee){var he,Be=this;return he=[j,ee],R(Be.$config(),"[]=",he),he[he.length-1]}),u(A,"$enable_dsl",function(){var j=this;return q(j["$const_defined?"]("DSL"))?q(j["$singleton_class?"]())?j.$include(j.$const_get("DSL")):j.$extend(j.$const_get("DSL")):O}),we(A,"use_dsl","enable_dsl")}(e.get_singleton_class(a)),a.$attr_reader("config"),u(a,"$initialize",function(S){var K=this;return S==null&&(S=G([],{})),K.config=K.$class().$config().$merge(S)},-1),u(a,"$update_config",function(S){var K=this;return K.config.$update(S)}),u(a,"$process",function(S){var K=this;return I(arguments),K.$raise(ue("NotImplementedError"),""+_("Processor")+" subclass "+K.$class()+" must implement the #process method")},-1),u(a,"$create_section",function(S,K,j,ee){var he,Be,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O;return ee==null&&(ee=G([],{})),Ze=S.$document(),$t=(et=Ze.$doctype())["$=="]("book"),at=q(ct=ee["$[]"]("level"))?ct:ce(S.$level(),1),q(ft=j.$delete("style"))?q($t)&&m(ft,"abstract")?(he=["chapter",1],ut=he[0],at=he[1]):(he=[ft,!0],ut=he[0],ht=he[1],m(at,0)&&(at=1)):q($t)?ut=m(at,0)?"part":q(Ge(at,1))?"section":"chapter":m(et,"manpage")&&m(K.$casecmp("synopsis"),0)?(he=["synopsis",!0],ut=he[0],ht=he[1]):ut="section",dt=_("Section").$new(S,at),he=[K,ut],Be=[he[0]],R(dt,"title=",Be),Be[Be.length-1],Be=[he[1]],R(dt,"sectname=",Be),Be[Be.length-1],q(ht)?(dt["$special="](!0),q(ee.$fetch("numbered",ft["$=="]("appendix")))?dt["$numbered="](!0):se(ee["$key?"]("numbered"))&&q(Ze["$attr?"]("sectnums","all"))&&dt["$numbered="](q($t)&&m(at,1)?"chapter":!0)):q(Ge(at,0))?q(ee.$fetch("numbered",Ze["$attr?"]("sectnums")))&&dt["$numbered="](q(dt.$special())?q(ct=S.$numbered())||ct:!0):q(ee.$fetch("numbered",q(ct=$t)?Ze["$attr?"]("partnums"):ct))&&dt["$numbered="](!0),m(At=j["$[]"]("id"),!1)?j.$delete("id"):dt["$id="]((he=["id",q(ct=At)?ct:q(Ze["$attr?"]("sectids"))?_("Section").$generate_id(dt.$title(),Ze):O],R(j,"[]=",he),he[he.length-1])),dt.$update_attributes(j),dt},-4),u(a,"$create_block",function(S,K,j,ee,he){return he==null&&(he=G([],{})),_("Block").$new(S,K,G(["source","attributes"],{source:j,attributes:ee}).$merge(he))},-5),u(a,"$create_list",function(S,K,j){var ee=O;return j==null&&(j=O),ee=_("List").$new(S,K),q(j)&&ee.$update_attributes(j),ee},-3),u(a,"$create_list_item",function(S,K){return K==null&&(K=O),_("ListItem").$new(S,K)},-2),u(a,"$create_image_block",function(S,K,j){var ee,he=this,Be=O,Ze=O,$t=O;return j==null&&(j=G([],{})),q(Be=K["$[]"]("target"))||he.$raise(ue("ArgumentError"),"Unable to create an image block, target attribute is required"),q(K["$[]"]("alt"))||K["$[]="]("alt",(ee=["default-alt",_("Helpers").$basename(Be,!0).$tr("_-"," ")],R(K,"[]=",ee),ee[ee.length-1])),Ze=q(K["$key?"]("title"))?K.$delete("title"):O,$t=he.$create_block(S,"image",O,K,j),q(Ze)&&($t["$title="](Ze),$t.$assign_caption(K.$delete("caption"),"figure")),$t},-3),u(a,"$create_inline",function(S,K,j,ee){return ee==null&&(ee=G([],{})),_("Inline").$new(S,K,j,m(K,"quoted")?G(["type"],{type:"unquoted"}).$merge(ee):ee)},-4),u(a,"$parse_content",function(S,K,j){var ee=O;return j==null&&(j=O),ee=Ne(_("Reader"),K)?K:_("Reader").$new(K),_("Parser").$parse_blocks(ee,S,j),S},-3),u(a,"$parse_attributes",function(S,K,j){var ee=O;return j==null&&(j=G([],{})),q(q(K)?K["$empty?"]():!0)?G([],{}):(q(j["$[]"]("sub_attributes"))&&q(K["$include?"](_("ATTR_REF_HEAD")))&&(K=S.$sub_attributes(K)),_("AttributeList").$new(K).$parse(q(ee=j["$[]"]("positional_attributes"))?ee:[]))},-3),R([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function A(S,K,j){var ee=A.$$s==null?this:A.$$s;return S==null&&(S=O),K==null&&(K=O),j==null&&(j=O),R(ee,"define_method",[S],function he(Be){var Ze,$t,et=he.$$s==null?this:he.$$s;return Ze=I(arguments),$t=Ze,$t.$unshift($t.$shift(),j),R(et,"send",[K].concat(_e($t)))},{$$arity:-1,$$s:ee})},{$$s:a})}(D[0],null,D),function(C){var l=U(C,"ProcessorDsl");return u(l,"$option",function(a,v){var _,c=this;return _=[a,v],R(c.$config(),"[]=",_),_[_.length-1]}),u(l,"$process",function t(a){var v=t.$$p||O,_,c,A,S=this,K=O;return S.process_block==null&&(S.process_block=O),t.$$p=null,_=I(arguments),c=_,v!==O?(q(c["$empty?"]())||S.$raise(ue("ArgumentError"),"wrong number of arguments (given "+c.$size()+", expected 0)"),q(v.$binding())&&m(S,v.$binding().$receiver())||(K=S,R(v,"define_singleton_method",["call"],function(ee){var he,Be;return he=I(arguments),Be=he,R(K,"instance_exec",_e(Be),v.$to_proc())},-1)),S.process_block=v):q((A=S.process_block,A!=null&&A!==O?"instance-variable":O))?R(S.process_block,"call",_e(c)):S.$raise(ue("NotImplementedError"),""+S.$class()+" #process method called before being registered")},-1),u(l,"$process_block_given?",function(){var a,v=this;return a=v.process_block,a!=null&&a!==O?"instance-variable":O})}(D[0]),function(C,l){var t=U(C,"DocumentProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("ProcessorDsl")),u(t,"$prefer",function(){var c=this;return c.$option("position",">>")})}(D[0],D),function(C,l){var t=U(C,"SyntaxProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("ProcessorDsl")),u(t,"$named",function(c){var A=this;return Ne(v("Processor"),A)?A.name=c:A.$option("name",c)}),u(t,"$content_model",function(c){var A=this;return A.$option("content_model",c)}),we(t,"parse_content_as","content_model"),u(t,"$positional_attributes",function(c){var A,S,K=this;return A=I(arguments),S=A,K.$option("positional_attrs",S.$flatten())},-1),we(t,"name_positional_attributes","positional_attributes"),we(t,"positional_attrs","positional_attributes"),u(t,"$default_attributes",function(c){var A=this;return A.$option("default_attrs",c)}),we(t,"default_attrs","default_attributes"),u(t,"$resolve_attributes",function(c){var A,S,K,j=this,ee=O,he=O,Be=O;return A=I(arguments),S=A,q(Ge(S.$size(),1))||q((S=S.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(S=[S]),Ne(!0,ee=S)?(j.$option("positional_attrs",[]),j.$option("default_attrs",G([],{}))):Ne(ue("Array"),ee)?(K=[[],G([],{})],he=K[0],Be=K[1],R(S,"each",[],function($t){var et,at,ct=O,ft=O,ut=O;return $t==null&&($t=O),q(($t=$t.$to_s())["$include?"]("="))?(at=$t.$partition("="),et=ve(at),ct=et[0]==null?O:et[0],et[1]==null||et[1],ft=et[2]==null?O:et[2],q(ct["$include?"](":"))&&(at=ct.$partition(":"),et=ve(at),ut=et[0]==null?O:et[0],et[1]==null||et[1],ct=et[2]==null?O:et[2],ut=m(ut,"@")?he.$size():ut.$to_i(),he["$[]="](ut,ct)),et=[ct,ft],R(Be,"[]=",et),et[et.length-1]):q($t["$include?"](":"))?(at=$t.$partition(":"),et=ve(at),ut=et[0]==null?O:et[0],et[1]==null||et[1],ct=et[2]==null?O:et[2],ut=m(ut,"@")?he.$size():ut.$to_i(),et=[ut,ct],R(he,"[]=",et),et[et.length-1]):he["$<<"]($t)}),j.$option("positional_attrs",he.$compact()),j.$option("default_attrs",Be)):Ne(ue("Hash"),ee)?(K=[[],G([],{})],he=K[0],Be=K[1],R(S,"each",[],function($t,et){var at,ct,ft=O,ut=O;return $t==null&&($t=O),et==null&&(et=O),q((ft=$t.$to_s())["$include?"](":"))&&(ct=ft.$partition(":"),at=ve(ct),ut=at[0]==null?O:at[0],at[1]==null||at[1],ft=at[2]==null?O:at[2],ut=m(ut,"@")?he.$size():ut.$to_i(),he["$[]="](ut,ft)),q(et)?(at=[ft,et],R(Be,"[]=",at),at[at.length-1]):O}),j.$option("positional_attrs",he.$compact()),j.$option("default_attrs",Be)):j.$raise(ue("ArgumentError"),"unsupported attributes specification for macro: "+S.$inspect())},-1),we(t,"resolves_attributes","resolve_attributes")}(D[0],D),function(C,l,t){var a=M(C,l,"Preprocessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("Preprocessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("Preprocessor"),"DSL",Y("DocumentProcessorDsl")),function(C,l,t){var a=M(C,l,"TreeProcessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A){var S=this;return S.$raise(ue("NotImplementedError"),""+_("TreeProcessor")+" subclass "+S.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("TreeProcessor"),"DSL",Y("DocumentProcessorDsl")),st(D[0],"Treeprocessor",Y("TreeProcessor")),function(C,l,t){var a=M(C,l,"Postprocessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("Postprocessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("Postprocessor"),"DSL",Y("DocumentProcessorDsl")),function(C,l,t){var a=M(C,l,"IncludeProcessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("IncludeProcessor")+" subclass "+ee.$class()+" must implement the #process method")}),u(a,"$handles?",Re(!0))}(D[0],Y("Processor"),D),function(C,l){var t=U(C,"IncludeProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),u(t,"$handles?",function _(c){var A=_.$$p||O,S,K,j,ee=this;return ee.handles_block==null&&(ee.handles_block=O),_.$$p=null,S=I(arguments),K=S,A!==O?(q(K["$empty?"]())||ee.$raise(ue("ArgumentError"),"wrong number of arguments (given "+K.$size()+", expected 0)"),ee.handles_block=A):q((j=ee.handles_block,j!=null&&j!==O?"instance-variable":O))?ee.handles_block.$call(K["$[]"](0)):!0},-1)}(D[0],D),st(Y("IncludeProcessor"),"DSL",Y("IncludeProcessorDsl")),function(C,l,t){var a=M(C,l,"DocinfoProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,u(a,"$initialize",function A(S){var K;A.$$p;var j=this,ee=O;return A.$$p=null,S==null&&(S=G([],{})),Oe(j,Te(j,"initialize",A,!1,!0),"initialize",[S],null),q(ee=j.config["$[]"]("location"))?ee:(K=["location","head"],R(j.config,"[]=",K),K[K.length-1])},-1),u(a,"$process",function(S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("DocinfoProcessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(C,l){var t=U(C,"DocinfoProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),u(t,"$at_location",function(c){var A=this;return A.$option("location",c)})}(D[0],D),st(Y("DocinfoProcessor"),"DSL",Y("DocinfoProcessorDsl")),function(C,l,t){var a=M(C,l,"BlockProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,a.$attr_accessor("name"),u(a,"$initialize",function A(S,K){var j;A.$$p;var ee=this,he=O;return A.$$p=null,S==null&&(S=O),K==null&&(K=G([],{})),Oe(ee,Te(ee,"initialize",A,!1,!0),"initialize",[K],null),ee.name=q(he=S)?he:ee.config["$[]"]("name"),Ne(Ke,he=ee.config["$[]"]("contexts"))?q(ee.config["$[]"]("contexts"))||ee.config["$[]="]("contexts",["open","paragraph"].$to_set()):Ne(ue("Symbol"),he)?ee.config["$[]="]("contexts",[ee.config["$[]"]("contexts")].$to_set()):ee.config["$[]="]("contexts",ee.config["$[]"]("contexts").$to_set()),q(he=ee.config["$[]"]("content_model"))?he:(j=["content_model","compound"],R(ee.config,"[]=",j),j[j.length-1])},-1),u(a,"$process",function(S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("BlockProcessor")+" subclass "+ee.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(C,l){var t=U(C,"BlockProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),u(t,"$contexts",function(c){var A,S,K=this;return A=I(arguments),S=A,K.$option("contexts",S.$flatten().$to_set())},-1),we(t,"on_contexts","contexts"),we(t,"on_context","contexts"),we(t,"bind_to","contexts")}(D[0],D),st(Y("BlockProcessor"),"DSL",Y("BlockProcessorDsl")),function(C,l,t){var a=M(C,l,"MacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,a.$attr_accessor("name"),u(a,"$initialize",function A(S,K){var j;A.$$p;var ee=this,he=O;return A.$$p=null,S==null&&(S=O),K==null&&(K=G([],{})),Oe(ee,Te(ee,"initialize",A,!1,!0),"initialize",[K],null),ee.name=q(he=S)?he:ee.config["$[]"]("name"),q(he=ee.config["$[]"]("content_model"))?he:(j=["content_model","attributes"],R(ee.config,"[]=",j),j[j.length-1])},-1),u(a,"$process",function(S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("MacroProcessor")+" subclass "+ee.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(C,l){var t=U(C,"MacroProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),u(t,"$resolve_attributes",function _(c){var A,S,K=_.$$p||O,j=this;return _.$$p=null,A=I(arguments),S=A,m(S.$size(),1)&&se(S["$[]"](0))?j.$option("content_model","text"):(Oe(j,Te(j,"resolve_attributes",_,!1,!0),"resolve_attributes",_e(S),K),j.$option("content_model","attributes"))},-1),we(t,"resolves_attributes","resolve_attributes")}(D[0],D),function(C,l,t){var a=M(C,l,"BlockMacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.name=O,u(a,"$name",function(){var S=this;return q(_("MacroNameRx")["$match?"](S.name.$to_s()))||S.$raise(ue("ArgumentError"),"invalid name for block macro: "+S.name),S.name})}(D[0],Y("MacroProcessor"),D),st(Y("BlockMacroProcessor"),"DSL",Y("MacroProcessorDsl")),function(C,l,t){var a=M(C,l,"InlineMacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=c.name=O,it(v[0],"@@rx_cache",G([],{})),u(a,"$regexp",function(){var S,K=this,j=O;return q(j=K.config["$[]"]("regexp"))?j:(S=["regexp",K.$resolve_regexp(K.name.$to_s(),K.config["$[]"]("format"))],R(K.config,"[]=",S),S[S.length-1])}),u(a,"$resolve_regexp",function(S,K){var j,ee=this,he=O;return q(_("MacroNameRx")["$match?"](S))||ee.$raise(ue("ArgumentError"),"invalid name for inline macro: "+S),q(he=b(v[0],"@@rx_cache",!1)["$[]"]([S,K]))?he:(j=[[S,K],We(["\\\\?",S,":",m(K,"short")?"(){0}":"(\\S+?)","\\[(|",_("CC_ANY"),"*?[^\\\\])\\]"])],R(b(v[0],"@@rx_cache",!1),"[]=",j),j[j.length-1])})}(D[0],Y("MacroProcessor"),D),function(C,l){var t=U(C,"InlineMacroProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("MacroProcessorDsl")),u(t,"$format",function(c){var A=this;return A.$option("format",c)}),we(t,"match_format","format"),we(t,"using_format","format"),u(t,"$match",function(c){var A=this;return A.$option("regexp",c)})}(D[0],D),st(Y("InlineMacroProcessor"),"DSL",Y("InlineMacroProcessorDsl")),function(C,l){var t=M(C,l,"Extension");return t.$attr_reader("kind"),t.$attr_reader("config"),t.$attr_reader("instance"),u(t,"$initialize",function(v,_,c){var A=this;return A.kind=v,A.instance=_,A.config=c})}(D[0],null),function(C,l){var t=M(C,l,"ProcessorExtension");return t.$attr_reader("process_method"),u(t,"$initialize",function a(v,_,c){a.$$p;var A=this,S=O;return a.$$p=null,c==null&&(c=O),Oe(A,Te(A,"initialize",a,!1,!0),"initialize",[v,_,_.$config()],null),A.process_method=q(S=c)?S:_.$method("process")},-3)}(D[0],Y("Extension")),function(C,l,t){var a=M(C,l,"Group"),v=[a].concat(t);return function(_,c){var A=[_].concat(c),S=e.$r(A);return u(_,"$register",function(j){var ee=this;return j==null&&(j=O),S("Extensions").$register(j,ee)},-1)}(e.get_singleton_class(a),v),u(a,"$activate",function(c){var A=this;return A.$raise(ue("NotImplementedError"))})}(D[0],null,D),function(C,l,t){var a=M(C,l,"Registry"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.document=c.groups=c.preprocessor_extensions=c.tree_processor_extensions=c.postprocessor_extensions=c.include_processor_extensions=c.docinfo_processor_extensions=c.block_extensions=c.block_macro_extensions=c.inline_macro_extensions=O,a.$attr_reader("document"),a.$attr_reader("groups"),u(a,"$initialize",function(S){var K=this;return S==null&&(S=G([],{})),K.groups=S,K.$reset(),K.preprocessor_extensions=K.tree_processor_extensions=K.postprocessor_extensions=K.include_processor_extensions=K.docinfo_processor_extensions=K.block_extensions=K.block_macro_extensions=K.inline_macro_extensions=O,K.document=O},-1),u(a,"$activate",function(S){var K=this,j=O;return q(K.document)&&K.$reset(),K.document=S,q((j=ce(_("Extensions").$groups().$values(),K.groups.$values()))["$empty?"]())||R(j,"each",[],function ee(he){var Be=ee.$$s==null?this:ee.$$s,Ze=O;if(he==null&&(he=O),Ne(ue("Proc"),Ze=he))switch(he.$arity()){case 0:case-1:return R(Be,"instance_exec",[],he.$to_proc());case 1:return he.$call(Be);default:return O}else return Ne(h,Ze)?he.$new().$activate(Be):he.$activate(Be)},{$$s:K}),K}),u(a,"$preprocessor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_document_processor",["preprocessor",ee],K.$to_proc())},-1),u(a,"$preprocessors?",function(){var S=this;return S.preprocessor_extensions["$!"]()["$!"]()}),u(a,"$preprocessors",Ve("preprocessor_extensions")),u(a,"$tree_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_document_processor",["tree_processor",ee],K.$to_proc())},-1),u(a,"$tree_processors?",function(){var S=this;return S.tree_processor_extensions["$!"]()["$!"]()}),u(a,"$tree_processors",Ve("tree_processor_extensions")),we(a,"treeprocessor","tree_processor"),we(a,"treeprocessors?","tree_processors?"),we(a,"treeprocessors","tree_processors"),u(a,"$postprocessor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_document_processor",["postprocessor",ee],K.$to_proc())},-1),u(a,"$postprocessors?",function(){var S=this;return S.postprocessor_extensions["$!"]()["$!"]()}),u(a,"$postprocessors",Ve("postprocessor_extensions")),u(a,"$include_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_document_processor",["include_processor",ee],K.$to_proc())},-1),u(a,"$include_processors?",function(){var S=this;return S.include_processor_extensions["$!"]()["$!"]()}),u(a,"$include_processors",Ve("include_processor_extensions")),u(a,"$docinfo_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_document_processor",["docinfo_processor",ee],K.$to_proc())},-1),u(a,"$docinfo_processors?",function(S){var K=this;return S==null&&(S=O),q(K.docinfo_processor_extensions)?q(S)?R(K.docinfo_processor_extensions,"any?",[],function(ee){return ee==null&&(ee=O),ee.$config()["$[]"]("location")["$=="](S)}):!0:!1},-1),u(a,"$docinfo_processors",function(S){var K=this;return S==null&&(S=O),q(K.docinfo_processor_extensions)?q(S)?R(K.docinfo_processor_extensions,"select",[],function(ee){return ee==null&&(ee=O),ee.$config()["$[]"]("location")["$=="](S)}):K.docinfo_processor_extensions:O},-1),u(a,"$block",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_syntax_processor",["block",ee],K.$to_proc())},-1),u(a,"$blocks?",function(){var S=this;return S.block_extensions["$!"]()["$!"]()}),u(a,"$registered_for_block?",function(S,K){var j=this,ee=O;return q(ee=j.block_extensions["$[]"](S.$to_sym()))&&q(ee.$config()["$[]"]("contexts")["$include?"](K))?ee:!1}),u(a,"$find_block_extension",function(S){var K=this;return K.block_extensions["$[]"](S.$to_sym())}),u(a,"$block_macro",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_syntax_processor",["block_macro",ee],K.$to_proc())},-1),u(a,"$block_macros?",function(){var S=this;return S.block_macro_extensions["$!"]()["$!"]()}),u(a,"$registered_for_block_macro?",function(S){var K=this,j=O;return q(j=K.block_macro_extensions["$[]"](S.$to_sym()))?j:!1}),u(a,"$find_block_macro_extension",function(S){var K=this;return K.block_macro_extensions["$[]"](S.$to_sym())}),u(a,"$inline_macro",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=I(arguments),ee=j,R(he,"add_syntax_processor",["inline_macro",ee],K.$to_proc())},-1),u(a,"$inline_macros?",function(){var S=this;return S.inline_macro_extensions["$!"]()["$!"]()}),u(a,"$registered_for_inline_macro?",function(S){var K=this,j=O;return q(j=K.inline_macro_extensions["$[]"](S.$to_sym()))?j:!1}),u(a,"$find_inline_macro_extension",function(S){var K=this;return K.inline_macro_extensions["$[]"](S.$to_sym())}),u(a,"$inline_macros",function(){var S=this;return S.inline_macro_extensions.$values()}),u(a,"$prefer",function A(S){var K=A.$$p||O,j,ee,he=this,Be=O,Ze=O,$t=O;return A.$$p=null,j=I(arguments),ee=j,Be=Ne(_("ProcessorExtension"),Ze=ee.$shift())?Ze:R(he,"send",[Ze].concat(_e(ee)),K.$to_proc()),$t=he.$instance_variable_get(("@"+Be.$kind()+"_extensions").$to_sym()),$t.$unshift($t.$delete(Be)),Be},-1),a.$private(),u(a,"$add_document_processor",function A(S,K){var j=A.$$p||O,ee,he,Be=this,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O,yt=O;return A.$$p=null,Ze=S.$to_s().$tr("_"," "),$t=R(Ze.$split(),"map",[],function(St){return St==null&&(St=O),St.$capitalize()}).$join().$to_sym(),et=_("Extensions").$const_get($t,!1),at=q(ue("::","AsciidoctorJ","skip_raise")?"constant":O)?ue(ue("AsciidoctorJ"),"Extensions").$const_get($t,!1):O,ct=q(ft=Be.$instance_variable_get(("@"+S+"_extensions").$to_sym()))?ft:Be.$instance_variable_set(("@"+S+"_extensions").$to_sym(),[]),j!==O?(ut=Be.$resolve_args(K,1),(ht=et.$new(ut)).$singleton_class().$enable_dsl(),m(j.$arity(),0)?R(ht,"instance_exec",[],j.$to_proc()):e.yield1(j,ht),q(ht["$process_block_given?"]())||Be.$raise(ue("NoMethodError"),"No block specified to process "+Ze+" extension at "+j.$source_location().$join(":")),ht.$freeze(),dt=_("ProcessorExtension").$new(S,ht)):(he=Be.$resolve_args(K,2),ee=ve(he),ht=ee[0]==null?O:ee[0],ut=ee[1]==null?O:ee[1],q(At=_("Helpers").$resolve_class(ht))?(q(rt(At,et))||q(at)&&q(rt(At,at))||Be.$raise(ue("ArgumentError"),"Invalid type for "+Ze+" extension: "+ht),yt=At.$new(ut),yt.$freeze(),dt=_("ProcessorExtension").$new(S,yt)):Ne(et,ht)||q(at)&&Ne(at,ht)?(ht.$update_config(ut),ht.$freeze(),dt=_("ProcessorExtension").$new(S,ht)):Be.$raise(ue("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+K)),m(dt.$config()["$[]"]("position"),">>")?ct.$unshift(dt):ct["$<<"](dt),dt}),u(a,"$add_syntax_processor",function A(S,K){var j=A.$$p||O,ee,he,Be=this,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O,yt=O;return A.$$p=null,Ze=S.$to_s().$tr("_"," "),$t=R(Ze.$split(),"map",[],function(St){return St==null&&(St=O),St.$capitalize()})["$<<"]("Processor").$join().$to_sym(),et=_("Extensions").$const_get($t,!1),at=q(ue("::","AsciidoctorJ","skip_raise")?"constant":O)?ue(ue("AsciidoctorJ"),"Extensions").$const_get($t,!1):O,ct=q(ft=Be.$instance_variable_get(("@"+S+"_extensions").$to_sym()))?ft:Be.$instance_variable_set(("@"+S+"_extensions").$to_sym(),G([],{})),j!==O?(he=Be.$resolve_args(K,2),ee=ve(he),ut=ee[0]==null?O:ee[0],ht=ee[1]==null?O:ee[1],(dt=et.$new(Be.$as_symbol(ut),ht)).$singleton_class().$enable_dsl(),m(j.$arity(),0)?R(dt,"instance_exec",[],j.$to_proc()):e.yield1(j,dt),q(ut=Be.$as_symbol(dt.$name()))||Be.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension at "+j.$source_location().$join(":")),q(dt["$process_block_given?"]())||Be.$raise(ue("NoMethodError"),"No block specified to process "+Ze+" extension at "+j.$source_location().$join(":")),dt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,dt)],R(ct,"[]=",ee),ee[ee.length-1]):(he=Be.$resolve_args(K,3),ee=ve(he),dt=ee[0]==null?O:ee[0],ut=ee[1]==null?O:ee[1],ht=ee[2]==null?O:ee[2],q(At=_("Helpers").$resolve_class(dt))?(q(rt(At,et))||q(at)&&q(rt(At,at))||Be.$raise(ue("ArgumentError"),"Class specified for "+Ze+" extension does not inherit from "+et+": "+dt),yt=At.$new(Be.$as_symbol(ut),ht),q(ut=Be.$as_symbol(yt.$name()))||Be.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),yt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,yt)],R(ct,"[]=",ee),ee[ee.length-1]):Ne(et,dt)||q(at)&&Ne(at,dt)?(dt.$update_config(ht),q(ut=q(ut)?(ee=[Be.$as_symbol(ut)],R(dt,"name=",ee),ee[ee.length-1]):Be.$as_symbol(dt.$name()))||Be.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),dt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,dt)],R(ct,"[]=",ee),ee[ee.length-1]):Be.$raise(ue("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+K))}),u(a,"$reset",function(){var S=this;return S.preprocessor_extensions=S.tree_processor_extensions=S.postprocessor_extensions=S.include_processor_extensions=S.docinfo_processor_extensions=S.block_extensions=S.block_macro_extensions=S.inline_macro_extensions=O,S.document=O}),u(a,"$resolve_args",function(S,K){var j=O,ee=O;return j=Ne(ue("Hash"),S["$[]"](-1))?S.$pop():G([],{}),m(K,1)?j:(q(Ge(ee=z(z(K,1),S.$size()),0))?S=ce(S,ue("Array").$new(ee)):q(rt(ee,0))&&S.$pop(ee["$-@"]()),S["$<<"](j),S)}),u(a,"$as_symbol",function(S){return q(S)?S.$to_sym():O})}(D[0],null,D),function(C,l){var t=[C].concat(l),a=e.$r(t);return u(C,"$generate_name",function(){var _=this;return"extgrp"+_.$next_auto_id()}),u(C,"$next_auto_id",function(){var _=this,c=O;return _.auto_id==null&&(_.auto_id=O),_.auto_id=q(c=_.auto_id)?c:-1,_.auto_id=ce(_.auto_id,1)}),u(C,"$groups",function(){var _=this,c=O;return _.groups==null&&(_.groups=O),_.groups=q(c=_.groups)?c:G([],{})}),u(C,"$create",function v(_){var c=v.$$p||O,A=this,S=O;return v.$$p=null,_==null&&(_=O),c!==O?a("Registry").$new(k(q(S=_)?S:A.$generate_name(),c)):a("Registry").$new()},-1),u(C,"$register",function v(_){var c=v.$$p||O,A,S,K,j=this,ee=O,he=O,Be=O,Ze=O,$t=O;return v.$$p=null,A=I(arguments),S=A,ee=S.$size(),c!==O?he=c:q(Be=S.$pop())?he=q(Ze=a("Helpers").$resolve_class(Be))?Ze:Be:j.$raise(ue("ArgumentError"),"Extension group to register not specified"),$t=q(Ze=S.$pop())?Ze:j.$generate_name(),q(S["$empty?"]())||j.$raise(ue("ArgumentError"),"Wrong number of arguments ("+ee+" for 1..2)"),K=[$t.$to_sym(),he],R(j.$groups(),"[]=",K),K[K.length-1]},-1),u(C,"$unregister_all",function(){var _=this;return _.groups=G([],{}),O}),u(C,"$unregister",function(_){var c,A,S=this;return c=I(arguments),A=c,R(A,"each_with_object",[S.$groups()],function(j,ee){return j==null&&(j=O),ee==null&&(ee=O),ee.$delete(j.$to_sym())}),O},-1)}(e.get_singleton_class(B),D)}(F[0],F)}(Ee[0],Ee)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var U=e.module,M=e.klass,q=e.truthy,G=e.def,u=[],R=e.nil,we=e.$$$;return e.add_stubs("rstrip,read,join"),function(I,ce){var m=U(I,"Asciidoctor"),Ge=[m].concat(ce);return function(se,Ne){var _e=M(se,Ne,"Stylesheets"),ve=_e.$$prototype;return ve.primary_stylesheet_data=R,G(_e,"$primary_stylesheet_data",function(){var Re=this,Oe=R;return Re.primary_stylesheet_data=q(Oe=Re.primary_stylesheet_data)?Oe:we("IO").$read(we("File").$join("css","asciidoctor.css")).$rstrip()})}(Ge[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var U=e.module,M=e.klass,q=e.def,G=[];return e.nil,function(u,R){var we=U(u,"Asciidoctor"),I=[we].concat(R),ce=e.$r(I);return function(m,Ge){var se=M(m,Ge,"Document");return q(se,"$fill_datetime_attributes",function(_e,ve){var st=e.truthy,Re=e.falsy,Oe=e.nil,Te,Ke,it,b,We,h,Ve,rt,z=function(v,_){return _===0?v.getUTCFullYear():v.getFullYear()},k=function(v,_){return _===0?v.getUTCMonth():v.getMonth()},Ee=function(v,_){return _===0?v.getUTCDate():v.getDate()},O=function(v,_){return _===0?v.getUTCHours():v.getHours()},ue=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(ue.setTime(parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),Ke=ue,Te=0):Te=-ue.getTimezoneOffset()/60,st(it=_e["$[]"]("localdate")))Re(b=_e["$[]"]("localyear"))&&(b=it.indexOf("-")===4?it.substring(0,4):Oe,_e["$[]="]("localyear",b));else{var ie=z(ue,Te).toString(),H=("0"+(k(ue,Te)+1)).slice(-2),J=("0"+Ee(ue,Te)).slice(-2);it=ie+"-"+H+"-"+J,_e["$[]="]("localdate",it),b=ie,_e["$[]="]("localyear",ie)}if(Re(We=_e["$[]"]("localtime"))){var F=("0"+O(ue,Te)).slice(-2),E=("0"+ue.getMinutes()).slice(-2),x=("0"+ue.getSeconds()).slice(-2),B;Te===0?B="UTC":Te>0?B=("+0"+Te*100).slice(-5):B=("-0"+-Te*100).slice(-5),We=F+":"+E+":"+x+" "+B,_e["$[]="]("localtime",We)}if(Re(h=_e["$[]"]("localdatetime"))&&(h=it+" "+We,_e["$[]="]("localdatetime",h)),st(Ke)?ve=Ke:st(ve)?Te=-ve.getTimezoneOffset()/60:ve=ue,st(Ve=_e["$[]"]("docdate")))_e["$[]="]("docyear",Ve.indexOf("-")===4?Ve.substring(0,4):Oe);else{var D=z(ve,Te).toString(),Y=("0"+(k(ve,Te)+1)).slice(-2),C=("0"+Ee(ve,Te)).slice(-2);Ve=D+"-"+Y+"-"+C,_e["$[]="]("docdate",Ve),Re(_e["$[]"]("docyear"))&&_e["$[]="]("docyear",D)}if(Re(rt=_e["$[]"]("doctime"))){var l=("0"+O(ve,Te)).slice(-2),t=("0"+ve.getMinutes()).slice(-2),a=("0"+ve.getSeconds()).slice(-2),B;Te===0?B="UTC":Te>0?B=("+0"+Te*100).slice(-5):B=("-0"+-Te*100).slice(-5),rt=l+":"+t+":"+a+" "+B,_e["$[]="]("doctime",rt)}return Re(_e["$[]"]("docdatetime"))&&_e["$[]="]("docdatetime",Ve+" "+rt),Oe})}(I[0],ce("AbstractBlock"))}(G[0],G)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var U=e.module,M=e.def,q=[];return e.nil,function(G,u){var R=U(G,"Asciidoctor"),we=[R].concat(u);return function(I){var ce=U(I,"Substitutors");return M(ce,"$sub_placeholder",function(Ge,se){return Ge.replace("%s",se)})}(we[0])}(q[0],q)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var U=e.module,M=e.klass,q=e.truthy,G=e.defs,u=[];return e.nil,function(R,we){var I=U(R,"Asciidoctor"),ce=[I].concat(we);return function(m,Ge){var se=M(m,Ge,"Parser");return q(String.prototype.repeat)?G(se,"$uniform?",function(_e,ve,st){return ve.repeat(st)===_e}):G(se,"$uniform?",function(_e,ve,st){return Array.apply(null,{length:st}).map(function(){return ve}).join("")===_e})}(ce[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var U=e.module,M=e.truthy,q=e.def,G=[],u=e.nil;return e.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(R,we){var I=U(R,"Asciidoctor"),ce=[I].concat(we);return function(m,Ge){var se=U(m,"SyntaxHighlighter"),Ne=[se].concat(Ge);return function(_e,ve){var st=U(_e,"Factory"),Re=[st].concat(ve),Oe=e.$r(Re);return q(st,"$for",function(Ke){var it=this;return M(it.$registry()["$key?"](Ke))?it.$registry()["$[]"](Ke):(M(it["$include?"](Oe("Logging")))||it.$include(Oe("Logging")),M(it.$registry()["$empty?"]())?it.$logger().$debug("no syntax highlighter available, functionality disabled."):it.$logger().$debug("syntax highlighter named '"+Ke+"' is not available, must be one of: '"+it.$registry().$keys().$join("', '")+"'."),u)})}(Ne[0],Ne)}(ce[0],ce)}(G[0],G)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var U=e.top;e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),U.$require("asciidoctor/js/asciidoctor_ext/document"),U.$require("asciidoctor/js/asciidoctor_ext/substitutors"),U.$require("asciidoctor/js/asciidoctor_ext/parser"),U.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),U.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){var U=e.klass,M=e.def,q=e.truthy,G=e.rb_lt,u=[],R=e.nil;return e.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(we,I,ce){var m=U(we,I,"Logger"),Ge=[m].concat(ce),se=e.$r(Ge),Ne=m.$$prototype;return Ne.level=Ne.progname=Ne.pipe=Ne.formatter=R,function(_e,ve){var st=U(_e,ve,"Formatter");return M(st,"$call",function(Oe,Te,Ke,it){var b=this,We=R;return We=Te.getFullYear()+"-"+("0"+(Te.getMonth()+1)).slice(-2)+"-"+("0"+Te.getDate()).slice(-2)+"T"+("0"+Te.getHours()).slice(-2)+":"+("0"+Te.getMinutes()).slice(-2)+":"+("0"+Te.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+Oe.$chr()+", ["+We+"] "+Oe.$rjust(5)+" -- "+Ke+": "+b.$message_as_string(it)})}(Ge[0],null),M(m,"$add",function _e(ve,st,Re){var Oe=_e.$$p||R,Te=this,Ke=R;return _e.$$p=null,st==null&&(st=R),Re==null&&(Re=R),q(G(ve=q(Ke=ve)?Ke:se("UNKNOWN"),Te.level))||(Re=q(Ke=Re)?Ke:Te.progname,q(st)||(Oe!==R?st=e.yieldX(Oe,[]):(st=Re,Re=Te.progname)),Te.pipe.$write(Te.formatter.$call(q(Ke=se("SEVERITY_LABELS")["$[]"](ve))?Ke:"ANY",new Date,Re,st))),!0},-2)}(u[0],null,u)},Opal.modules["asciidoctor/js/postscript"]=function(e){var U=e.top;return e.nil,e.add_stubs("require"),U.$require("asciidoctor/converter/composite"),U.$require("asciidoctor/converter/html5"),U.$require("asciidoctor/extensions"),U.$require("asciidoctor/js/asciidoctor_ext"),U.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(e){var U=e.module,M=e.const_set,q=e.send,G=e.to_ary,u=e.defs,R=e.def,we=e.truthy,I=e.hash2,ce=e.eqeq,m=e.rb_minus,Ge=e.regexp,se=e.top,Ne=[],_e=e.nil,ve=e.$$$;return e.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),se.$require("set"),se.$require("asciidoctor/js"),function(st,Re){var Oe=U(st,"Asciidoctor"),Te=[Oe].concat(Re),Ke=e.$r(Te),it=_e;return M(Te[0],"RUBY_ENGINE_OPAL",M(Te[0],"RUBY_ENGINE",ve("RUBY_ENGINE"))["$=="]("opal")),function(b,We){var h=U(b,"SafeMode"),Ve=[h].concat(We);return M(Ve[0],"UNSAFE",0),M(Ve[0],"SAFE",1),M(Ve[0],"SERVER",10),M(Ve[0],"SECURE",20),h.names_by_value=q(q(h.$constants(!1),"map",[],function rt(z){var k=rt.$$s==null?this:rt.$$s;return z==null&&(z=_e),[k.$const_get(z),z.$to_s().$downcase()]},{$$s:h}),"sort",[],function(z,k){var Ee,O,ue=_e,ie=_e;return z==null&&(z=_e),k==null&&(k=_e),O=z,Ee=G(O),ue=Ee[0]==null?_e:Ee[0],O=k,Ee=G(O),ie=Ee[0]==null?_e:Ee[0],ue["$<=>"](ie)},{$$has_top_level_mlhs_arg:!0}).$to_h(),u(h,"$value_for_name",function(z){var k=this;return k.$const_get(z.$upcase(),!1)}),u(h,"$name_for_value",function(z){var k=this;return k.names_by_value==null&&(k.names_by_value=_e),k.names_by_value["$[]"](z)}),u(h,"$names",function(){var z=this;return z.names_by_value==null&&(z.names_by_value=_e),z.names_by_value.$values()})}(Te[0],Te),function(b,We){var h=U(b,"Compliance");return h.keys=ve("Set").$new(),function(Ve,rt){return Ve.$attr_reader("keys"),R(Ve,"$define",function(k,Ee){var O=this;return O.keys==null&&(O.keys=_e),O.$instance_variable_set("@"+k,Ee),O.$singleton_class().$send("attr_accessor",k),O.keys["$<<"](k),_e})}(e.get_singleton_class(h)),h.$define("block_terminates_paragraph",!0),h.$define("strict_verbatim_paragraphs",!0),h.$define("underline_style_section_titles",!0),h.$define("unwrap_standalone_preamble",!0),h.$define("attribute_missing","skip"),h.$define("attribute_undefined","drop-line"),h.$define("shorthand_property_syntax",!0),h.$define("natural_xrefs",!0),h.$define("unique_id_start_index",2),h.$define("markdown_syntax",!0)}(Te[0]),we(Ke("ROOT_DIR","skip_raise")?"constant":_e)||M(Te[0],"ROOT_DIR",ve("File").$dirname(ve("File").$absolute_path("."))),M(Te[0],"LIB_DIR",ve("File").$join(Ke("ROOT_DIR"),"lib")),M(Te[0],"DATA_DIR",ve("File").$join(Ke("ROOT_DIR"),"data")),M(Te[0],"USER_HOME",function(){try{return ve("Dir").$home()}catch(b){if(e.rescue(b,[Ke("StandardError")]))try{return we(it=ve("ENV")["$[]"]("HOME"))?it:ve("Dir").$pwd()}finally{e.pop_exception()}else throw b}}()),M(Te[0],"LF",`
`),M(Te[0],"NULL","\0"),M(Te[0],"TAB","	"),M(Te[0],"MAX_INT",9007199254740991),M(Te[0],"UTF_8",ve(ve("Encoding"),"UTF_8")),M(Te[0],"BOM_BYTES_UTF_8",[239,187,191]),M(Te[0],"BOM_BYTES_UTF_16LE",[255,254]),M(Te[0],"BOM_BYTES_UTF_16BE",[254,255]),M(Te[0],"FILE_READ_MODE",we(Ke("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),M(Te[0],"URI_READ_MODE",Ke("FILE_READ_MODE")),M(Te[0],"FILE_WRITE_MODE",we(Ke("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),M(Te[0],"DEFAULT_DOCTYPE","article"),M(Te[0],"DEFAULT_BACKEND","html5"),M(Te[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),M(Te[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),M(Te[0],"BACKEND_ALIASES",I(["html","docbook"],{html:"html5",docbook:"docbook5"})),M(Te[0],"DEFAULT_PAGE_WIDTHS",I(["docbook"],{docbook:425})),M(Te[0],"DEFAULT_EXTENSIONS",I(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),M(Te[0],"ASCIIDOC_EXTENSIONS",I([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),M(Te[0],"SETEXT_SECTION_LEVELS",I(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),M(Te[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),M(Te[0],"ADMONITION_STYLE_HEADS",q(ve("Set").$new(),"tap",[],function(We){return We==null&&(We=_e),q(Ke("ADMONITION_STYLES"),"each",[],function(Ve){return Ve==null&&(Ve=_e),We["$<<"](Ve.$chr())})})),M(Te[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),M(Te[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),M(Te[0],"DELIMITED_BLOCKS",I(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",ve("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",ve("Set").$new()],",===":["table",ve("Set").$new()],":===":["table",ve("Set").$new()],"!===":["table",ve("Set").$new()],"////":["comment",ve("Set").$new()],"```":["fenced_code",ve("Set").$new()]})),M(Te[0],"DELIMITED_BLOCK_HEADS",q(I([],{}),"tap",[],function(We){return We==null&&(We=_e),q(Ke("DELIMITED_BLOCKS"),"each_key",[],function(Ve){var rt;return Ve==null&&(Ve=_e),rt=[Ve.$slice(0,2),!0],q(We,"[]=",rt),rt[rt.length-1]})})),M(Te[0],"DELIMITED_BLOCK_TAILS",q(I([],{}),"tap",[],function(We){return We==null&&(We=_e),q(Ke("DELIMITED_BLOCKS"),"each_key",[],function(Ve){var rt;return Ve==null&&(Ve=_e),ce(Ve.$length(),4)?(rt=[Ve,Ve["$[]"](m(Ve.$length(),1))],q(We,"[]=",rt),rt[rt.length-1]):_e})})),M(Te[0],"CAPTION_ATTRIBUTE_NAMES",I(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),M(Te[0],"LAYOUT_BREAK_CHARS",I(["'","<"],{"'":"thematic_break","<":"page_break"})),M(Te[0],"MARKDOWN_THEMATIC_BREAK_CHARS",I(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),M(Te[0],"HYBRID_LAYOUT_BREAK_CHARS",Ke("LAYOUT_BREAK_CHARS").$merge(Ke("MARKDOWN_THEMATIC_BREAK_CHARS"))),M(Te[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),M(Te[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),M(Te[0],"ORDERED_LIST_KEYWORDS",I(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),M(Te[0],"ATTR_REF_HEAD","{"),M(Te[0],"LIST_CONTINUATION","+"),M(Te[0],"HARD_LINE_BREAK"," +"),M(Te[0],"LINE_CONTINUATION"," \\"),M(Te[0],"LINE_CONTINUATION_LEGACY"," +"),M(Te[0],"BLOCK_MATH_DELIMITERS",I(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),M(Te[0],"INLINE_MATH_DELIMITERS",I(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),M(Te[0],"STEM_TYPE_ALIASES",I(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),M(Te[0],"FONT_AWESOME_VERSION","4.7.0"),M(Te[0],"HIGHLIGHT_JS_VERSION","9.18.3"),M(Te[0],"MATHJAX_VERSION","2.7.9"),M(Te[0],"DEFAULT_ATTRIBUTES",I(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),M(Te[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),M(Te[0],"INTRINSIC_ATTRIBUTES",I(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),M(Te[0],"QUOTE_SUBS",q(I([],{}),"tap",[],function(We){var h=_e,Ve=_e;return We==null&&(We=_e),We["$[]="](!1,h=[["strong","unconstrained",Ge(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",Ke("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",Ke("CC_ALL"),"*?\\S)\\*(?!",Ke("CG_WORD"),")"],"m")],["double","constrained",Ge(["(^|[^",Ke("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',Ke("CC_ALL"),'*?\\S)`"(?!',Ke("CG_WORD"),")"],"m")],["single","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",Ke("CC_ALL"),"*?\\S)`'(?!",Ke("CG_WORD"),")"],"m")],["monospaced","unconstrained",Ge(["\\\\?(?:\\[([^\\]]+)\\])?``(",Ke("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ke("CC_ALL"),"*?\\S)`(?![",Ke("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",Ge(["\\\\?(?:\\[([^\\]]+)\\])?__(",Ke("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",Ke("CC_ALL"),"*?\\S)_(?!",Ke("CG_WORD"),")"],"m")],["mark","unconstrained",Ge(["\\\\?(?:\\[([^\\]]+)\\])?##(",Ke("CC_ALL"),"+?)##"],"m")],["mark","constrained",Ge(["(^|[^",Ke("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",Ke("CC_ALL"),"*?\\S)#(?!",Ke("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),We["$[]="](!0,Ve=h.$drop(0)),Ve["$[]="](2,["double","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",Ke("CC_ALL"),"*?\\S)''(?!",Ke("CG_WORD"),")"],"m")]),Ve["$[]="](3,["single","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ke("CC_ALL"),"*?\\S)'(?!",Ke("CG_WORD"),")"],"m")]),Ve["$[]="](4,["monospaced","unconstrained",Ge(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",Ke("CC_ALL"),"+?)\\+\\+"],"m")]),Ve["$[]="](5,["monospaced","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",Ke("CC_ALL"),"*?\\S)\\+(?!",Ke("CG_WORD"),")"],"m")]),Ve.$insert(3,["emphasis","constrained",Ge(["(^|[^",Ke("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",Ke("CC_ALL"),"*?\\S)'(?!",Ke("CG_WORD"),")"],"m")])})),M(Te[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[Ge(["(",Ke("CG_WORD"),")\\\\?--(?=",Ke("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[Ge(["(",Ke("CG_ALNUM"),")\\\\?'(?=",Ke("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),_e}(Ne[0],Ne),se.$require("asciidoctor.rb/../asciidoctor/core_ext"),se.$require("asciidoctor.rb/../asciidoctor/helpers"),se.$require("asciidoctor.rb/../asciidoctor/logging"),se.$require("asciidoctor.rb/../asciidoctor/rx"),se.$require("asciidoctor.rb/../asciidoctor/substitutors"),se.$require("asciidoctor.rb/../asciidoctor/version"),se.$require("asciidoctor.rb/../asciidoctor/abstract_node"),se.$require("asciidoctor.rb/../asciidoctor/abstract_block"),se.$require("asciidoctor.rb/../asciidoctor/attribute_list"),se.$require("asciidoctor.rb/../asciidoctor/block"),se.$require("asciidoctor.rb/../asciidoctor/callouts"),se.$require("asciidoctor.rb/../asciidoctor/converter"),se.$require("asciidoctor.rb/../asciidoctor/document"),se.$require("asciidoctor.rb/../asciidoctor/inline"),se.$require("asciidoctor.rb/../asciidoctor/list"),se.$require("asciidoctor.rb/../asciidoctor/parser"),se.$require("asciidoctor.rb/../asciidoctor/path_resolver"),se.$require("asciidoctor.rb/../asciidoctor/reader"),se.$require("asciidoctor.rb/../asciidoctor/section"),se.$require("asciidoctor.rb/../asciidoctor/stylesheets"),se.$require("asciidoctor.rb/../asciidoctor/table"),se.$require("asciidoctor.rb/../asciidoctor/writer"),se.$require("asciidoctor.rb/../asciidoctor/load"),se.$require("asciidoctor.rb/../asciidoctor/convert"),se.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),se.$require("asciidoctor.rb/../asciidoctor/timings"),se.$require("asciidoctor/js/postscript")});const X=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},xe=function(e){const U={};if(e){const M=e.$$smap;for(const G in M){const u=M[G];U[G]=u===Opal.nil?void 0:u}const q=e.$$map;if(q){const G=[];for(const u in q){const R=q[u],we=R.value,I=R.key-1;G[I]=we===Opal.nil?void 0:we}G.length>0&&(U.$positional=G)}}return U},Pe=function(e){const U={};if(e){const M=e.$$keys;for(const q in M){const G=M[q].value;U[q.toString()]=G===Opal.nil?void 0:G}}return U},fe=function(e){if(e=X(e),e){const U=e["$[]"]("converter");U&&U!==Opal.nil&&e["$[]="]("converter",Xe(U));const M=e["$[]"]("attributes");M&&typeof M=="object"&&M.constructor.name==="Object"&&(e=e.$dup(),e["$[]="]("attributes",X(M)))}return e},Xe=function(e){const U=function(ce){return Object.assign({},ce.basebackend?{basebackend:ce.basebackend}:{},ce.outfilesuffix?{outfilesuffix:ce.outfilesuffix}:{},ce.filetype?{filetype:ce.filetype}:{},ce.htmlsyntax?{htmlsyntax:ce.htmlsyntax}:{},ce.supports_templates?{supports_templates:ce.supports_templates}:{})},M=function(ce,m){ce.backend_traits?m.backend_traits=X(ce.backend_traits):ce.backendTraits?m.backend_traits=X(ce.backendTraits):(ce.basebackend||ce.outfilesuffix||ce.filetype||ce.htmlsyntax||ce.supports_templates)&&(m.backend_traits=X(U(ce)))},q=function(ce,m){we(ce,m,"$handles?","handles",function(){return!0})},G=function(ce,m){we(ce,m,"$composed","composed")},u=function(ce,m){we(ce,m,"$==","==",function(Ge){return m===Ge})},R=function(ce,m){we(ce,m,"$send","send",function(Ge){const[,...se]=Array.from(arguments),Ne=m["$"+Ge];if(Ne)return Ne.apply(m,se);throw new Error(`undefined method \`${Ge}\` for \`${m.toString()}\``)})},we=function(ce,m,Ge,se,Ne){typeof ce[Ge]>"u"&&(typeof ce[se]=="function"?m[Ge]=ce[se]:Ne&&(m[Ge]=Ne))},I=function(ce){typeof ce["$respond_to?"]!="function"&&(ce["$respond_to?"]=function(m){return typeof this[m]=="function"})};if(typeof e=="function"){const ce=Se(ot,e.constructor.name,{initialize:function(m,Ge){const se=this,Ne=new e(m,Ge);Object.assign(this,Ne),M(Ne,se);const _e=Object.getOwnPropertyNames(e.prototype);for(let ve=0;ve<_e.length;ve++){const st=_e[ve];st!=="constructor"&&(se[st]=Ne[st])}typeof Ne.$convert>"u"&&typeof Ne.convert=="function"&&(se.$convert=Ne.convert),q(Ne,se),G(Ne,se),I(se),se.super(m,Ge)}});return ce.$extend(lt),ce}if(typeof e=="object"){if(typeof e.$convert>"u"&&typeof e.convert=="function"&&(e.$convert=e.convert),M(e,e),e.backend_traits){const ce=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const m of ce)e["$"+m]=lt.prototype["$"+m];e.$$meta=lt}return q(e,e),G(e,e),u(e,e),R(e,e),I(e),e}return e};function Se(e,U,M,q,G){const u=Opal.klass(Opal.Object,e,U,function(){});let R,we,I;const ce={};for(const se in M)Object.prototype.hasOwnProperty.call(M,se)&&function(Ne){const _e=M[Ne];if(Ne==="postConstruct")R=_e;else if(Ne==="initialize")we=_e;else if(Ne==="constructor")I=_e;else{q&&Object.prototype.hasOwnProperty.call(q,Ne)&&(ce[Ne]=!0);let ve;Opal.def(u,"$"+Ne,ve=function(){let st;G&&Object.prototype.hasOwnProperty.call(G,Ne)?st=G[Ne](arguments):st=arguments;const Re=ve.$$p;return Re&&(st[st.length]=function(){return Opal.yield1(Re)},st.length+=1,ve.$$p=null),_e.apply(this,st)})}}(se);let m;typeof I=="function"?m=function(){const se=Array.from(arguments);for(let _e=0;_e<se.length;_e++)typeof se[_e]=="object"&&"$$smap"in se[_e]&&(se[_e]=xe(se[_e]));se.unshift(null);const Ne=new(Function.prototype.bind.apply(I,se));Object.assign(this,Ne),typeof R=="function"&&R.bind(this)()}:typeof we=="function"?m=function(){const se=Array.from(arguments);for(let Ne=0;Ne<se.length;Ne++)typeof se[Ne]=="object"&&"$$smap"in se[Ne]&&(se[Ne]=xe(se[Ne]));we.apply(this,se),typeof R=="function"&&R.bind(this)()}:m=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",m)),typeof R=="function"&&R.bind(this)()},Opal.def(u,"$initialize",m);let Ge;Opal.def(u,"super",Ge=function(se){if(typeof se=="function")Opal.send(this,Opal.find_super_dispatcher(this,se.name,se));else{const Ne=Array.from(arguments);for(let _e=0;_e<Ne.length;_e++)typeof Ne[_e]=="object"&&(Ne[_e]=X(Ne[_e]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",m),Ne)}});for(const se in M)Ge[se]=function(){const Ne=Array.from(arguments);for(let ve=0;ve<Ne.length;ve++)typeof Ne[ve]=="object"&&typeof Ne[ve].constructor=="function"&&Ne[ve].constructor.name==="Object"&&(Ne[ve]=X(Ne[ve]));const _e=u.$$prototype;return Opal.send(_e,Opal.find_super_dispatcher(_e,se,_e[`$${se}`]),Ne)};if(q)for(const se in q)Object.prototype.hasOwnProperty.call(q,se)&&!Object.prototype.hasOwnProperty.call(ce,se)&&function(Ne){const _e=q[Ne];Opal.def(u,"$"+Ne,function(){return _e.apply(this,arguments)})}(se);return u}const ke=Opal.Asciidoctor.$$class;ke.prototype.getCoreVersion=function(){return this.$$const.VERSION},ke.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},ke.prototype.convert=function(e,U){typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8"));const M=U&&U.to_file;typeof M=="object"&&M.constructor.name==="Writable"&&typeof M.write=="function"&&(M["$respond_to?"]=u=>u==="write",M.$object_id=()=>"",M.$write=function(u){this.write(u)});const q=fe(U),G=this.$convert(e,q);return typeof M=="object"&&M.constructor.name==="Writable"&&typeof M.end=="function"&&M.end(),G===Opal.nil?"":G},ke.prototype.convertFile=function(e,U){return this.$convert_file(e,fe(U))},ke.prototype.load=function(e,U){return typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8")),this.$load(e,fe(U))},ke.prototype.loadFile=function(e,U){return this.$load_file(e,fe(U))};const ye=Opal.Asciidoctor.AbstractBlock;ye.prototype.getContentModel=function(){const e=this.content_model;return e===Opal.nil?void 0:e},ye.prototype.setContentModel=function(e){this.content_model=e},ye.prototype.append=function(e){return this.$append(e),this},ye.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},ye.prototype.setTitle=function(e){return e=typeof e>"u"?Opal.nil:e,this["$title="](e)},ye.prototype.assignCaption=function(e,U){e=typeof e>"u"?Opal.nil:e,U=typeof U>"u"?null:U,this.$assign_caption(e,U)},ye.prototype.getCaptionedTitle=function(){return this.$captioned_title()},ye.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e},ye.prototype.setStyle=function(e){this.style=e},ye.prototype.getSourceLocation=function(){const e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){const U=this.file;return U===Opal.nil?void 0:U},e.getDirectory=function(){const U=this.dir;return U===Opal.nil?void 0:U},e.getPath=function(){const U=this.path;return U===Opal.nil?void 0:U},e.getLineNumber=function(){const U=this.lineno;return U===Opal.nil?void 0:U},e},ye.prototype.getCaption=function(){const e=this.$caption();return e===Opal.nil?void 0:e},ye.prototype.setCaption=function(e){this.caption=typeof e>"u"?Opal.nil:e},ye.prototype.getLevel=function(){const e=this.level;return e===Opal.nil?void 0:e},ye.prototype.getSubstitutions=function(){return this.subs},ye.prototype.hasSubstitution=function(e){return this["$sub?"](e)},ye.prototype.removeSubstitution=function(e){this.$remove_sub(e)},ye.prototype.hasBlocks=function(){return this.blocks.length>0},ye.prototype.getBlocks=function(){return this.blocks},ye.prototype.getContent=function(){const e=this.$content();return e===Opal.nil?void 0:e},ye.prototype.convert=function(){return this.$convert()},ye.prototype.findBy=function(e,U){return typeof U>"u"&&typeof e=="function"?Opal.send(this,"find_by",null,e):typeof U=="function"?Opal.send(this,"find_by",[X(e)],U):this.$find_by(X(e))},ye.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},ye.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},ye.prototype.getSections=function(){return this.$sections()},ye.prototype.getNumeral=function(){const e=this.$numeral();return e===Opal.nil?void 0:e},ye.prototype.setNumeral=function(e){this["$numeral="](e)},ye.prototype.hasTitle=function(){return this["$title?"]()},ye.prototype.getAlt=function(){return this.$alt()};const W=Opal.Asciidoctor.Section;W.create=function(e,U,M,q){return q&&q.attributes&&(q.attributes=X(q.attributes)),this.$new(e,U,M,X(q))},W.prototype.setLevel=function(e){this.level=e},W.prototype.getIndex=function(){return this.index},W.prototype.setIndex=function(e){this.index=e},W.prototype.getSectionName=function(){const e=this.sectname;return e===Opal.nil?void 0:e},W.prototype.setSectionName=function(e){this.sectname=e},W.prototype.getSectionNumeral=function(){return this.$sectnum()},W.prototype.getSectionNumber=W.prototype.getSectionNumeral,W.prototype.isSpecial=function(){return this.special},W.prototype.setSpecial=function(e){this.special=e},W.prototype.isNumbered=function(){return this.numbered},W.prototype.getCaption=function(){const e=this.caption;return e===Opal.nil?void 0:e},W.prototype.getName=function(){return this.getTitle()};const Me=Opal.Asciidoctor.Block;Me.create=function(e,U,M){return M&&M.attributes&&(M.attributes=X(M.attributes)),this.$new(e,U,X(M))},Me.prototype.getSource=function(){return this.$source()},Me.prototype.getSourceLines=function(){return this.lines};const Ue=Opal.Asciidoctor.AbstractNode;Ue.prototype.applySubstitutions=function(e,U){return this.$apply_subs(e,U)},Ue.prototype.resolveSubstitutions=function(e,U,M,q){typeof U>"u"&&(U="block"),typeof M>"u"&&(M=Opal.nil),typeof q>"u"&&(q=Opal.nil);const G=this.$resolve_subs(e,U,M,q);return G===Opal.nil?void 0:G},Ue.prototype.resolveBlockSubstitutions=function(e,U,M){return this.resolveSubstitutions(e,"block",U,M)},Ue.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},Ue.prototype.getNodeName=function(){return this.node_name},Ue.prototype.getAttributes=function(){return xe(this.attributes)},Ue.prototype.getAttribute=function(e,U,M){const q=this.$attr(e,U,M);return q===Opal.nil?void 0:q},Ue.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},Ue.prototype.isAttribute=function(e,U,M){return this["$attr?"](e,U,M)},Ue.prototype.setAttribute=function(e,U,M){return typeof M>"u"&&(M=!0),this.$set_attr(e,U,M)},Ue.prototype.removeAttribute=function(e){const U=this.$remove_attr(e);return U===Opal.nil?void 0:U},Ue.prototype.getDocument=function(){return this.document},Ue.prototype.getParent=function(){const e=this.parent;return e===Opal.nil?void 0:e},Ue.prototype.isInline=function(){return this["$inline?"]()},Ue.prototype.isBlock=function(){return this["$block?"]()},Ue.prototype.isRole=function(e){return this["$role?"](e)},Ue.prototype.getRole=function(){const e=this.$role();return e===Opal.nil?void 0:e},Ue.prototype.setRole=function(e){return Array.isArray(e)||typeof e=="string"&&arguments.length===1?this["$role="](e):this["$role="](Array.from(arguments))},Ue.prototype.hasRole=function(e){return this["$has_role?"](e)},Ue.prototype.getRoles=function(){return this.$roles()},Ue.prototype.addRole=function(e){return this.$add_role(e)},Ue.prototype.removeRole=function(e){return this.$remove_role(e)},Ue.prototype.isReftext=function(){return this["$reftext?"]()},Ue.prototype.getReftext=function(){const e=this.$reftext();return e===Opal.nil?void 0:e},Ue.prototype.getContext=function(){const e=this.context;return typeof e=="string"?e:e.toString()},Ue.prototype.getId=function(){const e=this.id;return e===Opal.nil?void 0:e},Ue.prototype.setId=function(e){this.id=e},Ue.prototype.isOption=function(e){return this["$option?"](e)},Ue.prototype.setOption=function(e){return this.$set_option(e)},Ue.prototype.getIconUri=function(e){return this.$icon_uri(e)},Ue.prototype.getMediaUri=function(e,U){return this.$media_uri(e,U)},Ue.prototype.getImageUri=function(e,U){return this.$image_uri(e,U)},Ue.prototype.getConverter=function(){return this.$converter()},Ue.prototype.readContents=function(e,U){return this.$read_contents(e,X(U))},Ue.prototype.readAsset=function(e,U){const M=this.$read_asset(e,X(U));return M===Opal.nil?void 0:M},Ue.prototype.normalizeWebPath=function(e,U,M){return this.$normalize_web_path(e,U,M)},Ue.prototype.normalizeSystemPath=function(e,U,M,q){return this.$normalize_system_path(e,U,M,X(q))},Ue.prototype.normalizeAssetPath=function(e,U,M){return this.$normalize_asset_path(e,U,M)};const Ie=Opal.Asciidoctor.Document;Ie.prototype.append=function(e){return this["$<<"](e),this},Ie.prototype.getSyntaxHighlighter=function(){const e=this.syntax_highlighter,U=e.__proto__;return U&&(typeof U["$highlight?"]=="function"&&(U.handlesHighlighting=function(){const M=U["$highlight?"]();return M===Opal.nil?!1:M}),typeof U["$docinfo?"]=="function"&&(U.hasDocinfo=U["$docinfo?"]),typeof U.$format=="function"&&(U.format=function(M,q,G){return this.$format(M,q,X(G))}),typeof U.$docinfo=="function"&&(U.docinfo=function(M,q,G){return this.$docinfo(M,q,X(G))})),e},Ie.prototype.getRefs=function(){return xe(this.catalog.$$smap.refs)},Ie.prototype.getImages=function(){return this.catalog.$$smap.images},Ie.prototype.getLinks=function(){return this.catalog.$$smap.links},Ie.prototype.hasFootnotes=function(){return this["$footnotes?"]()},Ie.prototype.getFootnotes=function(){return this.$footnotes()},Ie.prototype.getHeader=function(){return this.header},Ie.prototype.setAttribute=function(e,U){return this.$set_attribute(e,U)},Ie.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},Ie.prototype.convert=function(e){const U=this.$convert(X(e));return U===Opal.nil?"":U},Ie.prototype.write=function(e,U){return this.$write(e,U)},Ie.prototype.getAuthor=function(){return this.$author()},Ie.prototype.getSource=function(){return this.$source()},Ie.prototype.getSourceLines=function(){return this.$source_lines()},Ie.prototype.isNested=function(){return this["$nested?"]()},Ie.prototype.isEmbedded=function(){return this["$embedded?"]()},Ie.prototype.hasExtensions=function(){return this["$extensions?"]()},Ie.prototype.getDoctype=function(){return this.doctype},Ie.prototype.getBackend=function(){return this.backend},Ie.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},Ie.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},Ie.prototype.setTitle=function(e){return this["$title="](e)},Ie.prototype.getDocumentTitle=function(e){const U=this.$doctitle(X(e));return U===Opal.nil?void 0:U},Ie.prototype.getDoctitle=Ie.prototype.getDocumentTitle,Ie.prototype.getCatalog=function(){return xe(this.catalog)},Ie.prototype.getReferences=Ie.prototype.getCatalog,Ie.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},Ie.prototype.getRevdate=function(){return this.getRevisionDate()},Ie.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},Ie.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},Ie.prototype.setHeaderAttribute=function(e,U,M){return typeof M>"u"&&(M=!0),typeof U>"u"&&(U=""),this.$set_header_attribute(e,U,M)},Ie.prototype.getAuthors=function(){return this.$authors()};const He=Ie.Footnote;He.prototype.getIndex=function(){const e=this.$$data.index;return e===Opal.nil?void 0:e},He.prototype.getId=function(){const e=this.$$data.id;return e===Opal.nil?void 0:e},He.prototype.getText=function(){const e=this.$$data.text;return e===Opal.nil?void 0:e};const Ye=Ie.ImageReference;Ye.prototype.getTarget=function(){return this.$$data.target},Ye.prototype.getImagesDirectory=function(){const e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};const ze=Ie.Author;ze.prototype.getName=function(){const e=this.$$data.name;return e===Opal.nil?void 0:e},ze.prototype.getFirstName=function(){const e=this.$$data.firstname;return e===Opal.nil?void 0:e},ze.prototype.getMiddleName=function(){const e=this.$$data.middlename;return e===Opal.nil?void 0:e},ze.prototype.getLastName=function(){const e=this.$$data.lastname;return e===Opal.nil?void 0:e},ze.prototype.getInitials=function(){const e=this.$$data.initials;return e===Opal.nil?void 0:e},ze.prototype.getEmail=function(){const e=this.$$data.email;return e===Opal.nil?void 0:e},Ie.RevisionInfo=function(e,U,M){this.date=e,this.number=U,this.remark=M};const te=Ie.RevisionInfo;te.prototype.getDate=function(){return this.date},te.prototype.getNumber=function(){return this.number},te.prototype.getRemark=function(){return this.remark},te.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};const qe=Opal.Asciidoctor.SafeMode;qe.getValueForName=function(e){return this.$value_for_name(e)},qe.getNameForValue=function(e){const U=this.$name_for_value(e);return U===Opal.nil?void 0:U},qe.getNames=function(){return this.$names()};const Je=Opal.Asciidoctor.Callouts;Je.create=function(){return this.$new()},Je.prototype.register=function(e){return this.$register(e)},Je.prototype.readNextId=function(){return this.$read_next_id()},Je.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},Je.prototype.getLists=function(){const e=this.lists;if(e&&e.length>0)for(let U=0;U<e.length;U++){const M=e[U];if(M&&M.length>0)for(let q=0;q<M.length;q++)typeof M[q]=="object"&&"$$smap"in M[q]&&(M[q]=xe(M[q]))}return e},Je.prototype.getListIndex=function(){return this.list_index},Je.prototype.getCurrentList=function(){const e=this.$current_list();if(e&&e.length>0)for(let U=0;U<e.length;U++)typeof e[U]=="object"&&"$$smap"in e[U]&&(e[U]=xe(e[U]));return e},Je.prototype.nextList=function(){return this.$nextList()},Je.prototype.rewind=function(){return this.$rewind()},Ie.prototype.getRevisionInfo=function(){return new Ie.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},Ie.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},Ie.prototype.getNotitle=function(){return this.$notitle()},Ie.prototype.getNoheader=function(){return this.$noheader()},Ie.prototype.getNofooter=function(){return this.$nofooter()},Ie.prototype.hasHeader=function(){return this["$header?"]()},Ie.prototype.playbackAttributes=function(e){if(e=X(e),e){const U=e["$[]"]("attribute_entries");if(U&&Array.isArray(U)){const M=[];for(let q=0;q<U.length;q++){const G=U[q];G&&typeof G=="object"&&G.constructor.name==="Object"&&(G.$name=function(){return this.name},G.$value=function(){return this.value},G.$negate=function(){return this.negate}),M.push(G)}e["$[]="]("attribute_entries",M)}}this.$playback_attributes(e)},Ie.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},Ie.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},Ie.prototype.restoreAttributes=function(){return this.$restore_attributes()},Ie.prototype.parse=function(e){return this.$parse(e)},Ie.prototype.getDocinfo=function(e,U){return this.$docinfo(e,U)},Ie.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},Ie.prototype.incrementAndStoreCounter=function(e,U){return this.$increment_and_store_counter(e,U)},Ie.prototype.counterIncrement=Ie.prototype.incrementAndStoreCounter,Ie.prototype.counter=function(e,U){return this.$counter(e,U)},Ie.prototype.getSafe=function(){return this.safe},Ie.prototype.getCompatMode=function(){return this.compat_mode},Ie.prototype.getSourcemap=function(){const e=this.sourcemap;return e===Opal.nil?!1:e},Ie.prototype.setSourcemap=function(e){this.sourcemap=e},Ie.prototype.getCounters=function(){return xe(this.counters)},Ie.prototype.getCallouts=function(){return this.$callouts()},Ie.prototype.getBaseDir=function(){return this.base_dir},Ie.prototype.getOptions=function(){return xe(this.options)},Ie.prototype.getOutfilesuffix=function(){return this.outfilesuffix},Ie.prototype.getParentDocument=function(){const e=this.parent_document;return e===Opal.nil?void 0:e},Ie.prototype.getReader=function(){return this.reader},Ie.prototype.getConverter=function(){return this.converter},Ie.prototype.getExtensions=function(){const e=this.extensions;return e===Opal.nil?void 0:e};const Le=Ie.Title;Le.prototype.getMain=function(){return this.main},Le.prototype.getCombined=function(){return this.combined},Le.prototype.getSubtitle=function(){const e=this.subtitle;return e===Opal.nil?void 0:e},Le.prototype.isSanitized=function(){const e=this["$sanitized?"]();return e===Opal.nil?!1:e},Le.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const Ae=Opal.Asciidoctor.Inline;Ae.create=function(e,U,M,q){return this.$new(e,U,M,fe(q))},Ae.prototype.convert=function(){return this.$convert()},Ae.prototype.getText=function(){const e=this.$text();return e===Opal.nil?void 0:e},Ae.prototype.getType=function(){return this.$type()},Ae.prototype.getTarget=function(){const e=this.$target();return e===Opal.nil?void 0:e},Ae.prototype.getAlt=function(){return this.$alt()};const $e=Opal.Asciidoctor.List;$e.prototype.hasItems=function(){return this["$items?"]()},$e.prototype.getItems=function(){return this.blocks};const pe=Opal.Asciidoctor.ListItem;pe.prototype.getText=function(){return this.$text()},pe.prototype.setText=function(e){return this["$text="](e)},pe.prototype.hasText=function(){return this["$text?"]()},pe.prototype.getMarker=function(){return this.marker},pe.prototype.setMarker=function(e){this.marker=e},pe.prototype.getList=function(){return this.$list()},pe.prototype.getParent=pe.prototype.getList;const ae=Opal.Asciidoctor.Reader;ae.prototype.pushInclude=function(e,U,M,q,G){return this.$push_include(e,U,M,q,X(G))},ae.prototype.getCursor=function(){return this.$cursor()},ae.prototype.getLines=function(){return this.$lines()},ae.prototype.getString=function(){return this.$string()},ae.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},ae.prototype.isEmpty=function(){return this["$empty?"]()},ae.prototype.peekLine=function(e){e=e||!1;const U=this.$peek_line(e);return U===Opal.nil?void 0:U},ae.prototype.readLine=function(){const e=this.$read_line();return e===Opal.nil?void 0:e},ae.prototype.readLines=function(){return this.$read_lines()},ae.prototype.read=function(){return this.$read()},ae.prototype.advance=function(){return this.$advance()};const Fe=Opal.Asciidoctor.Reader.Cursor;Fe.prototype.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},Fe.prototype.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},Fe.prototype.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},Fe.prototype.getLineNumber=function(){return this.lineno};function ne(e,U){const M=Opal.const_get_qualified(Opal.Logger,"Formatter");return Se(M,e,U,{},{call:function(q){for(let G=0;G<q.length;G++)typeof q[G]=="object"&&"$$smap"in q[G]&&(q[G]=xe(q[G]));return q}})}function me(e,U){const M=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return Se(M,e,U,{},{add:function(q){if(q.length>=2&&typeof q[2]=="object"&&"$$smap"in q[2]){const G=q[2],u=xe(G);u.getText=function(){return this.text},u.getSourceLocation=function(){return this.source_location},u.$inspect=function(){const R=this.getSourceLocation();return R?R.getPath()+": line "+R.getLineNumber()+": "+this.getText():this.getText()},q[2]=u}return q.length>=1&&(q[1]=q[1]===Opal.nil?void 0:q[1]),q}})}const Q=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=Q,Q.getLogger=function(){return this.$logger()},Q.setLogger=function(e){this["$logger="](e)},Q.newLogger=function(e,U){return me(e,U).$new()},Q.newFormatter=function(e,U){return ne(e,U).$new()};const p=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=p,p.get=function(e){return p.$constants()[e]};const oe=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=oe,oe.prototype.call=function(e,U,M,q){return this.$call(p.get(e),U,M,q)};const T=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=T,T.create=function(){return this.$new()},T.prototype.getMessages=function(){const e=this.messages,U=[];for(let M=0;M<e.length;M++){const q=e[M],G=xe(q);typeof G.message=="string"?G.getText=function(){return this.message}:(G.message=xe(G.message),G.getText=function(){return this.message.text}),G.getSeverity=function(){return this.severity.toString()},G.getSourceLocation=function(){return this.message.source_location},U.push(G)}return U};const V=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=V,V.getLogger=function(){return Q.$logger()},V.createLogMessage=function(e,U){return V.prototype.$message_with_context(e,X(U))},ae.prototype.getLogger=V.getLogger,ae.prototype.createLogMessage=V.createLogMessage,Ue.prototype.getLogger=V.getLogger,Ue.prototype.createLogMessage=V.createLogMessage;const N=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=N,N.prototype.getMaxSeverity=function(){const e=this.max_severity;return e===Opal.nil?void 0:e},N.prototype.getFormatter=function(){return this.formatter},N.prototype.setFormatter=function(e){this.formatter=e},N.prototype.getLevel=function(){return this.level},N.prototype.setLevel=function(e){this.level=e},N.prototype.getProgramName=function(){return this.progname},N.prototype.setProgramName=function(e){this.progname=e};const Ce=Opal.const_get_qualified("::","Logger"),re=function(e,U,M){e["$"+U](M)};Ce.prototype.add=function(e,U,M){const q=typeof e=="string"?p[e.toUpperCase()]:e;this.$add(q,U,M)},Ce.prototype.log=Ce.prototype.add,Ce.prototype.debug=function(e){re(this,"debug",e)},Ce.prototype.info=function(e){re(this,"info",e)},Ce.prototype.warn=function(e){re(this,"warn",e)},Ce.prototype.error=function(e){re(this,"error",e)},Ce.prototype.fatal=function(e){re(this,"fatal",e)},Ce.prototype.isDebugEnabled=function(){return this["$debug?"]()},Ce.prototype.isInfoEnabled=function(){return this["$info?"]()},Ce.prototype.isWarnEnabled=function(){return this["$warn?"]()},Ce.prototype.isErrorEnabled=function(){return this["$error?"]()},Ce.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const L=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=L,L.create=function(){return this.$new()},L.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const d=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=d,d.create=function(){return this.$new()},d.prototype.printReport=function(e,U){let M;if(e)if(typeof e.$add=="function")M=function(q){e.$add(1,q)};else if(typeof e.log=="function")M=e.log;else if(typeof e.write=="function")M=function(q){e.write(q,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else M=function(q){Opal.gvars.stdout.$write(q)};U&&M("Input file: "+U),M(" Time to read and parse source: "+this.$read_parse().toFixed(2)),M(" Time to convert document: "+this.$convert().toFixed(2)),M(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const i=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=i,i.register=function(e,U){const M=typeof e=="string"?e:e[0];if(typeof U=="function"){const u=U.prototype,R=Object.getOwnPropertyNames(u);U={};for(const we in R){const I=R[we];U[I]=u[I]}}const q=Se(r,M,U,{},{format:function(G){return G.length>=2&&typeof G[2]=="object"&&"$$smap"in G[2]&&(G[2]=xe(G[2])),G.length>=1&&(G[1]=G[1]===Opal.nil?void 0:G[1]),G},highlight:function(G){if(G.length>=3&&typeof G[3]=="object"&&"$$smap"in G[3]){let u=G[3];u=xe(u);for(const R in u){const we=u[R];if(R==="callouts"){const I=Pe(we);for(const ce in I){const m=I[ce];for(let Ge=0;Ge<m.length;Ge++){const se=m[Ge];for(let Ne=0;Ne<se.length;Ne++)se[Ne]=se[Ne]===Opal.nil?void 0:se[Ne]}}u[R]=I}else u[R]=we===Opal.nil?void 0:we}G[3]=u}return G.length>=2&&(G[2]=G[2]===Opal.nil?void 0:G[2]),G}});for(const G in U)Object.prototype.hasOwnProperty.call(U,G)&&function(u){const R=U[u];u==="handlesHighlighting"?Opal.def(q,"$highlight?",function(){return R.call()}):u==="hasDocinfo"&&Opal.def(q,"$docinfo?",function(we){return R.apply(this,[we])})}(G);return Opal.def(q,"$name",function(){return M}),i.$register(q,e),q},i.get=function(e){const U=i.$for(e);return U===Opal.nil?void 0:U},i.for=i.get;const r=Opal.const_get_qualified(i,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=r,r.prototype.registerFor=function(e){i.$register(this,e)};const n=Opal.Asciidoctor.Table;n.create=function(e,U){return this.$new(e,X(U))},n.prototype.getCaption=function(){return this.caption},n.prototype.getRows=function(){return this.rows},n.prototype.getColumns=function(){return this.columns},n.prototype.getHeadRows=function(){return this.rows.head},n.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},n.prototype.getBodyRows=function(){return this.rows.body},n.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},n.prototype.getFootRows=function(){return this.rows.foot},n.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},n.prototype.hasHeaderOption=function(){return this.has_header_option},n.prototype.hasFooterOption=function(){return this.isOption("footer")},n.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},n.prototype.getRowCount=function(){return this.getAttribute("rowcount")},n.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},n.prototype.getColumnCount=function(){return this.getAttribute("colcount")},n.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};const $=Opal.Asciidoctor.Table.Rows;$.create=function(e,U,M){return this.$new(e,U,M)},$.prototype.getHead=function(){return this.head},$.prototype.getFoot=function(){return this.foot},$.prototype.getBody=function(){return this.body},$.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const o=Opal.Asciidoctor.Table.Column;o.create=function(e,U,M){return this.$new(e,U,X(M))},o.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},o.prototype.getWidth=function(){return this.getAttribute("width")},o.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},o.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},o.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e};const g=Opal.Asciidoctor.Table.Cell;g.create=function(e,U,M,q){return this.$new(e,U,X(M),X(q))},g.prototype.getColumnSpan=function(){const e=this.colspan;return e===Opal.nil?void 0:e},g.prototype.setColumnSpan=function(e){return this["$colspan="](e)},g.prototype.getRowSpan=function(){const e=this.rowspan;return e===Opal.nil?void 0:e},g.prototype.setRowSpan=function(e){return this["$rowspan="](e)},g.prototype.getContent=function(){return this.$content()},g.prototype.getText=function(){return this.$text()},g.prototype.getSource=function(){return this.$source()},g.prototype.getLines=function(){return this.$lines()},g.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},g.prototype.getFile=function(){const e=this.$file();return e===Opal.nil?void 0:e},g.prototype.getStyle=function(){const e=this.$style();return e===Opal.nil?void 0:e},g.prototype.getColumn=function(){const e=this.$column();return e===Opal.nil?void 0:e},g.prototype.getWidth=function(){return this.getAttribute("width")},g.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},g.prototype.getInnerDocument=function(){const e=this.inner_document;return e===Opal.nil?void 0:e};const y=Opal.Asciidoctor.Converter.TemplateConverter;if(y){Opal.Asciidoctor.TemplateConverter=y,y.create=function(U,M,q){q&&q.template_cache&&(q.template_cache=X(q.template_cache)),this.$new(U,M,X(q))},y.getCache=function(){const U=xe(this.caches);if(U){if(U.scans){U.scans=xe(U.scans);for(const M in U.scans)U.scans[M]=xe(U.scans[M])}U.templates&&(U.templates=xe(U.templates))}return U},y.clearCache=function(){this.$clear_caches()},y.prototype.convert=function(U,M,q){return this.$convert(U,M,X(q))},y.prototype.handles=function(U){return this["$handles?"](U)},y.prototype.getContentOnly=function(U){return this.$content_only(U)},y.prototype.skip=function(U){this.$skip(U)},y.prototype.getTemplates=function(){return xe(this.$templates())},y.prototype.register=function(U,M){return this.$register(U,M)};const e={};e.registry={},Opal.Asciidoctor.TemplateEngine=e,e.register=function(U,M){if(typeof U=="string")this.registry[U]=M;else for(let q=0;q<U.length;q++){const G=U[q];this.registry[G]=M}}}const P=Opal.Asciidoctor.Converter.CompositeConverter;P&&(Opal.Asciidoctor.CompositeConverter=P,P.prototype.convert=function(e,U,M){return this.$convert(e,U,X(M))},P.prototype.getContentOnly=function(e){return this.$content_only(e)},P.prototype.skip=function(e){this.$skip(e)},P.prototype.getConverters=function(){return this.converters},P.prototype.getConverter=function(e){const U=this.$converter_for(e);return U===Opal.nil?void 0:U},P.prototype.findConverter=function(e){return this.$find_converter(e)});const be=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=be,be.prototype.convert=function(e,U,M){return this.$convert(e,U,X(M))},be.create=function(e,U){return this.$create(e,X(U))};const tt=Opal.Asciidoctor.Converter.Factory,ot=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=tt;const lt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=lt,tt.register=function(e,U){const M=[Xe(e)].concat(U);return be.$register.apply(be,M)},tt.getDefault=function(e){return this.$default(e)},tt.prototype.create=function(e,U){return this.$create(e,X(U))},tt.getRegistry=function(){return xe(be.$registry())},tt.for=function(e){const U=be.$for(e);return U===Opal.nil?void 0:U},tt.unregisterAll=function(){const e=be.DefaultFactory.$$cvars["@@registry"];be.DefaultFactory.$$cvars["@@registry"]=X({html5:e["$[]"]("html5")})};const vt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=vt,vt.create=function(){return this.$new()},vt.prototype.convert=function(e,U,M){return this.$convert(e,U,M)};const _t=function(e){return e.$$arity=e.length,e},bt=function(e,U,M,q){return typeof M=="object"||M.$$is_class?e["$"+U](M,q):Opal.send(e,U,q&&[q],_t(M))},pt=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=pt,pt.create=function(e,U){return typeof e=="function"&&typeof U>"u"?Opal.send(this,"create",null,_t(e)):typeof U=="function"?Opal.send(this,"create",[e],_t(U)):this.$create()},pt.register=function(e,U){return typeof e=="function"&&typeof U>"u"?Opal.send(this,"register",null,_t(e)):Opal.send(this,"register",[e],_t(U))},pt.getGroups=function(){return xe(this.$groups())},pt.unregisterAll=function(){this.$unregister_all()},pt.unregister=function(){const e=Array.prototype.concat.apply([],arguments),U=this.$groups(),M={};let q=0;const G=U.$$keys;for(;q<G.length;q++){const u=G[q];M[u.toString()]=u}for(let u=0;u<e.length;u++){const R=e[u];R in M&&Opal.hash_delete(U,M[R])}};const gt=pt.Registry;gt.prototype.getGroups=pt.getGroups,gt.prototype.unregisterAll=function(){this.groups=Opal.hash()},gt.prototype.unregister=pt.unregister,gt.prototype.prefer=function(e,U){return arguments.length===1&&(U=e,e=null),typeof U=="object"||U.$$is_class?this.$prefer(e,U):Opal.send(this,"prefer",e&&[e],_t(U))},gt.prototype.block=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"block",U,e)},gt.prototype.inlineMacro=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"inline_macro",U,e)},gt.prototype.includeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"include_processor",U,e)},gt.prototype.blockMacro=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"block_macro",U,e)},gt.prototype.treeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"tree_processor",U,e)},gt.prototype.postprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"postprocessor",U,e)},gt.prototype.preprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"preprocessor",U,e)},gt.prototype.docinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"docinfo_processor",U,e)},gt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},gt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},gt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},gt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},gt.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},gt.prototype.hasBlocks=function(){return this["$blocks?"]()},gt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},gt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},gt.prototype.getPreprocessors=function(){return this.$preprocessors()},gt.prototype.getTreeProcessors=function(){return this.$tree_processors()},gt.prototype.getIncludeProcessors=function(){return this.$include_processors()},gt.prototype.getPostprocessors=function(){return this.$postprocessors()},gt.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},gt.prototype.getBlocks=function(){return this.block_extensions.$values()},gt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},gt.prototype.getInlineMacros=function(){return this.$inline_macros()},gt.prototype.getInlineMacroFor=function(e){const U=this["$registered_for_inline_macro?"](e);return U===!1?void 0:U},gt.prototype.getBlockFor=function(e,U){if(typeof U>"u"){const q=this.$find_block_extension(e);return q===Opal.nil?void 0:q}const M=this["$registered_for_block?"](e,U);return M===!1?void 0:M},gt.prototype.getBlockMacroFor=function(e){const U=this["$registered_for_block_macro?"](e);return U===!1?void 0:U};const mt=pt.Processor;mt.prototype.prepend=function(){this.$option("position",">>")},mt.prototype.process=function(e){const U={apply:function(q,G,u){for(let R=0;R<u.length;R++)typeof u[R]=="object"&&"$$smap"in u[R]&&(u[R]=xe(u[R]));return q.apply(G,u)}},M=new Proxy(e,U);return Opal.send(this,"process",null,_t(M))},mt.prototype.named=function(e){return this.$named(e)},mt.prototype.createBlock=function(e,U,M,q,G){return this.$create_block(e,U,M,X(q),X(G))},mt.prototype.createList=function(e,U,M){return this.$create_list(e,U,X(M))},mt.prototype.createListItem=function(e,U){return this.$create_list_item(e,U)},mt.prototype.createImageBlock=function(e,U,M){return this.$create_image_block(e,X(U),X(M))},mt.prototype.createParagraph=function(e,U,M,q){return this.$create_paragraph(e,U,X(M),X(q))},mt.prototype.createOpenBlock=function(e,U,M,q){return this.$create_open_block(e,U,X(M),X(q))},mt.prototype.createExampleBlock=function(e,U,M,q){return this.$create_example_block(e,U,X(M),X(q))},mt.prototype.createPassBlock=function(e,U,M,q){return this.$create_pass_block(e,U,X(M),X(q))},mt.prototype.createListingBlock=function(e,U,M,q){return this.$create_listing_block(e,U,X(M),X(q))},mt.prototype.createLiteralBlock=function(e,U,M,q){return this.$create_literal_block(e,U,X(M),X(q))},mt.prototype.createAnchor=function(e,U,M){return M&&M.attributes&&(M.attributes=X(M.attributes)),this.$create_anchor(e,U,X(M))},mt.prototype.createInlinePass=function(e,U,M){return M&&M.attributes&&(M.attributes=X(M.attributes)),this.$create_inline_pass(e,U,X(M))},mt.prototype.createInline=function(e,U,M,q){return q&&q.attributes&&(q.attributes=X(q.attributes)),this.$create_inline(e,U,M,X(q))},mt.prototype.parseContent=function(e,U,M){return this.$parse_content(e,U,X(M))},mt.prototype.parseAttributes=function(e,U,M){return M&&M.attributes&&(M.attributes=X(M.attributes)),xe(this.$parse_attributes(e,U,X(M)))},mt.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},mt.prototype.resolveAttributes=function(e){return typeof e=="object"&&!Array.isArray(e)?this.$resolves_attributes(X(e)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof e>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e)},mt.prototype.resolvesAttributes=mt.prototype.resolveAttributes,mt.prototype.getConfig=function(){return xe(this.config)},mt.prototype.option=function(e,U){this.$option(e,U)};const Qe=pt.BlockProcessor;Qe.prototype.defaultAttributes=function(e){this.$default_attributes(X(e))},Qe.prototype.onContext=function(e){return this.$on_context(e)},Qe.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Qe.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},Qe.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const le=pt.BlockMacroProcessor;le.prototype.defaultAttributes=function(e){this.$default_attributes(X(e))},le.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},le.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const ge=pt.InlineMacroProcessor;ge.prototype.defaultAttributes=function(e){this.$default_attributes(X(e))},ge.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},ge.prototype.parseContentAs=function(e){this.$parse_content_as(e)},ge.prototype.matchFormat=function(e){this.$match_format(e)},ge.prototype.match=function(e){this.$match(e)};const De=pt.IncludeProcessor;De.prototype.handles=function(e){return Opal.send(this,"handles?",null,_t(e))},De.prototype.prefer=function(){this.$prefer()};const f=pt.TreeProcessor;f.prototype.prefer=function(){this.$prefer()};const w=pt.Postprocessor;w.prototype.prefer=function(){this.$prefer()};const Z=pt.Preprocessor;Z.prototype.prefer=function(){this.$prefer()};const de=pt.DocinfoProcessor;de.prototype.prefer=function(){this.$prefer()},de.prototype.atLocation=function(e){this.$at_location(e)};function je(e,U,M){const q=Opal.const_get_qualified(pt,e);return Se(q,U,M,{"handles?":function(){return!0}})}pt.createPostprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("Postprocessor",e,U)},pt.newPostprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createPostprocessor(e,U).$new()},pt.createPreprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("Preprocessor",e,U)},pt.newPreprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createPreprocessor(e,U).$new()},pt.createTreeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("TreeProcessor",e,U)},pt.newTreeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createTreeProcessor(e,U).$new()},pt.createIncludeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("IncludeProcessor",e,U)},pt.newIncludeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createIncludeProcessor(e,U).$new()},pt.createDocinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("DocinfoProcessor",e,U)},pt.newDocinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createDocinfoProcessor(e,U).$new()},pt.createBlockProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("BlockProcessor",e,U)},pt.newBlockProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createBlockProcessor(e,U).$new()},pt.createInlineMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("InlineMacroProcessor",e,U)},pt.newInlineMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createInlineMacroProcessor(e,U).$new()},pt.createBlockMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),je("BlockMacroProcessor",e,U)},pt.newBlockMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createBlockMacroProcessor(e,U).$new()};var nt="3.0.4";return Opal.Asciidoctor.prototype.getVersion=function(){return nt},Opal.Asciidoctor}const fr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),_r=ar(fr);var Qt,nr;function dr(){return nr||(nr=1,Qt=_r),Qt}var hr=dr();const pr=sr(hr);var mr=$r();const Ot=sr(mr);function ir(s,X){const xe=s.split(`
`),Pe=new Array;let fe=!1;for(const Xe of xe){const Se=Xe.trim();if(Se.startsWith("////")){fe=!fe;continue}else{if(fe)continue;if(Se.startsWith("//"))continue}const ke=Se.replace(new RegExp(`_${X}:`),":");if(ke.startsWith(":nopass-")||ke==="")Pe.push(ke.replace("nopass-",""));else{const ye=ke.replace(/^:(.+?): (.*?)$/,":$1: pass:q[$2"),W=ye.endsWith(" + \\")?ye:`${ye}]`;Pe.push(W)}}return Pe.join(`
`)}function gr(s){let X=s;for(;!(X instanceof HTMLTableRowElement);){if(X==null)throw new Error("Misplaced row element");X=X.parentElement}return X}function vr(s){const X=document.createElement("th");X.innerHTML=s.innerHTML;for(const xe of s.attributes)X.setAttribute(xe.name,xe.value);s.replaceWith(X)}function br(s){const xe=new DOMParser().parseFromString(s,"text/html"),Pe=xe.querySelectorAll("table");for(const fe of Pe)for(;;){const Xe=fe.querySelector("tbody .table-header, tbody .sub-header");if(Xe==null)break;const Se=gr(Xe);if(Se==null)throw new Error("missing row");let ke=fe.querySelector("thead");const ye=fe.querySelector("tbody");if(ye==null)throw new Error("missing tbody");ke==null&&(ke=document.createElement("thead"),fe.insertBefore(ke,ye));for(const W of Se.querySelectorAll("td"))vr(W);ke.appendChild(Se)}return xe.body.innerHTML}const yr=pr();function xr({number:s,language:X="en",onContentReady:xe}){const[Pe,fe]=Ot.useState("");Ot.useEffect(()=>{async function Se(){const[ke,ye,W]=await Promise.all([rr(Object.assign({"../../translation/Chapter1/Chapter1.adoc":()=>zt(()=>import("./Chapter1-CxxHUZ5e.js"),[],import.meta.url),"../../translation/Chapter10/Chapter10.adoc":()=>zt(()=>import("./Chapter10-Dk5BnY99.js"),[],import.meta.url),"../../translation/Chapter11/Chapter11.adoc":()=>zt(()=>import("./Chapter11-Dk5BnY99.js"),[],import.meta.url),"../../translation/Chapter2/Chapter2.adoc":()=>zt(()=>import("./Chapter2-BWe103jy.js"),[],import.meta.url),"../../translation/Chapter3/Chapter3.adoc":()=>zt(()=>import("./Chapter3-CuHRCZ1R.js"),[],import.meta.url),"../../translation/Chapter4/Chapter4.adoc":()=>zt(()=>import("./Chapter4-BXGeWti5.js"),[],import.meta.url),"../../translation/Chapter5/Chapter5.adoc":()=>zt(()=>import("./Chapter5-2AsG4bs0.js"),[],import.meta.url),"../../translation/Chapter6/Chapter6.adoc":()=>zt(()=>import("./Chapter6-jfmUDnju.js"),[],import.meta.url),"../../translation/Chapter7/Chapter7.adoc":()=>zt(()=>import("./Chapter7-LpYqEPVy.js"),[],import.meta.url),"../../translation/Chapter8/Chapter8.adoc":()=>zt(()=>import("./Chapter8-BpXXenki.js"),[],import.meta.url),"../../translation/Chapter9/Chapter9.adoc":()=>zt(()=>import("./Chapter9-Dk5BnY99.js"),[],import.meta.url)}),`../../translation/Chapter${s}/Chapter${s}.adoc`,5),rr(Object.assign({"../../translation/Chapter1/attributes.adoc":()=>zt(()=>import("./attributes-F0IF-vGu.js"),[],import.meta.url),"../../translation/Chapter10/attributes.adoc":()=>zt(()=>import("./attributes-Dk5BnY99.js"),[],import.meta.url),"../../translation/Chapter11/attributes.adoc":()=>zt(()=>import("./attributes-CP40-rNo.js"),[],import.meta.url),"../../translation/Chapter2/attributes.adoc":()=>zt(()=>import("./attributes-BuVvwR_B.js"),[],import.meta.url),"../../translation/Chapter3/attributes.adoc":()=>zt(()=>import("./attributes-DnltRtDE.js"),[],import.meta.url),"../../translation/Chapter4/attributes.adoc":()=>zt(()=>import("./attributes-BmwhGET-.js"),[],import.meta.url),"../../translation/Chapter5/attributes.adoc":()=>zt(()=>import("./attributes-C0S-o5Le.js"),[],import.meta.url),"../../translation/Chapter6/attributes.adoc":()=>zt(()=>import("./attributes-BEr43O7j.js"),[],import.meta.url),"../../translation/Chapter7/attributes.adoc":()=>zt(()=>import("./attributes-CZWQ2-WP.js"),[],import.meta.url),"../../translation/Chapter8/attributes.adoc":()=>zt(()=>import("./attributes-BMjd5Z0c.js"),[],import.meta.url),"../../translation/Chapter9/attributes.adoc":()=>zt(()=>import("./attributes-C-9dbGaC.js"),[],import.meta.url)}),`../../translation/Chapter${s}/attributes.adoc`,5),zt(()=>import("./CommonAttributes-c9zP-UwA.js"),[],import.meta.url)]),Me=ke.default,Ue=ye.default,Ie=W.default,He=ir(Ue,X),ze=[ir(Ie,X),He,Me].join(`
`),te=yr.convert(ze,{attributes:{rootRef:"/caighdean-bearla/"}});fe(te)}Se()},[s,X]),Ot.useLayoutEffect(()=>{Pe!==""&&xe()},[Pe,xe]);const Xe=br(Pe);return or.jsx("div",{dangerouslySetInnerHTML:{__html:Xe}})}export{xr as C};
